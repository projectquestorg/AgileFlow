---
title: إعدادات
description: الدليل الكامل لنظام تكوين AgileFlow - 9 وكلاء لتخصيص سير عمل التطوير الخاص بك
---
#نظام التكوين

يوفر نظام التكوين الخاص بـ AgileFlow 9 وكلاء متخصصين يقومون بإعداد وتخصيص والتحقق من كل جانب من جوانب سير عمل التطوير الخاص بك. يمكنك الوصول إليها من خلال `/agileflow:configure`.

## بداية سريعة

__لا تترجم_0__

## وكلاء التكوين التسعة

| الوكيل | الغرض | الميزة الرئيسية |
|-------|---------|-------------|
| **جيت التكوين** | تهيئة git وrepos عن بعد | دعم SSH/HTTPS |
| **خطافات** | أتمتة تعتمد على الأحداث | بدء الجلسة، ضغط مسبق، إيقاف |
| **مضغوط** | حفظ السياق | ينجو من ضغط المحادثة |
| **سطر الحالة** | شريط الحالة المخصص | القصة، WIP، عرض السياق |
| **ارشيفية** | الإدارة التلقائية للحالة.json | التنظيف على أساس العتبة |
| **الإسناد** | سياسة الالتزام Git | التحكم في كشف الذكاء الاصطناعي |
| **سي** | سير عمل CI/CD | إجراءات جيثب، جيتلاب، سيركلسي |
| **السيطرة على الأضرار** | حماية الأوامر المدمرة | الحجب على أساس النمط |
| **تحقق** | تكوينات الاختبار | إدارة الرمز المميز |

## أمر الإعداد الموصى به

__لا تترجم_1__

---

## تفاصيل الوكيل

### 1. تكوين البوابة

**الغرض:** تهيئة مستودع git والاتصال بجهاز التحكم عن بعد (GitHub، GitLab، وما إلى ذلك)

**ماذا يفعل:**
- تهيئة مستودع git إذا لزم الأمر
- تكوين عنوان URL البعيد (SSH أو HTTPS)
- التحقق من الاتصال عن بعد
- مخازن التكوين في البيانات الوصفية

**الخيارات:**
__لا تترجم_2__

**الملفات المعدلة:**
- `.git/` - مستودع Git
- `docs/00-meta/agileflow-metadata.json` - تم تخزين تكوين Git
- `.claude/settings.local.json` - الرموز المميزة (إذا لزم الأمر)

---

### 2. نظام الخطافات

**الغرض:** تمكين الأتمتة المستندة إلى الأحداث من خلال خطافات Claude Code

**الخطافات المتاحة:**
- **SessionStart** - معلومات الترحيب عند بدء تشغيل Claude Code
- **PreCompact** - الحفاظ على السياق قبل الضغط
- **توقف** - ملخص الجلسة عندما يتوقف كلود
- **UserPromptSubmit** - تسجيل النشاط

**الخيارات:**
__لا تترجم_3__

**الملفات التي تم إنشاؤها:**
- `.claude/settings.json` - تكوين الخطاف
- `scripts/agileflow-welcome.js` - البرنامج النصي SessionStart
- `scripts/precompact-context.sh` - البرنامج النصي PreCompact
- __لاترجمةTE_25__ - إيقاف البرنامج النصي للربط

**هام:** يتطلب إعادة تشغيل Claude Code حتى تدخل الخطافات حيز التنفيذ.

---

### 3. التكوين المسبق

**الغرض:** الحفاظ على سياق المشروع المهم عندما يقوم كلود كود بضغط المحادثات

**الفوائد:**
- تصمد اتفاقيات المشروع عند الضغط
- الحفاظ على قواعد الأمر النشط
- تم الحفاظ على القصة الحالية وحالة العمل قيد التقدم
- اتفاقيات الفريق لا تضيع

**مثال على الإخراج أثناء الضغط:**
__لا تترجم_4__

**يتطلب:** تكوين نظام الخطافات أولاً

---

### 4. تكوين خط الحالة

**الغرض:** تكوين شريط حالة مخصص في Claude Code

**المكونات المتوفرة:**
- معرف القصة الحالية والعنوان
- تقدم ملحمي (قصص X/Y)
- عدد WIP مقابل حد WIP
- نسبة استخدام السياق
- تكلفة الجلسة بالدولار الأمريكي
- اسم فرع جيت

**مثال لخطوط الحالة:**
__لا تترجم_5__

**الخيارات:**
__لا تترجم_6__

**هام:** يتطلب إعادة تشغيل Claude Code.

---

### 5. التكوين الأرشيفي

**الغرض:** إدارة حجم ملف Status.json تلقائيًا

**لماذا يهم:**
- يمكن أن يتجاوز Status.json حد الرمز المميز البالغ 25 ألفًا
- عندما يكون حجمه كبيرًا جدًا، لا يستطيع الوكلاء قراءته
- الأرشفة التلقائية تمنع ذلك بصمت

**خيارات العتبة:**
- **30 يومًا** (موصى به) - التوازن بين السياق والتاريخ
- **14 يومًا** - مشاريع سريعة الحركة
- **7 أيام** - فرق كبيرة لها العديد من القصص
- **3 أيام** - عدواني للغاية، مع الحد الأدنى من حالة json

**هيكل الأرشيف:**
__لا تترجم_7__

**الأوامر اليدوية:**
__لا تترجم_8__

---

### 6. تكوين الإسناد

**الغرض:** تكوين تفضيلات إسناد التزام git

**الخيارات:**
- **بدون إسناد** (مستحسن): الالتزامات النظيفة دون ذكر الذكاء الاصطناعي
- **الاحتفاظ بالإسناد** (افتراضي): قم بتضمين تذييل كود كلود

**مثال على CLAUDE.md مع الإسناد المعطل:**
__لا تترجم_9__

---

### 7. تكوين CI/CD

**الغرض:** إعداد عمليات سير عمل التكامل المستمر

** مقدمي الخدمات المدعومة: **
- إجراءات جيثب (`.github/workflows/ci.yml`)
- GitLab CI (`.gitlab-ci.yml`)
- سيركلسي (`.circleci/config.yml`)

**الأوامر القابلة للتكوين:**
- التثبيت يعتمدcies
- تشغيل الاختبارات
- تشغيل لينتر
- تشغيل مدقق النوع
- بناء المشروع

**الخيارات:**
__لا تترجم_10__

---

### 8. تكوين التحكم في الأضرار

**الغرض:** حماية قاعدة التعليمات البرمجية الخاصة بك من الأوامر المدمرة

راجع [التحكم في الأضرار](/docs/features/damage-control) للحصول على الوثائق الكاملة.

**مستويات الحماية:**
- **قياسي** - مطابقة سريعة للأنماط، أكثر من 40 نمطًا
- **المحسنة** - التقييم القياسي + الذكاء الاصطناعي
- **الحد الأدنى** - حماية المسار فقط

**الخيارات:**
__لا تترجم_11__

---

### 9. وكيل التحقق

**الغرض:** اختبار التكوينات والتحقق من صحتها بشكل صحيح

**ما يثبت:**
- بناء جملة ملف JSON (الإعدادات، البيانات الوصفية)
- ربط تنفيذ البرنامج النصي
- بناء جملة سير العمل YAML
- أوامر CI (الاختبار المحلي)
- اتصالات عن بعد

** إدارة الرمز المميز: **
- تخزين الرموز المميزة في `.claude/settings.local.json` (gitignored)
- يدعم رموز GitHub وGitLab وCircleCI
- عدم تكرار الرموز المميزة مطلقًا لوحدة التحكم

---

## تنظيم الملف

__لا تترجم_12__

## قواعد جيتينيور

**ملتزم (تكوين الفريق):**
- __غير مترجم_30__
- __لا تترجم_31__
- __غير مترجم_32__
- __غير مترجم_33__
- __غير مترجم_34__
- __غير مترجم_35__

**تم تجاهله (خاص بالمستخدم):**
- __غير مترجم_36__
- __غير مترجم_37__
- __غير مترجم_38__

## مرجع الرمز المميز

### رمز جيثب (ghp_xxx)
- **الموقع:** `.claude/settings.local.json`
- **النطاقات المطلوبة:** `repo`، `workflow`
- **إنشاء على:** https://github.com/settings/tokens/new

### رمز GitLab (glpat_xxx)
- **الموقع:** `.claude/settings.local.json`
- **النطاقات المطلوبة:** `api`، `read_repository`، `write_repository`
- **إنشاء على:** https://gitlab.com/-/profile/personal_access_tokens

### رمز CircleCI
- **الموقع:** `.claude/settings.local.json`
- **إنشاء على:** https://app.circleci.com/settings/user/tokens

## استكشاف الأخطاء وإصلاحها

| مشكلة | السبب | الحل |
|---------|-------|---------|
| التكوين لا يسري | لم تتم إعادة تشغيل كلود كود | قم بإنهاء (Cmd+Q) وأعد تشغيل |
| فشل مصادقة الرمز المميز | رمز منتهي الصلاحية/غير صالح | تجديد في المزود |
| خطأ في بناء جملة YAML | ملف سير العمل غير صالح |التحقق من صحة مع ياملينت |
| Status.json كبير جدًا | يتجاوز حد الرمز المميز | تمكين الأرشفة (3-7 أيام) |
| الخطافات لا تعمل | settings.json غير صالح | تحقق من JSON باستخدام `jq` |
| سطر الحالة مفقود | البرنامج النصي غير قابل للتنفيذ | __غير مترجم_48__ |

### متطلبات إعادة التشغيل

يتطلب هؤلاء الوكلاء **إعادة تشغيل Claude Code**:
- خطافات
- مدمج مسبقًا
- خط الحالة
- السيطرة على الأضرار

__لا تترجم_13__

### التراجع

__لا تترجم_14__

## السيناريوهات الشائعة

### إعداد مشروع جديد
__لا تترجم_15__

### إضافة CI/CD
__لا تترجم_16__

### الأمثل للمشاريع الكبيرة
__لا تترجم_17__