---
title: Integraciones IDE
description: Instale y configure AgileFlow para Claude Code, Cursor, Windsurf o Codex CLI.
---

# Integraciones IDE

AgileFlow admite múltiples IDE a través de un sistema de instalación unificado. Cada IDE tiene su propio directorio de configuración y admite diferentes funciones. Este documento cubre la instalación, configuración y uso de todos los IDE compatibles.

## IDE compatibles

AgileFlow actualmente admite cuatro IDE:

| IDE | Config Dir | Type | Status | Recommended |
|-----|------------|------|--------|-------------|
| **Claude Code** | `.claude/` | AI Code Editor | Fully supported | Yes |
| **Cursor** | `.cursor/` | VSCode fork | Fully supported | Yes |
| **Windsurf** | `.windsurf/` | VSCode fork | Fully supported | Yes |
| **OpenAI Codex CLI** | `.codex/` | CLI tool | Fully supported | - |

## Inicio rápido

### Instalación para Claude Code (predeterminado)

Claude Code es el IDE predeterminado y el punto de partida recomendado:

```bash
# Install AgileFlow with Claude Code support
npx agileflow setup

# Or specify Claude Code explicitly
npx agileflow setup --ide claude-code
```

Esto crea:
- `.claude/commands/agileflow/` - Todos los comandos y agentes.
- `.claude/agents/agileflow/` - Subagentes generables
- `.claude/skills/` - Directorio de habilidades generadas por el usuario.
- `.claude/hooks/damage-control/` - Sistema de seguridad (opcional)

### Instalación para múltiples IDE

Instale AgileFlow para múltiples IDE de una sola vez:

```bash
# Setup for Cursor and Windsurf
npx agileflow setup --ide cursor,windsurf

# Setup for all IDEs
npx agileflow setup --ide all
```

## Detalles de configuración IDE

### Código Claude

Claude Code es el IDE principal con la integración más avanzada.

#### Estructura del directorio

```
.claude/
├── commands/
│   └── agileflow/              # AgileFlow commands
│       ├── board.md
│       ├── babysit.md
│       ├── agents/             # Subcommand: agents
│       │   ├── adr-writer.md
│       │   ├── api.md
│       │   └── ...
│       └── session/             # Subcommand: session
│           ├── start.md
│           └── end.md
├── agents/
│   └── agileflow/              # Spawnable subagents
│       ├── adr-writer.md
│       ├── api.md
│       └── ...
├── skills/                      # User-generated skills
│   ├── supabase-swift/
│   │   ├── SKILL.md
│   │   ├── references.md
│   │   └── cookbook/
│   └── ...
├── hooks/
│   └── damage-control/          # Safety system
│       ├── bash-tool-damage-control.js
│       ├── edit-tool-damage-control.js
│       ├── write-tool-damage-control.js
│       └── patterns.yaml
└── settings.json                # Claude Code configuration
```

#### Acceso al comando

Acceda a los comandos en Claude Code usando la sintaxis de barra diagonal:

```
# Main commands
/agileflow:board
/agileflow:babysit
/agileflow:mentor

# Agent subcommands
/agileflow:agents:adr-writer
/agileflow:agents:api

# Session commands
/agileflow:session:start
/agileflow:session:end
```

#### Desove de subagente

Los agentes también están disponibles como subagentes que se pueden generar para la herramienta Tarea:

```python
# In your Claude Code task/workflow
task = Task(
    description="Write an ADR for authentication",
    subagent_type="agileflow-adr-writer"  # Spawns .claude/agents/agileflow/adr-writer.md
)
```

#### Control de Daños (Sistema de Seguridad)

Claude Code incluye opcional **Damage Control** ganchos para seguridad:

```bash
# Enable damage control during setup
npx agileflow setup --damage-control
```

Esto crea:
- `.claude/hooks/damage-control/` - Guiones de validación de seguridad.
- `.claude/settings.json` con configuración de gancho PreToolUse
- Bloquea comandos bash peligrosos antes de su ejecución
- Protege archivos confidenciales contra una eliminación accidental

Ver [Control de daños](/features/damage-control) para más detalles.

#### Configuración

Usos del Código Claude `.claude/settings.json` para configuración:

```json
{
  "hooks": {
    "PreToolUse": [
      {
        "matcher": "Bash",
        "hooks": [{
          "type": "command",
          "command": "node $CLAUDE_PROJECT_DIR/.claude/hooks/damage-control/bash-tool-damage-control.js",
          "timeout": 5000
        }]
      }
    ]
  }
}
```

### Cursor

Cursor es una bifurcación de VSCode optimizada para asistencia de IA.

#### Estructura del directorio

```
.cursor/
└── commands/
    └── AgileFlow/              # AgileFlow commands
        ├── board.md
        ├── babysit.md
        ├── agents/             # Agents as subcommands
        │   ├── adr-writer.md
        │   └── ...
        └── ...
```

#### Acceso al comando

Acceda a los comandos en Cursor usando la sintaxis de barra diagonal:

```
# Main commands
/AgileFlow:board
/AgileFlow:babysit

# Agent subcommands
/AgileFlow:agents:adr-writer
```

**Note**: El cursor usa mayúsculas `AgileFlow` en el nombre del directorio para mantener la coherencia con las convenciones de VSCode.

#### Diferencias con el Código Claude

- No `.claude/agents/` directorio que se puede generar (el cursor no tiene la herramienta Tarea)
- Sin ganchos de control de daños (el cursor carece de soporte para ganchos PreToolUse)
- Archivos de rebajas simples en `.cursor/commands/` (sin preprocesamiento)
- Los archivos son de solo lectura, las modificaciones se pierden al reinstalar

#### Configuración

```bash
# Setup Cursor integration
npx agileflow setup --ide cursor
```

### windsurf

Windsurf es una bifurcación de VSCode con capacidades de gestión de flujo de IA.

#### Estructura del directorio

```
.windsurf/
└── workflows/                  # Windsurf-specific structure
    └── agileflow/              # AgileFlow workflows
        ├── board.md
        ├── babysit.md
        ├── agents/             # Agent workflows
        │   ├── adr-writer.md
        │   └── ...
        └── ...
```

#### Acceso al flujo de trabajo

Windsurf trata los comandos como "flujos de trabajo" para la gestión del flujo:

```
# Invoke workflows
/agileflow:board
/agileflow:babysit

# Agent workflows
/agileflow:agents:adr-writer
```

#### Windsurf-Specific Features

Windsurf puede utilizar flujos de trabajo para:
- **Manage flow steps** - Divida las tareas en pasos estructurados
- **Context management** - Mantener el estado en todos los pasos.
- **Parallel execution** - Ejecutar múltiples flujos de trabajo simultáneamente
- **Integration** - Combina los flujos de trabajo de AgileFlow con los flujos propios de Windsurf

#### Configuración

```bash
# Setup Windsurf integration
npx agileflow setup --ide windsurf
```

### CLI del Códice OpenAI

Codex CLI es un asistente de IA de línea de comandos con un modelo de integración diferente.

#### Estructura del directorio

```
.codex/
└── skills/
    └── agileflow-NAME/         # Skills (agents)
        └── SKILL.md            # Codex skill format

~/.codex/prompts/                # User-level (not per-repo)
├── agileflow-board.md
├── agileflow-babysit.md
└── ...                          # Commands as prompts

AGENTS.md                        # Project instructions (repo root)
```

#### Modelo de instalación

Codex CLI utiliza un modelo diferente al de otros IDE:

1. **Skills** (por repositorio): los agentes de AgileFlow se convierten en habilidades del Codex
   - Ubicado en `.codex/skills/agileflow-*/`
   - Cada habilidad tiene un `SKILL.md` archivo
   - Invocado con `$skill-name` sintaxis

2. **Prompts** (nivel de usuario): los comandos de AgileFlow se convierten en mensajes del Codex
   - Ubicado en `~/.codex/prompts/agileflow-*.md`
   - Compartido en todos los proyectos de la máquina.
   - Invoked with `/prompt-name` sintaxis

3. **Project Instructions**: archivo AGENTS.md en la raíz del repositorio
   - Andamios para convenciones de proyectos.
   - Proporciona contexto sobre las habilidades disponibles.
   - Referencias estructura del proyecto

#### Formato de habilidad

Las habilidades de Codex se convierten a partir de agentes de AgileFlow:

```markdown
---
name: agileflow-adr-writer
description: Write Architecture Decision Records
version: 1.0.0
---

# AgileFlow: ADR Writer

> Invoke with `$agileflow-adr-writer` or via `/skills`

[Skill instructions...]
```

#### Formato de mensaje

Las indicaciones del Codex se convierten a partir de comandos de AgileFlow:

```markdown
# AgileFlow: Board

> View the project status board with story counts and WIP limits

[Prompt instructions...]

## Context

{{input}}
```

#### AGENTES.md

el generado `AGENTS.md` file provides:

```markdown
# AGENTS.md

> Project instructions for Codex CLI with AgileFlow integration

## When to Use AgileFlow Skills

| Task Type | Skill to Use |
|-----------|--------------|
| Architecture decisions | `$agileflow-adr-writer` |
| Database work | `$agileflow-database` |
| API endpoints | `$agileflow-api` |
| ... | ... |

## Security Recommendations

Configure Codex with approval requirements:

```toml
# ~/.codex/config.toml
política_aprobación = "a petición"
sandbox_mode = "espacio de trabajo-escritura"
```
```

#### Configuración

```bash
# Setup Codex CLI integration
npx agileflow setup --ide codex

# Or specify alternate Codex home
CODEX_HOME=/custom/path npx agileflow setup --ide codex
```

#### Uso de Codex CLI con AgileFlow

Invocar habilidades en Codex:

```bash
# Use a skill
$agileflow-adr-writer
> Create an ADR for database migration strategy

# List available skills
/skills
```

## Configuración multi-IDE

### Instalación para múltiples IDE

```bash
# Install for specific IDEs
npx agileflow setup --ide claude-code,cursor,windsurf

# Install for all supported IDEs
npx agileflow setup --ide all

# Install for Codex + Claude Code
npx agileflow setup --ide claude-code,codex
```

### Cambiar entre IDE

Una vez instalado, puede utilizar AgileFlow en cualquier IDE sin necesidad de reinstalar:

```bash
# All IDEs have access to the same .agileflow/ core
# Each IDE has its own config directory:
# - Claude Code: .claude/
# - Cursor: .cursor/
# - Windsurf: .windsurf/
# - Codex CLI: .codex/ (plus ~/.codex/)

# Just open the project in your IDE of choice
code .                    # Opens in Cursor/VSCode
windsurf .                # Opens in Windsurf
cursor .                  # Opens in Cursor
```

### Detectar IDE instalados

Detecta qué IDE están configurados en tu proyecto:

```bash
# Show detected IDEs
npx agileflow detect

# Output:
# ✓ Claude Code (.claude/)
# ✓ Cursor (.cursor/)
# ✓ Windsurf (.windsurf/)
```

## Sistema de controlador IDE dinámico

AgileFlow utiliza un sistema de manejo IDE basado en complementos para mayor extensibilidad.

### Cómo funciona

```
IDE Detection
    ↓
Handler Loading (.js files in ide/ directory)
    ↓
Handler Registration (by IDE name)
    ↓
Setup Execution (handler.setup() method)
    ↓
Configuration Creation (IDE-specific)
```

### Controladores IDE

Cada IDE tiene una clase de controlador dedicada:

| Handler | File | Base Class | Methods |
|---------|------|-----------|---------|
| Claude Code | `claude-code.js` | BaseIdeSetup | setup(), setupDamageControl() |
| Cursor | `cursor.js` | BaseIdeSetup | setup(), cleanup() |
| Windsurf | `windsurf.js` | BaseIdeSetup | setup(), cleanup() |
| Codex CLI | `codex.js` | BaseIdeSetup | setup(), installSkills(), installPrompts() |

### Características de clase base

Todos los controladores IDE se extienden `BaseIdeSetup` que proporciona:

```javascript
class BaseIdeSetup {
  // Core methods
  async setup(projectDir, agileflowDir, options)
  async cleanup(projectDir)
  async detect(projectDir)

  // Utilities
  async installCommandsRecursive(sourceDir, targetDir, agileflowDir, injectDynamic)
  injectDynamicContent(content, agileflowDir)
  replaceDocsReferences(content)
  async scanDirectory(dirPath, extension)
  async ensureDir(dirPath)
  async writeFile(filePath, content)
  async readFile(filePath)
}
```

### Ampliación con nuevos IDE

Para agregar soporte para un nuevo IDE:

1. **Create handler** (`new-ide.js`):
```javascript
const { BaseIdeSetup } = require('./_base-ide');

class NewIdeSetup extends BaseIdeSetup {
  constructor() {
    super('new-ide', 'New IDE Name', true);
    this.configDir = '.new-ide';
  }

  async setup(projectDir, agileflowDir, options = {}) {
    // Custom setup logic
    const commandsSource = path.join(agileflowDir, 'commands');
    const commandsTarget = path.join(projectDir, this.configDir, 'commands', 'AgileFlow');

    await this.installCommandsRecursive(
      commandsSource,
      commandsTarget,
      agileflowDir,
      true // Inject dynamic content
    );
  }
}

module.exports = { NewIdeSetup };
```

2. **Place in IDE directory**:
```
packages/cli/tools/cli/installers/ide/new-ide.js
```

3. **Test**:
```bash
npx agileflow setup --ide new-ide
```

El IdeManager cargará y registrará automáticamente el controlador.

## Personalización de la instalación

### Nombres de carpetas de AgileFlow personalizados

De forma predeterminada, AgileFlow utiliza `.agileflow/` y `docs/` nombrando:

```bash
# Use custom names
npx agileflow setup --agileflow-folder=.flow --docs-folder=documentation
```

Todos los instaladores reemplazan automáticamente las referencias para mantener la coherencia.

### Saltarse el control de daños (Código Claude)

Omitir la instalación de Control de daños para Claude Code:

```bash
npx agileflow setup --skip-damage-control
```

## Archivos de configuración creados

### Código Claude

Después de la configuración, Claude Code crea:

```
.claude/
├── commands/agileflow/        # Commands (58+)
├── agents/agileflow/          # Spawnable agents (27+)
├── skills/                    # User-generated skills
├── hooks/
│   └── damage-control/        # Optional safety system
└── settings.json              # Configuration
```

### Cursor

Después de la configuración, Cursor crea:

```
.cursor/
└── commands/
    └── AgileFlow/             # Commands and agents
```

### windsurf

Después de la configuración, Windsurf crea:

```
.windsurf/
└── workflows/
    └── agileflow/             # Workflows
```

### CLI del códice

Después de la configuración, Codex crea:

```
.codex/
└── skills/
    └── agileflow-*/           # Skills (per-repo)

~/.codex/prompts/
├── agileflow-*.md             # Prompts (user-level)

AGENTS.md                       # Project instructions
```

## Administrar configuraciones IDE

### Reinstalación para un IDE

```bash
# Reinstall Claude Code configuration
npx agileflow setup --ide claude-code

# This cleans up and reinstalls
# - Removes old configuration
# - Recreates with latest version
# - Preserves damage control patterns if they exist
```

### Desinstalar AgileFlow

```bash
# Remove from specific IDE
rm -rf .claude/commands/agileflow

# Or remove entire IDE config
rm -rf .claude/
```

### Actualización de configuración

Cuando actualiza AgileFlow, las configuraciones se actualizan automáticamente:

```bash
# Update to latest version
npm update agileflow

# Reinstall IDE configurations
npx agileflow setup --ide all
```

## Los comandos y los agentes cuentan

Cuando se instala, cada IDE obtiene acceso a:

- **58+ slash commands** - Todas las operaciones de AgileFlow
- **27+ agents** - Trabajadores especializados (base de datos, API, UI, etc.)
- **Dynamic skills** - Avisos de IA generados por el usuario

Estos se inyectan automáticamente en la configuración de cada IDE durante la instalación.

## Sistema de inyección de contenido

AgileFlow utiliza la inyección de contenido dinámico para mantener actualizadas las listas de comandos:

1. **Template placeholders** existen en archivos de comando:
   ```markdown
   <!-- {{AGENT_LIST}} -->
   <!-- {{COMMAND_LIST}} -->
   ```

2. **At install time**, los marcadores de posición se reemplazan:
   ```javascript
   // Scans .agileflow/agents/ and .agileflow/commands/
   // Replaces placeholders with current lists
   ```

3. **No manual maintenance** necesario - siempre actual

## Solución de problemas de configuración IDE

### Comandos que no aparecen

**Problem**: IDE instalado pero los comandos no aparecen.

**Solution**:
1. Verificar la instalación: `ls .claude/commands/agileflow/` (para el Código Claude)
2. Reinicie IDE por completo (salga y vuelva a abrir)
3. Reinstalar: `npx agileflow setup --ide claude-code`

### El control de daños no funciona (Código Claude)

**Problem**: Los comandos peligrosos no están bloqueados.

**Solution**:
1. Compruebe que los ganchos estén configurados: `ls .claude/hooks/damage-control/`
2. Verifique que settings.json tenga ganchos PreToolUse
3. Reinicie Claude Code por completo
4. Ver [Solución de problemas de control de daños](/features/damage-control#troubleshooting)

### Codex CLI no encuentra habilidades

**Problem**: Las habilidades no están disponibles en el Codex.

**Solution**:
1. Verificar `.codex/skills/` existe y tiene directorios de habilidades
2. Controlar `~/.codex/prompts/` para archivos rápidos
3. Reiniciar la CLI del Codex
4. Verifique el inicio del Codex: `echo $CODEX_HOME`

### Conflictos IDE mixtos

**Problem**: Usar el mismo proyecto en varios IDE causa problemas.

**Solution**:
- Cada IDE tiene su propio directorio de configuración (sin conflictos)
- Comparte el `.agileflow/` núcleo en IDE
- Utilice el control de versiones para compartir configuraciones

## Mejores prácticas

### Selección IDE

- **Claude Code**: Recomendado para la mayoría de los usuarios, funciones completas
- **Cursor**: Buena alternativa, funciona con extensiones VSCode
- **Windsurf**: Lo mejor para la gestión del flujo de trabajo
- **Codex CLI**: Bueno para entornos de nube y desarrollo con CLI primero

### Gestión de configuración

1. **Version control** Configuración de AgileFlow:
   ```bash
   git add .claude/ .cursor/ .windsurf/ .codex/ AGENTS.md
   git commit -m "Add AgileFlow configuration"
   ```

2. **Share across team** - Los miembros del equipo obtienen la misma configuración
3. **Preserve patterns** - No borrar `.agileflow/` entre configuraciones

### Seguridad

- **Damage Control** protege Claude Code por defecto
- **AGENTS.md** en los documentos del Codex prácticas de seguridad
- Revise los patrones antes de compartirlos con el equipo

### Múltiples IDE

- **Install once**: Uno `.agileflow/` núcleo compartido entre IDE
- **Switch freely**: Usar `code .`, `windsurf .`, `cursor .`
- **No conflicts**: Cada IDE tiene un directorio de configuración independiente

## Documentación relacionada

- [Control de daños](/features/damage-control) - Sistema de seguridad para Claude Code
- [Empezando](/docs/getting-started) - Configuración inicial
- [Referencia de comandos](/docs/commands) - Todos los comandos disponibles
- [Referencia de agentes](/docs/agents) - Especificaciones del agente
- [Sistema de Habilidades](/features/skills) - Creación de indicaciones personalizadas

## Próximos pasos

1. **Install for your IDE** - `npx agileflow setup`
2. **Run first command** - `/agileflow:board` para ver el estado
3. **Customize** - Agregar control de daños, crear habilidades.
4. **Share** - Confirmar la configuración en git para el equipo.
5. **Extend** - Cree su propio controlador IDE si es necesario
