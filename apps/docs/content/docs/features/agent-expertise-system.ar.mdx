---
title: "نظام الخبرة الوكيل"
description: "وكلاء التحسين الذاتي الذين يحافظون على الخبرة في المجال ويسرعون تنفيذ المهام من خلال المعرفة المكتسبة"
---
# نظام خبرة الوكيل

نظام خبرة الوكيل هو نمط يحتفظ فيه الوكلاء بـ **ملفات الخبرة** (النماذج العقلية) الخاصة بنطاقهم ويقومون بتحديثها تلقائيًا أثناء عملهم. يؤدي هذا إلى إنشاء نظام تعليمي مغلق الحلقة يجعل الوكلاء أسرع وأكثر دقة بمرور الوقت.

## نظرة عامة

### تم حل المشكلة

بدون ملفات الخبرة، تتطلب كل جلسة الاستكشاف نفسه:
- الوكيل يبدأ من جديد
- يجب البحث في قاعدة التعليمات البرمجية لفهم البنية
- يكرر الاستكشاف لكل مهمة
- لا يتحسن أو يتعلم أبدًا

بفضل ملفات الخبرة، يصبح الوكلاء أكثر ذكاءً:
- تحميل النموذج العقلي عند بداية الجلسة
- تخطي الاستكشاف، والتركيز على البناء
- تعلم من كل مهمة
- التحسين تلقائيا من خلال التحسين الذاتي

### الفوائد الرئيسية

| الجانب | بدون خبرة | بالخبرة |
|--------|------------------|----------------|
| **السرعة** | بطيء (يجب الاستكشاف) | سريع (المعرفة المحملة مسبقًا) |
| **الدقة** | المتغير (يعتمد على الاستكشاف) | متسقة (المعرفة المصادق عليها) |
| **التعلم** |لا شيء - ينسى كل شيء | تلقائي - يبني بمرور الوقت |
| **Knowledge Reuse** | الصفر - يبدأ من الصفر | كامل - يستفيد من جميع الدروس |
| **Context Size** | كبير (استكشاف + بناء) | صغير (خبرة + بناء) |

## كيف يعمل

يتبع نظام الخبرة **سير عمل مكون من ثلاث خطوات**:

### الخطوة 1: التخطيط (مع الخبرة)

__لا تترجم_0__

الوكيل:
1. **قراءة** ملف الخبرة (النموذج الذهني للمجال)
2. **التحقق من صحته** مقابل الكود الفعلي (الكود هو مصدر الحقيقة)
3. **خطط** العمل بناءً على المعرفة المؤكدة

**مثال:**
__لا تترجم_1__

يقرأ الوكيل هذا ويعرف بالضبط مكان وجود ملفات المخطط، ويتخطى عمليات البحث في الدليل.

### الخطوة الثانية: البناء (تنفيذ الخطة)

__لا تترجم_2__

الوكيل:
1. **ينفذ** خطة التنفيذ
2. **يلتقط** ما تغير (git diff)
3. **التحقق من صحة** النتيجة تعمل

نتيجة المثال:
__لا تترجم_3__

### الخطوة 3: تحسين الذات (تحديث الخبرة)

__لا تترجم_4__

الوكيل:
1. **تحليل** اختلافات git
2. ** فوقالتواريخ** ملف الخبرة بالمعرفة الجديدة
3. ** يضيف ** إدخال الدروس

**مثال لإدخال الدروس:**
__لا تترجم_5__

## هيكل ملف الخبرة

يحتوي كل نطاق وكيل على ملف `expertise.yaml` لتوثيق:

### 1. البيانات الوصفية
__لا تترجم_6__

### 2. قسم الملفات
الملفات الرئيسية التي يحتاج الوكيل إلى معرفتها:

__لا تترجم_7__

**سبب أهمية ذلك:** يعرف الوكيل مكان الأشياء دون البحث.

### 3. قسم العلاقات
كيفية ارتباط الكيانات في المجال:

__لا تترجم_8__

**سبب أهمية ذلك:** يفهم الوكيل تدفق البيانات والتبعيات.

### 4. قسم الأنماط
الأساليب المتكررة التي يجب اتباعها:

__لا تترجم_9__

**سبب أهمية ذلك:** يطبق الوكيل أنماطًا متسقة تلقائيًا.

### 5. قسم الاتفاقيات
القواعد الواجب اتباعها في المجال:

__لا تترجم_10__

**سبب أهمية ذلك:** يحافظ الوكيل على الاتساق مع التعليمات البرمجية الموجودة.

### 6. قسم الدروس
التحديث التلقائي عن طريق التحسين الذاتي:

__لا تترجم_11__

**سبب أهمية ذلك:** يتذكر الوكيل ما تعلمه، ويحسن الأداءص الوقت.

## مثال سير العمل الكامل

إليك سير عمل حقيقي من البداية إلى النهاية:

### الطلب الأولي
> "إضافة جدول جلسات لتتبع جلسات تسجيل دخول المستخدم"

### الخطوة 1: التخطيط

يقرأ الوكيل Expert.yaml ويعرف:
- المخططات موجودة في `src/db/schema.ts`
- تتم عمليات الترحيل في `src/db/migrations/`
- النمط: عمليات الحذف الناعم باستخدام `deleted_at`
- الاتفاقية: مفاتيح UUID الأساسية
- العلاقات: تحتوي الجلسات على العديد من سجلات التدقيق

**تم إنشاء الخطة:**
__لا تترجم_12__

### الخطوة الثانية: البناء

ينفذ الوكيل:
1. يعدل `src/db/schema.ts` - يضيف جدول الجلسات
2. يقوم بإنشاء ملف الهجرة
3. إنشاء أدوات مساعدة للاستعلام
4. يتم التحقق باستخدام TypeScript

يظهر فرق Git:
__لا تترجم_13__

### الخطوة 3: تحسين الذات

خبرة تحديثات الوكيل:

__لا تترجم_14__

**النتيجة:** في المرة القادمة التي يعمل فيها الوكيل على الجلسات، فإنه يعرف البنية والأنماط بالفعل.

## خبراء الوكلاء المتوفرون

يتضمن AgileFlow الخبرة في هذه المجالات:

### المرحلة التجريبية (MVP)
- **قاعدة البيانات** - المخطط والترحيل والاستعلامات
- **API** - أوامر CLI، rouتيس، نقاط النهاية
- **واجهة المستخدم** - المكونات والتصميم والتخطيطات

### طرح المرحلة الأولى
- **الاختبار** - اختبار الملفات والأنماط والأطر
- **CI/CD** - إجراءات GitHub، Docker، النشر
- **DevOps** - البنية التحتية، Kubernetes، المراقبة
- **الأمان** - المصادقة، والرموز المميزة، والأذونات

### طرح المرحلة الثانية
- **الوثائق** - الملف التمهيدي ومستندات واجهة برمجة التطبيقات والأدلة
- **إعادة البناء** - تنظيف الكود وتحسينه
- **الأداء** - التخزين المؤقت، والتحسين، والمعايير
- **إمكانية الوصول** - WCAG، أنماط a11y

### المرحلة 3+ الطرح
- **الجوال** - React Native، iOS، Android
- **عمليات التكامل** - خطافات الويب وواجهات برمجة التطبيقات وخدمات الجهات الخارجية
- **التحليلات** - التتبع والمقاييس ولوحات المعلومات
- **الرصد** - إمكانية الملاحظة والتنبيه

## أنماط سير العمل المكونة من ثلاث خطوات

### لتطوير الميزات الكاملة

استخدم **سير العمل الكامل** عند تنفيذ ميزة كاملة:

__لا تترجم_15__

### للأسئلة السريعة

استخدم **موجه الأسئلة** للحصول على معلومات:

__لا تترجم_16__

### للحصول على التحديثات اليدوية

استخدم **موجه التحسين الذاتي** أبعد إجراء التغييرات:

__لا تترجم_17__

## التحقق من الخبرة

استخدم البرنامج النصي للتحقق المقدم لضمان بقاء ملفات الخبرة دقيقة:

__لا تترجم_18__

### عمليات التحقق من الصحة

يقوم المدقق بالتحقق من:
- **المخطط** - الحقول المطلوبة موجودة (المجال، آخر_تحديث، الإصدار)
- **الجفاء** - الملف لا يتجاوز عمره 30 يومًا
- **الحجم** - يظل الملف مركزًا (أقل من 200 سطر)
- **التعلم** - قام الوكيل بتحسين نفسه مرة واحدة على الأقل

## مقاييس الخبرة

مراقبة صحة نظام الخبرة الخاص بك:

__لا تترجم_19__

### تتبع المقاييس

__لا تترجم_20__

### المقاييس الرئيسية

- **معدل التحسين الذاتي** - نسبة الوكلاء الذين قاموا بتحسين أنفسهم (الهدف: 100%)
- **متوسط التعلم** - تراكم التعلم لكل خبير (الهدف: 5+)
- **الركود** - مدى جودة ملفات الخبرة الحالية (الهدف: أقل من 7 أيام)
- **حجم الملف** - حافظ على تركيز الخبرة (أقل من 200 سطر لكل منهما)

## التحسين الذاتي التلقائي

يمكن للنظام تحديث ملفات الخبرة تلقائيًا بناءً على العمل المنجز:

### كيف يعمل

__لاترجمةATE_21__

### مثال للتعلم التلقائي

إذا قام الوكيل بتعديل هذه الملفات:
__لا تترجم_22__

يضيف النظام تلقائيًا:
__لا تترجم_23__

## إنشاء خبير وكيل جديد

### 1. إنشاء الدليل

__لا تترجم_24__

### 2. نسخ القوالب

__لا تترجم_25__

### 3. تخصيص الخبرة.yaml

__لا تترجم_26__

### 4. تحديث ملف الوكيل

قم بتعديل ملف الوكيل الرئيسي لتحميل الخبرة:

__لا تترجم_27__

وفي النهاية، قم بتشغيل التحسين الذاتي:

__لا تترجم_28__

## أفضل الممارسات

### افعل

✅ **التحقق من صحة الخبرة مقابل الكود** - الكود هو مصدر الحقيقة، والخبرة هي الذاكرة العاملة
✅ **حافظ على تركيز الخبرة** - نطاق واحد لكل ملف (أقل من 200 سطر)
✅ **تاريخ جميع الدروس** - تتبع وقت اكتشاف الأفكار
✅ **استخدم مسارات ملفات محددة** - لا تقل "في مكان ما في src/"، استخدم المسارات المحددة
✅ **إزالة المعلومات القديمة** - احذف الإدخالات التي لم تعد سارية
✅ **إجراء عملية التحقق بانتظام** - `./scripts/validate-expertise.sh`

### لا تفعل ذلك

❌ **ثق في الخبرة بشكل أعمى** - تحقق دائمًا من التعليمات البرمجية الفعلية
❌ ** مجال ميكسs** - احتفظ بخبرة قاعدة البيانات منفصلة عن خبرة واجهة برمجة التطبيقات (API).
❌ **Manually edit learnings** - Let self-improve handle it
❌ **Keep outdated entries** - Remove knowledge that's no longer accurate
❌ **Skip validation** - Stale expertise hurts more than helps
❌ **إنشاء ملفات ضخمة** - تقسيمها إلى مجالات متعددة مركزة

## المبادئ الأساسية

### 1. الكود هو مصدر الحقيقة

ملفات الخبرة هي نماذج عقلية - مثل كيفية فهم المهندس للنظام. إنها مفيدة ولكنها ليست موثوقة.

**تحقق دائمًا من صحة التعليمات البرمجية الفعلية** قبل الاعتماد على الخبرة.

__لا تترجم_29__

### 2. الخبرة تسرع من وتيرة العمل، ولا تحل محله

تساعد الخبرة الوكلاء على العمل بشكل أسرع من خلال القضاء على الاستكشاف، ولكن لا يزال يتعين على الوكلاء التحقق من صحة النتائج.

**استخدم الخبرة لتخطي البحث، وليس لتخطي التفكير.**

### 3. التعلم تلقائي

لا تحتفظ بملفات الخبرة يدويًا. قم بتشغيل `self-improve.md` بعد إجراء التغييرات.

**يتعلم النظام تلقائيًا إذا كنت تستخدم سير العمل.**

### 4. يتم التركيز على الخبرة

إيكيركز الخبير على مجال واحد. لا تنشئ "All Frontend Expert" - بل أنشئ "React Component Expert" أو "Form Validation Expert".

** المجالات الضيقة ← تركيز أفضل ← تعلم أسرع **

### 5. مشاكل في إشارات الجمود

إذا لم يتم تحديث الخبرة خلال 30 يومًا، إما:
- النطاق مستقر (جيد!)
- الوكيل غير مستخدم (قم بإزالته)
- الخبرة خاطئة (قم بالتحديث)

**استخدم البرنامج النصي للتحقق لمراقبة الصحة.**

## مخطط معماري

<صورة>
  <الوسائط المصدر = "(prefers-color-scheme: dark)" srcset="/images/docs/features/agent-expertise-arch.dark.svg" />
  <img alt="هندسة خبرة الوكيل" src="/images/docs/features/agent-expertise-arch.light.svg" />
</صورة>

> سير العمل ذو الحلقة المغلقة: يقوم الخبراء بتحميل المعرفة والتحقق من صحتها والبناء عليها والتعلم تلقائيًا مما يفعلونه.

## المقارنة: مع مقابل بدون خبرة

### بدون خبرة (الوكيل التقليدي)

__لا تترجم_30__

### مع الخبرة (عامل التحسين الذاتي)

__لا تترجم_31__

## استكشاف الأخطاء وإصلاحهاتينغ

### ملف الخبرة قديم

**المشكلة:** آخر تحديث منذ أكثر من 45 يومًا

**الحل:**
1. إقرأ ملف الخبرة
2. تحقق من حالة الكود الحالية
3. قم بتحديث أي إدخالات غير دقيقة
4. تشغيل التحقق من الصحة: `./scripts/validate-expertise.sh domain`

### لم يتم تسجيل أي دروس

**المشكلة:** الوكيل لم يقم بتحسين نفسه أبدًا

**السبب:** لم يتم اتباع خطوات سير العمل أو لم يتم تشغيل التحسين الذاتي

**الحل:**
1. تشغيل العمل باستخدام سير العمل الكامل
2. تأكد من اكتمال خطوة التحسين الذاتي
3. تحقق من Expert.yaml لإدخال الدروس الجديدة

### الملف كبير جدًا (>200 سطر)

**المشكلة:** نما ملف الخبرة كثيرًا

**السبب:** النطاق واسع للغاية أو تمت إضافة إدخالات زائدة عن الحاجة

**الحل:**
1. انقسم إلى ملفات متعددة مركزة
2. قم بإزالة الإدخالات المكررة/القديمة
3. احتفظ بالمعلومات الأساسية فقط

### الخبرة لا تتطابق مع الكود

**المشكلة:** معلومات ملف الخبرة خاطئة

**السبب:** تم تغيير الرمز دون تحديث الخبرة، أو أن الخبرة لم تكن دقيقة على الإطلاق

**الحل:**
1. تشغيل التحقق من الصحة: `./scripts/validate-expertise.sh`
2. قم بإصلاح الأخطاء غير الدقيقة يدويًايحاول
3. قم بإعداد العملية للقبض على هذا في وقت سابق
4. قم بتشغيل التحسين الذاتي بعد جلسة العمل التالية

## البحث والقراءة الإضافية

يعتمد هذا النظام على **نمط الوكيل الخبير** من:

- **المصدر:** دورة البرمجة التكتيكية للوكلاء في IndyDevDan
- **الدرس:** 13 - الخبراء الوكلاء: أخيرًا، الوكلاء الذين يتعلمون فعليًا
- **المفهوم:** الوكلاء الذين يحتفظون بقواعد معرفية خارجية لتسريع تنفيذ المهام

يعترف النمط بما يلي:
1. الوكلاء الذين يستكشفون كل شيء في كل جلسة غير فعالين
2. المعرفة المستمرة (ملفات الخبرة) تسرع العمل بشكل كبير
3. تتعلم أنظمة التحسين الذاتي وتتحسن بمرور الوقت
4. المجالات التي يتم التركيز عليها تخلق التعلم المستدام

راجع وثائق البحث للحصول على نظرية مفصلة وأنماط التنفيذ.

## ملخص

يتيح نظام خبرة الوكيل للوكلاء إمكانية التحسين الذاتي من خلال:

1. **ملفات الخبرة** - النماذج الذهنية لكل مجال
2. **سير العمل من ثلاث خطوات** - التخطيط ← البناء ← التحسين الذاتي
3. **التعلم التلقائي** - تحديثات الخبرة أثناء عمل الوكلاء
4. **التحقق من الصحة والمقاييس ** - أدوات لضمان الجودة
5. **المجالات المركزة** - المعرفة المتخصصة لكل مجال

يعمل نظام التعلم ذو الحلقة المغلقة هذا على جعل الوكلاء أسرع وأكثر دقة وذو قيمة متزايدة حيث يقومون بتجميع المعرفة بالمجال بمرور الوقت.