---
title: /ci-setup
description: Fluxo de trabalho Bootstrap CI/CD com testes e verificações de qualidade
---
# /ci-setup

Inicialize um fluxo de trabalho mínimo de CI/CD com testes automatizados e verificações de qualidade integradas com GitHub Actions e regras de propriedade de código.

## Início rápido

```bash
/agileflow:ci-setup OWNERS=@username,@team
```

## Objetivo

Este comando configura uma base completa de CI/CD para seu projeto:
- Criação de um fluxo de trabalho GitHub Actions com lint, typecheck e trabalhos de teste
- Estabelecendo a propriedade do código através de um arquivo CODEOWNERS
- Configuração de permissões e controles de simultaneidade
- Fornecer orientação sobre como ativar as verificações necessárias

## Parâmetros

| Parâmetro | Obrigatório | Padrão | Descrição |
|-----------|----------|---------|------------|
| `OWNERS` | Sim | - | Nomes de usuário ou identificadores de equipe do GitHub (separados por vírgula, por exemplo, __NOTRASLATE_7__) |

## Exemplos

### Uso Básico

```bash
/agileflow:ci-setup OWNERS=@alice,@bob
```

Configura o CI com Alice e Bob como proprietários do código.

### Vários identificadores de equipe

```bash
/agileflow:ci-setup OWNERS=@frontend-team,@devops-team,@maintainer
```

Atribui várias equipes como proprietários de código para requisitos de revisão de código.

## Fluxo de trabalho

O comando segue um fluxo de trabalho consistente:

1. **AnalisarEntrada dos proprietários** - Valida e normaliza identificadores do GitHub
2. **Gerar fluxo de trabalho de CI** – Cria __NOTRASLATE_8__ com três trabalhos:
   - **Lint Job** - Espaço reservado para ESLint, Prettier ou similar
   - **Typecheck Job** - Espaço reservado para TypeScript, Flow, mypy ou similar
   - **Test Job** - Espaço reservado para Jest, pytest, cargo test ou similar
3. **Gerar CODEOWNERS** - Cria mapeamentos de propriedade:
   - __NOTRASLATE_9__ → proprietários atribuídos
   - __NOTRASLATE_10__ → proprietários atribuídos
4. **Mostrar visualização** - Exibe ambos os arquivos gerados para revisão
5. **Aguarde confirmação** - Pergunta "Criar estes arquivos? (SIM/NÃO)"
6. **Criar arquivos** - Grava fluxo de trabalho de CI e CODEOWNERS se aprovado
7. **Exibir próximas etapas** – mostra como ativar as verificações necessárias no GitHub

## Arquivos de saída

O comando cria dois arquivos:

**__NOTRASLATE_11__** - Fluxo de trabalho do GitHub Actions com:
- Funciona em: eventos push e pull_request
- Três trabalhos: lint, typecheck, test (permissões mínimas)
- Controle de simultaneidade (cancela r em andamentouns)
- Comandos de trabalho genéricos para personalização

**__NOTRASLATE_12__** - Configuração de propriedade do código:
__NOTRADUZIR_3__

## Empregos de CI

Cada trabalho é configurado como um espaço reservado para personalização:

### Trabalho Lint
- Funciona em: ubuntu-mais recente
- Objetivo: estilo de código e verificações de qualidade
- Personalize com: `npm run lint`, `eslint .`, `prettier --check`, etc.

### Trabalho de verificação de digitação
- Funciona em: ubuntu-mais recente
- Objetivo: verificação de segurança de tipo
- Personalize com: `tsc --noEmit`, `flow check`, `mypy`, etc.

### Trabalho de teste
- Funciona em: ubuntu-mais recente
- Objetivo: Execução automatizada de testes
- Personalize com: `npm test`, `pytest`, `cargo test`, etc.

## Próximas etapas

Após a conclusão da configuração, você precisa:

1. **Personalizar comandos de trabalho**
   - Editar `.github/workflows/ci.yml`
   - Substitua comandos genéricos pelos comandos reais do seu projeto

2. **Ativar proteção de filiais**
   - Vá para as configurações do repositório GitHub
   - Navegue até Filiais → Regras de proteção de filiais
   - Criar regra para `main` filial

3. **Adicionar verificações de status obrigatórias**
   - Nas configurações de proteção de ramificação, habilite:
     - ✓ Exigir que as verificações de status sejam aprovadas
     - ✓ Exigir que as filiais estejam atualizadas
     - ✓ Incluir administradores
   - Selecione quais verificações são necessárias (lint, typecheck, test)

4. **Configurar revisão de código**
   - Ativar: exigir revisões de solicitação pull
   - Definir número de revisores (por exemplo, 1 ou 2)
   - Dispensar aprovações de pull request obsoletas
   - Exigir revisões do proprietário do código (usa arquivo CODEOWNERS)

5. **Opcional: Mesclar fila**
   - Habilite a fila de mesclagem do GitHub para implantações mais seguras
   - Mescla automaticamente após todas as verificações serem aprovadas

## Personalização

Os arquivos de fluxo de trabalho gerados são pontos de partida. Você deve personalizar:

**Em __NOTRASLATE_24__**:
__NÃOTRADUZIR_4__

**Em `CODEOWNERS`**:
__NOTRADUZIR_5__

## Comandos Relacionados

- [__NOTRASLATE_26____NOTRASLATE_29__ - Configurar pipelines de implantação
- [__NOTRASLATE_27____NOTRASLATE_30__ - Configurar infraestrutura de teste
- [`/agileflow:status`](/commands/status) - Verifique o status do IC