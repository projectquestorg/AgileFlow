---
title: /configuração-implantação
description: Configurar pipeline de implantação automatizado
---
# /setup-deployment

Detecte automaticamente o tipo de projeto e configure um pipeline de implantação completo com configurações específicas da plataforma, fluxos de trabalho de CI/CD e gerenciamento de ambiente.

## Início rápido

```bash
/agileflow:setup-deployment PLATFORM=auto ENV=both AUTO_DEPLOY=no
```

## Objetivo

Este comando configura de forma inteligente a infraestrutura de implantação:
- Detecção automática do tipo de projeto (estático, pilha completa, sem servidor, móvel, contêineres)
- Recomendar a plataforma de implantação ideal
- Geração de arquivos de configuração específicos da plataforma
- Criação de fluxos de trabalho de implantação do GitHub Actions
- Configuração de modelos de variáveis de ambiente e gerenciamento de segredos
- Fornecer as próximas etapas claras para implantação

## Parâmetros

| Parâmetro | Obrigatório | Padrão | Descrição |
|-----------|----------|---------|------------|
| `PLATFORM` | Não | `auto` | `auto`, `vercel`, `netlify`, `heroku`, `aws`, `gcp`, `docker`, `eas` |
| `ENV` | Não |`both` | `staging`, `production` ou `both` |
| `AUTO_DEPLOY` | Não | `no` | `yes` ou `no` - aciona a implantação automaticamente no push |

## Exemplos

### Detectar tudo automaticamente

```bash
/agileflow:setup-deployment
```

Detecta o tipo de projeto e recomenda automaticamente a melhor plataforma.

### Especifique a plataforma explicitamente

```bash
/agileflow:setup-deployment PLATFORM=vercel ENV=both
```

Configura a implantação do Vercel para teste e produção.

### Implantação do Docker no Fly.io

__NOTRADUZIR_3__

Configura a implantação baseada em Docker (funciona com Fly.io, AWS, GCP).

### Aplicativo móvel com EAS

__NÃOTRADUZIR_4__

Configura o Expo Application Services para implantação do React Native/Expo.

## Detecção de Projeto

O comando analisa seu projeto para recomendar plataformas:

### Sites estáticos
**Detectado por**: HTML/CSS/JS, React/Vue/Angular SPA (sem back-end)
- Recomendado: Vercel ou Netlify
- Ideal para: Sites de marketing, SPAs, documentação

### Aplicativos Web Full Stack
**Detectado por**: servidor Node.js, ERotas de API xpress/Fastify/Next.js
- Recomendado: Vercel (Next.js) ou Railway
- Ideal para: aplicativos da Web com lógica de back-end

### Aplicativos móveis (React Native / Expo)
**Detectado por**: configuração `expo`, dependência __NOTRASLATE_37__
- Recomendado: EAS (Expo Application Services)
- Ideal para: aplicativos móveis iOS/Android

### Aplicativos baseados em contêiner
**Detectado por**: __NOTRASLATE_38__ presente
- Recomendado: Fly.io
- Ideal para: implantações personalizadas do Docker, microsserviços

### Funções sem servidor
**Detectado por**: funções Lambda, configuração do API Gateway
- Recomendado: funções AWS Lambda ou Vercel
- Ideal para: cargas de trabalho orientadas por eventos e com pagamento por execução

## Arquivos de saída

O comando cria vários arquivos de configuração:

### Configuração da plataforma
- **Vercel**: `vercel.json`
- **Netlify**: `netlify.toml`
- **Heroku**: `Procfile`, `app.json`
- **Docker**: `Dockerfile`, `.dockerignore`, `fly.toml`
- **EAS**: `eas.json`
- **AWS Lambda**: __NOTRASLATE_47__

### Fluxo de trabalho de CI/CD
- __NOTRASLATE_48__ - Fluxo de trabalho de implantação automatizado
- Suporta encenação → promoção de produção
- Executa em push para staging/branches principais

### Gestão Ambiental
- __NOTRASLATE_49__ - Modelo para variáveis de ambiente (seguro para commit)
- __NOTRASLATE_50__ - Guia de gerenciamento de segredos
- __NOTRASLATE_51__ - Documentação de implantação

## Plataformas

### Vercel (recomendado para Next.js/React)
Melhor para: implantações Next.js, React, SPA
- Compilações automáticas no git push
- CDN global
- Funções sem servidor integradas
- UI de gerenciamento de ambiente
- Visualizar implantações em PRs

**Próximas etapas**:
__NOTRADUZIR_5__

### Netlify (recomendado para sites estáticos)
Ideal para: sites estáticos, JAMstack, SPAs gerais
- Compilações automáticas do git
- Análises e formulários integrados
- Funções sem servidor
- Integração Netlify CMS
- Gerenciamento de domínio personalizado

### Heroku (servidores Node.js/Python)
Ideal para: aplicativos de servidor tradicionais
- Implantação simples baseada em slug
- PostgreSQL, complementos Redis
- Ambiente vargestão viável
- Recursos de colaboração em equipe

**Próximas etapas**:
__NOTRADUZIR_6__

### Fly.io (implantação do Docker)
Melhor para: contêineres Docker, microsserviços, tempos de execução personalizados
- Implantação global com roteamento anycast
- Suporte IPv6
- Escalonamento automático
- Volumes persistentes
-PostgreSQL incluído

**Próximas etapas**:
__NÃOTRADUZIR_7__

### AWS (Lambda/ECS/Elastic Beanstalk)
Ideal para: aplicativos escaláveis, microsserviços
- Múltiplas opções de implantação (Lambda, ECS, Beanstalk)
- Econômico em escala
- Integração com ecossistema AWS
- Controle de acesso refinado

### EAS (Expo/React Native)
Ideal para: aplicativos móveis (iOS/Android)
- Construções nativas na nuvem
- Envios para App Store/Play Store
- Atualizações OTA
- Desenvolvimento de builds de cliente

## Fluxo de trabalho

A configuração segue um processo consistente:

1. **Detectar tipo de projeto** – Analisa dependências e arquivos
2. **Recomendar plataforma** - Sugere hospedagem ideal
3. **Gerar configuração** – Cria arquivos específicos da plataforma
4. **Criar fluxo de trabalho** - Configura o GitHub Acções para implantação
5. **Configuração do ambiente** - Cria __NOTRASLATE_52__ e documentos
6. **Mostrar visualização** - Exibe todos os arquivos para revisão
7. **Criar arquivos** - Grava no disco após confirmação SIM/NÃO
8. **Exibir próximas etapas** - Orienta a conclusão da configuração

## Gestão Ambiental

### Preparação vs Produção

O comando pode configurar um ou ambos os ambientes:

__NÃOTRADUZIR_8__

### Gerenciamento de segredos

**Nunca comprometa segredos com o git**. Em vez disso:

1. Use __NOTRASLATE_53__ como modelo
2. Armazene segredos reais na plataforma (Vercel, Heroku, etc.)
3. GitHub Actions fornece __NOTRASLATE_54__
4. Leia __NOTRASLATE_55__ para detalhes

**Segredos Comuns**:
- Cadeias de conexão do banco de dados
- Chaves API (Stripe, SendGrid, etc.)
- Credenciais AWS
- Tokens de serviço de terceiros

## Exemplos por plataforma

### Implantação Vercel

__NOTRADUZIR_9__

Cria:
- __NOTRASLATE_56__ com configuração de compilação
- __NOTRASLATE_57__ para implantação automática
- __NOTRASLATE_58__ com nomes de variáveis ​​Vercel
- Documentos de implantação

### Heroku com PostgreSQL

__NOTRADUZIR_10__

Cria:
- __NOTRASLATE_59__ (web: npm start)
- __NOTRASLATE_60__ com configuração do buildpack
- Documentos de configuração do PostgreSQL
- Fluxo de trabalho de implantação

### Docker para Fly.io

__NOTRADUZIR_11__

Cria:
- __NOTRASLATE_61__ com construção em vários estágios
- __NOTRASLATE_62__ para imagem limpa
- __NOTRASLATE_63__ com configuração de região e volume
- Fluxo de trabalho de implantação

## Opção de implantação automática

Por padrão, as implantações exigem acionamento manual. Para ativar a implantação automática em cada push:

```bash
/agileflow:setup-deployment AUTO_DEPLOY=yes
```

**Importante**: Use com cuidado na produção. Considere:
- Sempre exija que o CI seja aprovado primeiro
- Use preparação → processo de promoção principal
- Implementar sinalizadores de recursos para implementações graduais
- Monitore o rastreamento de erros após implantações

## Próximas etapas após a configuração

1. **Adicionar conexão de plataforma**
   __NÃOTRADUZIR_13__

2. **Configurar segredos**
   __NOTRADUZIR_14__

3. **Implantação de teste**
   __NÃOTRADUZIR_15__

4. **Definir domínio personalizado** (opcional)
   __NOTRADUZIR_16__

5. **Ativar implantação automática** (optarional)
   - Após testar a preparação, ative a implantação automática de produção
   - Configurar regras de proteção de filiais

## Comandos Relacionados

- [`/ci-setup`](/commands/ci) - Configurar testes e verificações de CI/CD
- [__NOTRASLATE_65____NOTRASLATE_68__ - Configurar estrutura de teste
- [`/generate-changelog`](/commands/changelog) - Criar notas de versão