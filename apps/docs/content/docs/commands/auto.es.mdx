---
title: /auto
description: Generar historias automáticamente a partir de PRD, maquetas o especificaciones
---
# /automático

Genere automáticamente historias de usuarios a partir de artefactos de productos como PRD, maquetas, especificaciones de API o documentos de diseño. Ahorra tiempo al dividir los requisitos en historias prácticas.

## Inicio rápido

```bash
/agileflow:auto SOURCE=<file-or-url> [EPIC=<EP-ID>] [AUTO_CREATE=no]
```

## Parámetros

| Parámetro | Requerido | Predeterminado | Descripción |
|-----------|----------|---------|-------------|
| `SOURCE` | Sí | - | Ruta al archivo o URL (PRD, maqueta, especificación API, diagrama de flujo) |
| `EPIC` | No | Generado automáticamente | Asociar historias con epopeyas existentes (p. ej., `EP-0010`) |
| `OWNER` | No | Detectado automáticamente | Propietario predeterminado de las historias generadas (por ejemplo, `AG-API`) |
| `AUTO_CREATE` | No | `no` | `yes` para crear inmediatamente, `no` para obtener una vista previa primero |

## Ejemplos

### Avance de Historias del PRD

```bash
/agileflow:auto SOURCE=docs/requirements/auth-prd.md
```

Lee el documento de requisitos de autenticación y genera una vista previa de la historia sin crear archivos.

### Generar a partir de la especificación API

```bash
/agileflow:auto SOURCE=docs/api/openapi.json OWNER=AG-API
```

extraactúa en puntos finales de la especificación OpenAPI/Swagger y genera una historia por punto final.

### Generar a partir de Figma Mockup

```bash
/agileflow:auto SOURCE=https://figma.com/file/abc123 AUTO_CREATE=no
```

OCR utiliza el diseño de maqueta para identificar pantallas, formularios e interacciones y luego genera historias de interfaz de usuario.

### Generar y crear inmediatamente

```bash
/agileflow:auto SOURCE=docs/requirements/payment-prd.md EPIC=EP-0011 AUTO_CREATE=yes
```

Genera historias y crea todos los archivos inmediatamente (omita el paso de vista previa).

## Tipos de fuentes admitidas

### Documento de requisitos del producto (PRD)

**Formatos**: `.md`, `.docx`, `.pdf`, `.txt`

**Extractos**:
- Descripciones de funciones
- Personas de usuario y casos de uso.
- Criterios y métricas de éxito.
- Casos extremos y escenarios de error
- Requisitos no funcionales

**Ejemplo**:
```markdown
# User Authentication Feature

Users should be able to:
- Register with email and password
- Reset forgotten password via email
- Login with OAuth (Google, GitHub)
- Manage account settings

Requirements:
- Email verification required
- Password minimum 8 characters
- Session expires after 24 hours
```

**Historias generadas**: de 4 a 6 historias que cubren el registro, el inicio de sesión, el restablecimiento de contraseña, OAuth y la gestión de sesiones.

### Documentación API

**Formatos**: OpenAPI/Swagger JSON, documentos API `.md`

**Extractos**:
- Puntos finales (método HTTP + ruta)
- Esquemas de solicitud/respuesta
- Auténticarequisitos de ción
- Códigos de error y casos extremos
- Limitación de tarifas y cuotas.

**Ejemplo de OpenAPI**:
```yaml
paths:
  /api/users:
    post:
      summary: Create user
      requestBody:
        schema:
          properties:
            name: string
            email: string
```

**Historias generadas**: una por punto final con criterios de aceptación del esquema.

### Maquetas y diseños de interfaz de usuario

**Formatos**: URL de Figma, `.png`/`.jpg` (con OCR), especificación de diseño `.md`

**Extractos**:
- Diseños y componentes de pantalla.
- Interacciones y flujos de usuarios.
- Campos de formulario y validación.
- Navegación y enlaces.
- Diseño de uso del sistema.

**Ejemplo**: la captura de pantalla del formulario de inicio de sesión genera historias para el componente del formulario, la validación, los mensajes de error y el enlace para restablecer la contraseña.

### Diagramas de flujo de usuario

**Formatos**: Sirena `.mmd`, PlantUML, diagramas de flujo (`.png` con OCR)

**Extractos**:
- Pasos en el recorrido del usuario.
- Puntos de decisión y ramas.
- Caminos alternativos
- Escenarios de éxito y fracaso.

**Ejemplo**: el diagrama de flujo de autenticación genera historias para cada paso.

## Proceso de generación de historias

### Paso 1: Analizar la fuente
- Documento de identificacióntipo
- Extraer requisitos y características.
- Requisitos relacionados con el grupo.
- Analizar especificaciones técnicas.

### Paso 2: Funciones del grupo
- Los requisitos relacionados se convierten en una sola historia.
- Evitar la duplicación de historias.
- Asegurar que las historias sean independientes.
- Consultar criterios de INVERTIR

### Paso 3: Generar historias
- Crear título a partir de la descripción de la función.
- Escribir criterios de aceptación en formato Dado/Cuándo/Entonces
- Estimar el esfuerzo (0,5d, 1d, 1,5d, 2d)
- Asignar propietario apropiado
- Identificar dependencias

### Paso 4: Mostrar vista previa
- Mostrar todas las historias generadas
- Mostrar estimaciones y propietarios.
- Mostrar recuento de historias y esfuerzo total.
- Solicitar aprobación antes de crear.

### Paso 5: Crear archivos (si se aprueba)
- Crear épico (si no se proporciona)
- Crea archivos de historias con plantillas.
- Crear talones de prueba
- Actualizar estado.json
- Agregar a bus/log.jsonl

## Reglas de generación de historias (INVEST)

Las historias generadas siguen criterios de INVEST:

| Criterio | Descripción |
|-----------|-------------|
| **Independiente** | Se puede completar sin otras historias |
| **Negociable** | Los detalles se pueden ajustar después de la creación |
| **Valioso** | Ofrece valor de cara al usuario o de equipo |
| **Estimable** | Se puede dimensionar (0,5d-2d) |
| **Pequeño** | Completable en un sprint |
| **Comprobable** | Tiene criterios de aceptación claros |

Las historias >2d se dividen en otras más pequeñas.

## Pautas de estimación

| Estimación | Cuándo utilizar |
|----------|------------|
| `0.5d` | CRUD simple, campo de formulario, componente básico |
| `1d` | Característica estándar, complejidad moderada |
| `1.5d` | Lógica compleja, validaciones múltiples, integración |
| `2d` | Refactor importante o componente principal |
| `>2d` | La historia se dividirá en partes más pequeñas |

## Ejemplo: PRD a Historias

### Entrada PRD

```markdown
# User Authentication Feature

## Overview
Allow users to register, log in, and manage accounts.

## Requirements
- Users register with email and password
- Email verification required
- Password reset via email
- Login with OAuth (Google, GitHub)
- Session management and expiry
```

### Vista previa de historias generadas

```text
Story Generation Preview

Source: docs/requirements/auth-prd.md
Epic: EP-0010 (User Authentication) - CREATED
Stories: 5

1. US-0050: User registration (1.5d, AG-API)
   "Users can register with email and password"

2. US-0051: Email verification (1d, AG-API)
   "Verify email before allowing login"

3. US-0052: Password reset flow (1d, AG-API)
   "Users can reset forgotten password"

4. US-0053: OAuth login - Google (1.5d, AG-API)
   "Users can log in with Google account"

5. US-0054: OAuth login - GitHub (1.5d, AG-API)
   "Users can log in with GitHub account"

Total Estimate: 6.5 days
Recommended Owner: AG-API

Create these stories? (YES/NO)
```

## Generación de Criterios de Aceptación

Las historias se generan con el formato Dado/Cuándo/Entonces:

```markdown
## Acceptance Criteria

- Given a user on registration page
  When they enter valid email and 8+ character password
  Then account is created and verification email sent

- Given invalid password (< 8 characters)
  When they try to submit
  Then form shows "Password must be at least 8 characters"

- Given user opens verification email
  When they click verification link
  Then email is marked verified and login works
```

## Archivos de salida

El comando crea:

1. **Archivo épico** (`docs/05-epics/EP-XXXX.md`)
   -Título y objetivo épicos
   - Referencia del documento fuente
   - Lista de cuentos infantiles.

2. **Archivos de historias** (`docs/06-stories/EP-XXXX/US-XXXX.md`)
   - Contenido generado desde la fuente.
   - Criterios de aceptación
   - Notas técnicas
   - Estrategia de prueba

3. **Talones de pruebas** (`docs/07-testing/test-cases/US-XXXX.md`)
   - Estructura de prueba alineada con AC
   - Marcadores de posición para la implementación de pruebas.

4. **Seguimiento de estado** (`docs/09-agents/status.json`)
   - Todas las historias agregadas con estado: `ready`

5. **Comunicación** (`docs/09-agents/bus/log.jsonl`)
   - Evento de generación de historia registrado

## Flujo de trabajo

1. **Preparar el documento fuente** - Asegúrese de que el PRD/especificaciones esté completo
2. **Generar vista previa** - Ejecute `/auto` con `AUTO_CREATE=no`
3. **Revisar historias generadas** - Verificar que sean precisas y estén completas
4. **Ajustar si es necesario** - Editar vista previa o regenerar con diferentes parámetros
5. **Crear historias** - Ejecutar con `AUTO_CREATE=yes` o aprobar la vista previa
6. **Validar historias** - Utilice `/story-validate` en historias generadas
7. **Planificar sprint**: incluya historias validadas en`/sprint`

## Escenarios comunes

### Escenario: la API tiene 15 puntos finales

**Problema**: Demasiadas historias (viola la regla de estimación de 0,5d-2d)

**Solución**: El comando agrupa automáticamente los puntos finales relacionados:
- Puntos finales para el mismo recurso (OBTENER, PUBLICAR, PATCH, ELIMINAR) → Una historia
- Listar y detallar puntos finales → Una historia
- Puntos finales de autenticación → Una historia

**Resultado**: 15 puntos finales → 5-6 historias

### Escenario: PRD tiene requisitos poco claros

**Problema**: Las historias generadas parecen vagas

**Solución**:
1. Aclarar primero el PRD con las partes interesadas
2. Vuelva a ejecutar `/auto` con la fuente actualizada
3. O editar manualmente las historias generadas con `/story`

### Escenario: las historias generadas no coinciden con la velocidad del equipo

**Problema**: Las estimaciones parecen demasiado optimistas/pesimistas

**Solución**:
1. Revisar historias y ajustar estimaciones.
2. Considere la velocidad histórica del equipo.
3. Ejecute `/velocity` para comprender la capacidad del equipo.
4. Divida las historias grandes en otras más pequeñas.

## Lista de verificación de calidad

Antes de aprobar el stor generadoes:

- [ ] Todas las historias tienen criterios de aceptación claros.
- [] Las historias son independientes (sin dependencias ocultas)
- [ ] Las estimaciones son realistas (rango 0,5d-2d)
- [] Los criterios de aceptación utilizan el formato Dado/Cuando/Entonces
- [ ] Las notas técnicas son precisas.
- [] Las historias cubren escenarios principales (camino feliz + casos extremos)
- [] No hay historias duplicadas.
- [] El objetivo épico es claro y específico.
- [ ] Las asignaciones de propietarios son apropiadas

## Integración con otros comandos

- **Después de la generación**: use `/story-validate` para garantizar la calidad
- **Antes del sprint**: use `/sprint` para seleccionar historias
- **Para dependencias**: use `/deps` si las historias tienen relaciones
- **Durante el desarrollo**: utilice `/babysit` para obtener ayuda con la implementación.
- **Para pruebas**: use `/verify` para ejecutar pruebas

## Mejores prácticas

- **Comience con los requisitos** - Invierta tiempo en PRD o especificaciones claras
- **Revisar historias generadas** - No aceptar ciegamente la generación de IA
- **Validar antes del sprint** - Usar `/story-validate` en todos los ghistorias generadas
- **Requisitos relacionados con el grupo** - Épica más centrada = mejores historias
- **Sea específico en la fuente** - Requisitos vagos → historias vagas
- **Considerar dependencias** - Revisión manual de dependencias ocultas
- **Estimación conservadora** - Agregar búfer para incógnitas

## Limitaciones y consideraciones

- **La IA puede malinterpretar** - Revisar las historias generadas para verificar su precisión
- **El contexto importa** - Las historias generadas pueden carecer de conocimiento del dominio
- **Las dependencias son manuales** - Agregar dependencias entre pisos manualmente
- **Las estimaciones varían según el equipo** - Ajusta según tu velocidad
- **Detalles técnicos** - Es posible que necesite adiciones manuales al Contexto de arquitectura

## Comandos relacionados

- [`/epic`](/commands/epic) - Crea epopeyas manualmente si es necesario
- [`/story`](/commands/story) - Crear o editar historias individuales
- [`/story-validate`](/commands/story-validate) - Validar calidad generada
- [`/sprint`](/commands/sprint) - Planificar sprints con historias generadas
- [`/deps`](/commands/deps) - Visualizar dependencias después de la generación