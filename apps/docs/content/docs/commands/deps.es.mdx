---
title: "/departamentos"
description: Visualice el grÃ¡fico de dependencia con detecciÃ³n de ruta crÃ­tica
---

# /departamentos

Visualice y analice grÃ¡ficos de dependencias Ã©picas o de historias con detecciÃ³n de rutas crÃ­ticas, identificaciÃ³n de dependencias circulares y recomendaciones prÃ¡cticas.

## Inicio rÃ¡pido

```bash
/agileflow:deps
```

## ParÃ¡metros

| Parameter | Required | Default | Description |
|-----------|----------|---------|-------------|
| `SCOPE` | No | `all` | `story`, `epic`, or `all` - scope of visualization |
| `EPIC` | No | - | Show dependencies within specific epic (e.g., `EP-0010`) |
| `STORY` | No | - | Show dependencies for specific story (e.g., `US-0032`) |
| `FORMAT` | No | `ascii` | Output format: `ascii`, `mermaid`, `graphviz`, or `json` |
| `ANALYSIS` | No | `all` | Analysis type: `critical-path`, `circular`, `blocking`, or `all` |

## Ejemplos

### Ver grÃ¡fico de dependencia completo

```bash
/agileflow:deps
```

Muestra un grÃ¡fico ASCII de todas las historias y sus dependencias con indicadores de estado, ruta crÃ­tica y anÃ¡lisis de historias de bloqueo.

### Analizar dependencias Ã©picas

```bash
/agileflow:deps EPIC=EP-0010
```

Visualiza dependencias solo dentro de la Ã©pica de autenticaciÃ³n, lo que ayuda a comprender el orden del trabajo.

### Verifique las dependencias de historias especÃ­ficas

```bash
/agileflow:deps STORY=US-0032
```

Muestra de quÃ© depende esta historia y quÃ© historias dependen de ella, ademÃ¡s de anÃ¡lisis de impacto.

### Exportar como diagrama de sirena

```bash
/agileflow:deps FORMAT=mermaid
```

Genera un formato de diagrama de sirena adecuado para documentaciÃ³n o GitHub.

### Buscar solo la ruta crÃ­tica

```bash
/agileflow:deps ANALYSIS=critical-path
```

Muestra solo la ruta de dependencia mÃ¡s larga (cuello de botella para la finalizaciÃ³n del proyecto).

### Detectar dependencias circulares

```bash
/agileflow:deps ANALYSIS=circular
```

Busca ciclos imposibles de completar y sugiere soluciones.

## Formato de salida

### GrÃ¡fico ASCII (predeterminado)

```text
Story Dependency Graph
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Legend:
  âœ… Done    ğŸŸ¢ Ready    ğŸŸ¡ In Progress    ğŸ”µ In Review    âšª Blocked

EP-0010: Authentication Epic
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                            â”‚
â”‚  âœ… US-0030 - Database schema                              â”‚
â”‚  â”‚                                                         â”‚
â”‚  â”œâ”€â–¶ âœ… US-0031 - User model                               â”‚
â”‚  â”‚   â”‚                                                     â”‚
â”‚  â”‚   â”œâ”€â–¶ ğŸŸ¡ US-0032 - Login endpoint (in-progress)        â”‚
â”‚  â”‚   â”‚   â”‚                                                 â”‚
â”‚  â”‚   â”‚   â”œâ”€â–¶ ğŸŸ¢ US-0033 - Login UI                         â”‚
â”‚  â”‚   â”‚   â”‚                                                 â”‚
â”‚  â”‚   â”‚   â””â”€â–¶ âšª US-0045 - Password reset (blocked)         â”‚
â”‚  â”‚   â”‚                                                     â”‚
â”‚  â”‚   â””â”€â–¶ âœ… US-0034 - JWT middleware                       â”‚
â”‚  â”‚                                                         â”‚
â”‚  â””â”€â–¶ ğŸ”µ US-0035 - User registration (in-review)            â”‚
â”‚                                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Critical Path:
  US-0030 â†’ US-0031 â†’ US-0032 â†’ US-0033  (11 days total)

Blocking Stories:
  US-0040 blocks: US-0041, US-0042  (âš ï¸ High impact)
  US-0032 blocks: US-0033, US-0045  (âš ï¸ High impact)

Circular Dependencies: None detected âœ…
```

### Formato de diagrama de sirena

<picture>
  <source media="(prefers-color-scheme: dark)" srcset="/images/docs/commands/deps-graph.dark.svg" />
  <img alt="Dependency Graph Example" src="/images/docs/commands/deps-graph.light.svg" />
</picture>

## Tipos de anÃ¡lisis

### Ruta crÃ­tica
**Shows**: La cadena de dependencia mÃ¡s larga de principio a fin.

Ayuda a identificar:
- Â¿QuÃ© historias son cuellos de botella?
- Camino mÃ¡s crÃ­tico para la finalizaciÃ³n del proyecto
- Donde los retrasos tienen el mÃ¡ximo impacto
- Historias a priorizar para completar

```text
Critical Path: US-0030 â†’ US-0031 â†’ US-0032 â†’ US-0033
Duration: 8 days
âš ï¸ US-0032 is in-progress on critical path
   â†’ Any delay here delays entire epic
```

### Dependencias circulares
**Shows**: Historias que dependen unas de otras en un ciclo

Ejemplo de problema de dependencia circular:
```text
âŒ CIRCULAR DETECTED!

Cycle: US-0050 â†’ US-0051 â†’ US-0052 â†’ US-0050

Impact: âš ï¸ CRITICAL - These stories cannot be completed
```

**How to fix**:
1. Revisar el diseÃ±o arquitectÃ³nico.
2. Romper la dependencia introduciendo la abstracciÃ³n
3. Crear interfaz/historia de contrato
4. Refactorizar una historia para romper el ciclo

### Historias de bloqueo
**Shows**: Historias que bloquean la mayorÃ­a de los otros trabajos

Identifica cuellos de botella de alto impacto:
```text
High Impact Blockers:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Story  â”‚ Title            â”‚ Status â”‚ Blocks       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ US-0040â”‚ Stripe integ.    â”‚ ğŸŸ¢ Readyâ”‚ 2 stories  â”‚
â”‚ US-0032â”‚ Login endpoint   â”‚ ğŸŸ¡ WIP â”‚ 2 stories  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Action: Start US-0040 immediately (blocks payment epic)
```

## Indicadores de estado de la historia

| Indicator | Meaning | Action |
|-----------|---------|--------|
| âœ… Done | Story completed | Doesn't block others anymore |
| ğŸŸ¢ Ready | Ready for development | Can be started anytime |
| ğŸŸ¡ In Progress | Currently being worked | Monitor for delays |
| ğŸ”µ In Review | Awaiting approval | May complete soon |
| âšª Blocked | Waiting on dependencies | Can't start until unblocked |

## Escenarios comunes

### Escenario: la historia tiene alta prioridad pero estÃ¡ bloqueada

```text
âšª US-0045 - Password reset (blocked)
   Waiting for: US-0032 (Login endpoint, 75% done)

Recommendation:
  - Check US-0032 progress daily
  - Consider pairing to accelerate if delayed
  - US-0045 can start as soon as US-0032 is done
```

### Escenario: encontramos una dependencia circular

```text
âŒ Services have circular dependency

Current: Auth â†’ User â†’ Session â†’ Auth (cycle)

Solution:
  1. Create US-0055: "Auth/User service contract"
  2. Make all three depend on US-0055 (new foundation)
  3. Now: Auth/User/Session â†’ US-0055 (no cycle)
```

### Escenario: Historia del camino crÃ­tico en riesgo

```text
US-0032 is on CRITICAL PATH but in-progress
âš ï¸ Currently 75% done, but original estimate was 2d

If it slips:
  - US-0033 blocked (1d delay)
  - US-0045 blocked (2d delay)
  - Entire epic completion delayed

Recommendation:
  - Daily standup on progress
  - Pair if needed to accelerate
  - Identify blockers immediately
```

## Oportunidades de trabajo paralelas

El comando identifica historias que se pueden trabajar en paralelo:

```text
Stories That Can Start Now (No Blockers):

EP-0010: Authentication
  âœ… US-0033 (Login UI)         - AG-UI available
  âœ… US-0040 (Stripe integ.)    - HIGH PRIORITY

Recommended Assignments:
  AG-UI:  US-0033 (ready now)
  AG-API: US-0040 (high impact blocker)
```

## IntegraciÃ³n con otros comandos

- **Before sprint planning**: Correr `/deps` para entender los riesgos
- **During sprint**: Monitorear la ruta crÃ­tica con `/board`
- **When investigating blockers**: Usar `/deps` a ver que depende de esta historia
- **When adding dependencies**: Vuelva a ejecutar para comprobar si hay nuevos riesgos
- **When a story is blocked**: Usar `/deps STORY=US-XXXX` para ver la cadena

## Mejores prÃ¡cticas

- **Check before each sprint** - Las dependencias pueden cambiar a medida que se refinan las historias.
- **Prioritize blocking stories** - Iniciar bloqueadores de alto impacto temprano
- **Monitor critical path** - Las historias en el camino crÃ­tico merecen especial atenciÃ³n.
- **Detect cycles early** - Correr `/deps ANALYSIS=circular` regularmente
- **Sequence dependent work** - Comience primero las historias fundamentales
- **Document dependencies clearly** - Utilice el inicio de la historia para vincular dependencias.

## Comandos relacionados

- [`/correr`](/commands/sprint) - La planificaciÃ³n de Sprint respeta las dependencias.
- [`/tablero`](/commands/board) - Ver el progreso del sprint y los bloqueadores
- [`/bloqueadores`](/commands/blockers) - Seguimiento y resoluciÃ³n de historias bloqueadas.
- [`/validar historia`](/commands/story-validate) - Validar que existan dependencias.
- [`/mÃ©tricas`](/commands/metrics) - Correlacionar el tiempo del ciclo con la profundidad de la dependencia.
