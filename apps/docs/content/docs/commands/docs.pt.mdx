---
title: "/docs-sincroniza√ß√£o"
description: Sincronize a documenta√ß√£o com altera√ß√µes de c√≥digo
---

# /docs-sincroniza√ß√£o

Sincronize sua documenta√ß√£o com altera√ß√µes na base de c√≥digo, detectando novo c√≥digo e garantindo que a documenta√ß√£o correspondente exista.

## In√≠cio r√°pido

```bash
/agileflow:docs-sync
```

Para comparar com um ramo espec√≠fico:

```bash
/agileflow:docs-sync BRANCH=feature-auth BASE=main
```

## Par√¢metros

| Parameter | Required | Default | Description |
|-----------|----------|---------|-------------|
| `BRANCH` | No | Current branch | Branch to analyze for changes |
| `BASE` | No | main/master | Base branch to compare against |
| `AUTO_CREATE` | No | no | Automatically create missing documentation (yes/no) |

## Exemplos

### Analisar filial atual

```bash
/agileflow:docs-sync
```

Analisa sua filial atual em rela√ß√£o a `main` e relat√≥rios:
- Novos endpoints de API sem documenta√ß√£o
- Novos componentes de UI sem documenta√ß√£o
- Mudan√ßas de configura√ß√£o n√£o documentadas
- Documenta√ß√£o desatualizada

### Comparar ramifica√ß√£o de recursos

```bash
/agileflow:docs-sync BRANCH=feature-oauth BASE=main
```

Compara `feature-oauth` contra `main` para encontrar todas as lacunas de documenta√ß√£o.

### Criar automaticamente documentos ausentes

```bash
/agileflow:docs-sync BRANCH=feature-payments AUTO_CREATE=yes
```

Gera automaticamente documenta√ß√£o stub para todos os itens ausentes e confirma com mensagem `docs: sync with codebase changes`.

## Sa√≠da

O comando gera um relat√≥rio abrangente:

```markdown
# Documentation Sync Report

**Branch**: feature-auth | **Base**: main | **Generated**: 2025-12-24T10:30:00Z

## Missing Documentation

### API Endpoints (3)
- ‚ùå POST /api/auth/login (src/api/auth/login.ts)
- ‚ùå POST /api/auth/logout (src/api/auth/logout.ts)
- ‚ùå GET /api/auth/verify (src/api/auth/verify.ts)

### UI Components (2)
- ‚ùå LoginForm (src/components/LoginForm.tsx)
- ‚ö†Ô∏è UserProfile (src/components/UserProfile.tsx) - stub exists, needs details

### Configuration (1)
- ‚ùå New env var: JWT_SECRET (.env.example)

## Outdated Documentation

### Deprecated
- üìÑ docs/04-architecture/api.md mentions /api/v1/login (removed in this branch)

## Up-to-Date
- ‚úÖ UserAvatar component documented
- ‚úÖ Database schema up-to-date
```

## Como funciona

### Detec√ß√£o de altera√ß√µes

O comando:
1. **Compares branches** usando `git diff` para identificar todas as altera√ß√µes de c√≥digo
2. **Categorizes changes** em endpoints de API, componentes de UI, servi√ßos, configura√ß√£o e esquemas de banco de dados
3. **Maps to documentation** locais onde os documentos deveriam existir

### Infer√™ncia Inteligente

A documenta√ß√£o √© inferida de:
- **TypeScript types and interfaces** - Assinaturas de fun√ß√µes e tipos de retorno
- **JSDoc comments** - Documenta√ß√£o de c√≥digo existente
- **Test files** - Exemplos de uso
- **OpenAPI decorators** - Especifica√ß√µes da API

### An√°lise de lacunas

Para cada arquivo alterado, o comando verifica:
- **Missing documentation**: C√≥digo rec√©m-adicionado sem documentos
- **Outdated documentation**: Refer√™ncias ao c√≥digo removido ou alterado
- **Incomplete documentation**: Stubs que precisam de detalhes

## Mapeamento de Documenta√ß√£o

As altera√ß√µes de c√≥digo s√£o mapeadas para a documenta√ß√£o esperada:

| Code Location | Expected Documentation |
|--------------|----------------------|
| `src/api/` or `src/routes/` | `docs/04-architecture/api.md` or OpenAPI spec |
| `src/components/` or `src/pages/` | `docs/04-architecture/components.md` or Storybook |
| `src/services/` or `src/utils/` | `docs/04-architecture/services.md` |
| `*.config.js`, `.env.example` | `docs/02-practices/configuration.md` |
| `migrations/` or `schema/` | `docs/04-architecture/database.md` |

## Melhores Pr√°ticas

### Antes de confirmar o c√≥digo
Correr `docs-sync` para identificar antecipadamente lacunas de documenta√ß√£o:

```bash
/agileflow:docs-sync BRANCH=your-feature BASE=main
```

### Ao adicionar novos endpoints
O comando ir√° sinaliz√°-los automaticamente, facilitando a lembran√ßa da documenta√ß√£o:

```bash
/agileflow:docs-sync AUTO_CREATE=yes
```

Isso cria stubs marcados com "TODO: Adicionar detalhes" para revis√£o manual.

### Se√ß√µes de documenta√ß√£o para manter
Mantenha-os sincronizados com o c√≥digo:
- Exemplos de solicita√ß√£o/resposta de API
- Defini√ß√µes de suporte de componente
- Op√ß√µes de configura√ß√£o
- Mudan√ßas no esquema do banco de dados
- Endpoints de API obsoletos

## Comandos Relacionados

- [`/contexto`](/commands/context) - Gerar um resumo de contexto abrangente
- [`/readme-sync`](/commands/readme-sync) - Sincronize arquivos README com o conte√∫do da pasta
- [`/adr`](/commands/adr) - Documentar decis√µes arquitet√¥nicas
