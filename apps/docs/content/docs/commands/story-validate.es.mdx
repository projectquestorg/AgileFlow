---
title: "/validar-historia"
description: Validar la integridad de la historia antes del desarrollo.
---

# /validar-historia

Valide la integridad, claridad y preparaci√≥n de una historia para su desarrollo antes de asignarla a un agente.

## Inicio r√°pido

```bash
/agileflow:story-validate STORY=<US-ID>
```

## Par√°metros

| Parameter | Required | Default | Description |
|-----------|----------|---------|-------------|
| `STORY` | Yes | - | Story identifier (e.g., US-0001) |

## Ejemplos

### Validar antes del desarrollo

```bash
/agileflow:story-validate STORY=US-0042
```

Realiza una validaci√≥n integral de la historia y devuelve un informe detallado que muestra qu√© est√° completo y qu√© necesita arreglarse.

### Mira una historia de diferente epopeya

```bash
/agileflow:story-validate STORY=US-0085
```

El comando localiza autom√°ticamente el archivo de la historia independientemente de a qu√© epopeya pertenezca.

## Producci√≥n

El informe de validaci√≥n incluye:

### Cheques APROBADOS
Muestra todos los criterios de validaci√≥n que pasaron:
- Secciones requeridas presentes
- Criterios de aceptaci√≥n claros y comprobables.
- Contexto arquitect√≥nico poblado de fuentes.
- Dependencias documentadas
- La estimaci√≥n es realista

### Problemas FALLIDOS
Muestra problemas cr√≠ticos que deben solucionarse:
- Faltan secciones requeridas (AC, contexto arquitect√≥nico)
- Criterios de aceptaci√≥n poco claros (sin formato Dado/Cu√°ndo/Entonces)
- Faltan citas de fuentes en el contexto de la arquitectura
- Dependencias no verificadas
- Estimaci√≥n poco realista

### ADVERTENCIAS
Muestra problemas menores o sugerencias:
- Las dependencias podr√≠an ser m√°s claras
- Los criterios de aceptaci√≥n podr√≠an ser m√°s espec√≠ficos.
- Texto del marcador de posici√≥n del registro del agente de desarrollo
- Mejoras sugeridas

## Lista de verificaci√≥n de validaci√≥n

El comando valida:

### 1. Secciones requeridas
- Metadatos de la historia (ID, √©pica, propietario, estimaci√≥n, estado)
- Descripci√≥n
- Criterios de aceptaci√≥n (formato dado/cu√°ndo/entonces)
- Contexto arquitect√≥nico con subsecciones
- Estrategia de prueba
- Registro de agente de desarrollo (estructura)
- Dependencias (si aplica)

### 2. Criterios de Aceptaci√≥n Calidad
- Utiliza el formato Dado/Cu√°ndo/Entonces (no solo vi√±etas)
- 2-5 criterios (ni demasiados ni muy pocos)
- Espec√≠fico y mensurable
- Detalles de implementaci√≥n de referencias
- Cada criterio se puede comprobar de forma independiente.

### 3. Contexto arquitect√≥nico
- La secci√≥n existe con contenido real.
- Incluye citas de fuentes: `[Source: architecture/{file}.md#{section}]`
- Todos los archivos referenciados existen en `docs/04-architecture/`
- El contenido se extrae (no se inventa)

### 4. Estimaci√≥n
- La estimaci√≥n es una de: 0,5d, 1d, 1,5d, 2d
- Para >2d: sugiere dividir en historias m√°s peque√±as
- Realista para el alcance de la historia.

### 5. Dependencias
- El formato es claro: "Depende de EE. UU.-#### (descripci√≥n)"
- Las historias a las que se hace referencia existen en status.json
- Sin dependencias circulares
- Las historias bloqueadas tienen razones documentadas

## Flujo de trabajo

1. **Create story** - Usar `/story` para crear una nueva historia
2. **Validate completeness** - Correr `/story-validate` para comprobar antes del desarrollo
3. **Fix issues** - Abordar cualquier control o advertencia fallida.
4. **Run again** - Volver a validar despu√©s de las correcciones
5. **Develop** - La historia estar√° lista cuando pasen todos los controles.

## Informe de ejemplo

```text
üîç Story Validation Report
==========================
Story: US-0042 - User login form
File: docs/06-stories/EP-0010/US-0042-user-login-form.md
Status: ready

‚úÖ PASSED (11 checks)
------------------
- All required sections present
- Acceptance criteria in proper format
- Architecture context populated
- All source citations valid
- Dependencies documented
- Estimate is realistic
- Owner assigned and appropriate
- Dev Agent Record structured
- No circular dependencies detected
- Story within epic scope
- Title is clear and descriptive

‚ùå FAILED (0 issues)
-------------------
[None]

‚ö†Ô∏è WARNINGS (1 issue)
-----------------------
Warning: Architecture Context could be more detailed
  Suggestion: Add more specific API endpoint references

üìä SUMMARY
----------
Architecture Context: ‚úì populated
Acceptance Criteria: ‚úì clear
Dependencies: ‚úì documented
Dev Agent Record: ‚úì structured
Ready for Development: YES

Next Steps:
1. Story is ready! Assign to owner with /agileflow:assign US-0042
2. Or include in next sprint with /agileflow:sprint
```

## Problemas comunes y soluciones

### Problema: "Falta el contexto arquitect√≥nico"
**Fix**: Agregue secciones para modelos de datos, especificaciones API y componentes con citas de fuentes para `docs/04-architecture/`.

### Problema: "Los criterios de aceptaci√≥n no est√°n en formato Dado/Cu√°ndo/Entonces"
**Fix**: Reescribe los criterios siguiendo el patr√≥n:
```text
- Given [precondition]
  When [action]
  Then [expected outcome]
```

### Problema: "Cita de la fuente no encontrada"
**Fix**: Verifique que el archivo exista en `docs/04-architecture/` y utilice el anclaje de secci√≥n correcto.

### Problema: "La estimaci√≥n del alcance parece alta"
**Fix**: Considere dividir la historia en partes m√°s peque√±as o proporcionar una justificaci√≥n en las Notas t√©cnicas.

### Problema: "Se detect√≥ dependencia circular"
**Fix**: Revise la cadena de dependencia y resuelva: las historias no se pueden completar si dependen unas de otras.

## Integraci√≥n con otros comandos

- **After creation**: Siempre corre `/story-validate` antes de asignar
- **Before assignment**: Usar `/assign` s√≥lo despu√©s de pasar la validaci√≥n
- **Before sprint**: Usar `/sprint` con historias validadas
- **During development**: Informe de validaci√≥n de referencia para el contexto.
- **For updates**: Revalidar si la historia se modifica significativamente

## Mejores pr√°cticas

- **Validate before assigning** - Detectar los problemas temprano antes de que comience el desarrollo
- **Review failed checks carefully** - Cada uno tiene una sugerencia espec√≠fica.
- **Don't ignore warnings** - A menudo indican mejoras de calidad.
- **Use architecture docs** - Las citas adecuadas aclaran las historias para los desarrolladores.
- **Keep AC focused** - 2-5 criterios que cubren escenarios principales
- **Test your stories** - La validaci√≥n verifica la claridad, no la correcci√≥n.

## Comandos relacionados

- [`/historia`](/commands/story) - Crear nuevas historias
- [`/√©pico`](/commands/epic) - Crear √©pica para padres
- [`/asignar`](/commands/assign) - Asignar historias validadas a los propietarios.
- [`/correr`](/commands/sprint) - Incluir historias validadas en sprint.
- [`/cuidar`](/commands/babysit) - Obtener ayuda durante el desarrollo
- [`/deps`](/commands/deps) - Visualizar dependencias de historias.
