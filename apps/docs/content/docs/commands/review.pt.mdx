---
title: /an√°lise
description: Revis√£o de c√≥digo baseada em IA com sugest√µes de qualidade
---


# /review

Perform comprehensive AI-powered code review on pull request changes. Review analyzes code for quality, security, performance, best practices, and provides actionable feedback with specific code examples.

## Quick Start

```bash
# Review current branch against main
/agileflow:review

# Review specific branch
/agileflow:review BRANCH=feature/auth

# Review with focus on security
/agileflow:review FOCUS=security
```

The command will:
1. Get code changes (git diff)
2. Analyze across 6 categories (Quality, Security, Performance, Best Practices, Testing, Documentation)
3. Generate detailed report with issues prioritized by severity
4. Calculate code quality score
5. Suggest auto-fixes and follow-up work

## Key Features

### Comprehensive Analysis

Review examines your code changes across 6 important categories:

| Category | Checks |
|----------|--------|
| **Code Quality** | Complexity, duplication, naming, function/file length |
| **Security** | SQL injection, XSS, hardcoded secrets, unsafe deserialization |
| **Performance** | N+1 queries, inefficient algorithms, memory leaks |
| **Best Practices** | Error handling, logging, type safety, async/awaisso |
| **Testes** | Testes em falta, qualidade dos testes, lacunas de cobertura |
| **Documenta√ß√£o** | JSDoc ausente, coment√°rios desatualizados, atualiza√ß√µes README |

### Prioriza√ß√£o baseada em gravidade

Os problemas s√£o categorizados por impacto:

```text
üî¥ CRITICAL - Must fix before merge
üü† HIGH    - Fix before merge (blocks release)
üü° MEDIUM  - Address soon (technical debt)
‚ö™ LOW     - Nice to have (style/consistency)
```

### √çndice de qualidade do c√≥digo

Seu PR recebe uma pontua√ß√£o (0-100) dividida por categoria:

```text
Code Quality Score: 72/100

Breakdown:
- Security: 40/100 (critical issues found)
- Performance: 75/100 (one N+1 query)
- Maintainability: 80/100 (some complexity)
- Testing: 65/100 (coverage gaps)
- Style: 90/100 (mostly consistent)
```

### Feedback construtivo

Cada edi√ß√£o inclui:
- Onde est√° (arquivo, n√∫mero da linha)
- Por que √© importante (risco/impacto)
- Como consertar (exemplos de c√≥digo espec√≠ficos)
- Exemplo de ‚ùå c√≥digo RUIM
- Exemplo de ‚úÖ c√≥digo BOM

## Uso

### B√°sico - revise o branch atual

__NOTRADUZIR_3__

Revisa as altera√ß√µes na ramifica√ß√£o atual em rela√ß√£o √† principal/mestre.

### Revise o ramo espec√≠fico

__N√ÉOTRADUZIR_4__

Analisa o branch nomeado em rela√ß√£o ao main.

### Revis√£o em base diferente

__NOTRADUZIR_5__

Compara com um branch base diferente.

### Revis√£o com √°rea de foco

__NOTRADUZIR_6__

### Filtrar por gravidade

__N√ÉOTRADUZIR_7__

## Par√¢metros

| Par√¢metro | Obrigat√≥rio | Padr√£o | Op√ß√µes |
|-----------|----------|---------|--------|
| `BRANCH` | N√£o | Atual | Nome da filial a ser revisada |
| `BASE` | N√£o | principal/mestre | Ramo base para compara√ß√£o |
| `FOCUS` | N√£o | tudo | tudo, seguran√ßa, desempenho, estilo, testes |
| `SEVERITY` | N√£o | tudo | cr√≠tico, alto, m√©dio, baixo, todos |

## Exemplos

### Revis√£o t√≠pica de rela√ß√µes p√∫blicas

__N√ÉOTRADUZIR_8__

### Revis√£o focada em seguran√ßa

__NOTRADUZIR_9__

### Avalia√ß√£o de desempenho

__NOTRADUZIR_10__

## Revise a estrutura do relat√≥rio

### Cabe√ßalho

__NOTRADUZIR_11__

### Resumo

```text
## Summary

**Critical**: 2 | **High**: 5 | **Medium**: 12 | **Low**: 8
**Must Fix Before Merge**: 7 issues
```

### Problemas por gravidade

Para cada quest√£o:

__N√ÉOTRADUZIR_13__

### Observa√ß√µes Positivas

__NOTRADUZIR_14__

### An√°lise da qualidade do c√≥digo

__N√ÉOTRADUZIR_15__

## Personaliza√ß√£o

### Regras espec√≠ficas do projeto

Crie regras de revis√£o personalizadas em:
- `.agileflow/review-rules.md`
- `docs/02-practices/code-standards.md`

Exemplo:

__NOTRADUZIR_16__

## A√ß√µes ap√≥s revis√£o

### Corre√ß√£o autom√°tica de problemas

```text
Review asks: "Fix auto-fixable issues? (YES/NO)"

If YES:
  - Runs npm run lint -- --fix
  - Fixes 8 style issues automatically
  - Shows which issues were fixed
```

### Crie hist√≥rias de acompanhamento

__N√ÉOTRADUZIR_18__

### Bloquear mesclagem para cr√≠ticoquest√µes t√©cnicas

__NOTRADUZIR_19__

### Salvar relat√≥rio

Relat√≥rio salvo automaticamente em:
```text
docs/08-project/code-reviews/<YYYYMMDD>-<BRANCH>.md
```

Exemplo:
```text
docs/08-project/code-reviews/20251016-feature-user-auth.md
```

## Verifica√ß√µes de seguran√ßa

Rever verifica automaticamente:

### Segredos e credenciais
- Chaves de API codificadas
- Senhas de banco de dados
- Tokens OAuth
- segredos JWT
- Credenciais AWS

### Vulnerabilidades Comuns
- Inje√ß√£o de SQL (consultas n√£o parametrizadas)
- Ataques XSS (sa√≠da sem escape)
- Desserializa√ß√£o insegura
- Vulnerabilidades CSRF
- Falta de valida√ß√£o do CORS

### Padr√µes Inseguros
- avalia√ß√£o() ou Fun√ß√£o()
- Concatena√ß√£o de strings insegura
- Valida√ß√£o de entrada ausente
- Criptografia fraca
- Depend√™ncias inseguras

## Verifica√ß√µes de desempenho

A revis√£o procura:

### Banco de dados
- Problemas de consulta N+1
- √çndices ausentes
- Jun√ß√µes ineficientes
- Consultas desnecess√°rias

### Algoritmos
- O(n¬≤) quando O(n) poss√≠vel
- Loops aninhados que podem ser planos
- C√°lculos repetidos
- Recurs√£o n√£o otimizada

### Mem√≥ria
- Vazamentos de mem√≥ria
- Objetos grandes n√£o liberados
- Refer√™ncias circulares
- Estruturas de dados que consomem muita mem√≥ria

## Testecobertura

Revise as verifica√ß√µes:

### Novo C√≥digo
- Existe um teste para novas funcionalidades?
- Os casos extremos s√£o cobertos?
- A qualidade do teste √© boa?

### Lacunas de cobertura
- Linhas adicionadas sem testes
- Fun√ß√µes sem cobertura de teste
- Caminhos de erro n√£o testados

### Qualidade do teste
- As afirma√ß√µes s√£o significativas?
- Os testes verificam o comportamento?
- Os testes s√£o sustent√°veis?

## Resultados e recomenda√ß√µes

### A√ß√µes imediatas (mesclagem de blocos)

```text
1. Remove hardcoded API key (critical)
2. Fix SQL injection (critical)
3. Add error handling to login (high)
```

### Antes da mesclagem

```text
4. Add tests for auth endpoints (high)
5. Fix N+1 query in posts API (high)
6. Reduce complexity in validator.ts (medium)
```

### Acompanhamento (criar hist√≥rias)

```text
7. Standardize naming conventions (medium)
8. Add ESLint rule for secrets (medium)
9. Set up automated security scanning (low)
```

## Integra√ß√£o com CI

Sugira adicionar a __NOTRASLATE_35__:

```yaml
- name: AI Code Review
  run: npx claude-code /agileflow:review BRANCH=${{ github.head_ref }}

- name: Check for critical issues
  run: |
    if grep -q "CRITICAL" code-review-report.md; then
      echo "::error::Critical issues found."
      exit 1
    fi
```

## Dicas

### Antes de enviar PR

```bash
/agileflow:review
# Fix any CRITICAL or HIGH issues
# Address MEDIUM issues if possible
# Then submit PR with confidence
```

### Melhoria iterativa

```bash
# After feedback, run review again
/agileflow:review

# See if score improved
# Ensure critical issues fixed
# Check test coverage
```

### Abordagem que prioriza a seguran√ßa

```bash
# Always check security first
/agileflow:review FOCUS=security

# Fix any CRITICAL security issues
# Then review other categories
```

## Princ√≠pios

- **Seja construtivo** - Forne√ßa feedback pr√°tico, n√£o apenas cr√≠ticas
- **Mostrar exemplos** - Incluir c√≥digo ‚ùå RUIM e ‚úÖ BOM
- **Priorizar** - Quest√µes cr√≠ticas primeiro, estilo por √∫ltimo
- **Comemore** - Incluir observa√ß√µes positivas
- **Sugerirst fixes** - N√£o apenas identifique problemas
- **Sem commits for√ßados** - Sempre pergunte antes da corre√ß√£o autom√°tica

## Comandos Relacionados

- [`/pr`](/commands/pr) - Gerar descri√ß√£o do PR (revisar antes de enviar)
- [__NOTRASLATE_37____NOTRASLATE_42__ - Analisar o impacto da mudan√ßa
- [`/babysit`](/commands/babysit) - Orienta√ß√£o de implementa√ß√£o (executa a revis√£o antes do PR)
- [__NOTRASLATE_39____NOTRASLATE_44__ - Verifique a aprova√ß√£o nos testes
- [`/baseline`](/commands/baseline) - Criar ponto de verifica√ß√£o verificado