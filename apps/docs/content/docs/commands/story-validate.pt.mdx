---
title: /validar hist√≥ria
description: Valide a integridade da hist√≥ria antes do desenvolvimento
---
# /validar hist√≥ria

Valide a integridade, a clareza e a prontid√£o de uma hist√≥ria para desenvolvimento antes de atribu√≠-la a um agente.

## In√≠cio r√°pido

```bash
/agileflow:story-validate STORY=<US-ID>
```

## Par√¢metros

| Par√¢metro | Obrigat√≥rio | Padr√£o | Descri√ß√£o |
|-----------|----------|---------|------------|
| `STORY` | Sim | - | Identificador de hist√≥ria (por exemplo, US-0001) |

## Exemplos

### Validar antes do desenvolvimento

```bash
/agileflow:story-validate STORY=US-0042
```

Executa valida√ß√£o abrangente da hist√≥ria e retorna um relat√≥rio detalhado mostrando o que est√° completo e o que precisa ser corrigido.

### Confira uma hist√≥ria de um √©pico diferente

```bash
/agileflow:story-validate STORY=US-0085
```

O comando localiza automaticamente o arquivo da hist√≥ria, independentemente do √©pico ao qual ele pertence.

## Sa√≠da

O relat√≥rio de valida√ß√£o inclui:

### Verifica√ß√µes PASSADAS
Mostra todos os crit√©rios de valida√ß√£o aprovados:
- Se√ß√µes obrigat√≥rias presentes
- Crit√©rios de aceita√ß√£o claros e test√°veis
- Contexto de arquitetura preenchido com fontes
- Depend√™ncias documentadas
- A estimativa √© realista

### Problemas com FALHA
Mostra problemas cr√≠ticos que mudeve ser corrigido:
- Se√ß√µes obrigat√≥rias ausentes (AC, contexto de arquitetura)
- Crit√©rios de aceita√ß√£o pouco claros (n√£o no formato Dado/Quando/Ent√£o)
- Cita√ß√µes de fontes ausentes no contexto da arquitetura
- Depend√™ncias n√£o verificadas
- Estimativa irrealista

### AVISOS
Mostra pequenos problemas ou sugest√µes:
- Depend√™ncias poderiam ser mais claras
- Os crit√©rios de aceita√ß√£o poderiam ser mais espec√≠ficos
- Texto do espa√ßo reservado do registro do agente de desenvolvimento
- Melhorias sugeridas

## Lista de verifica√ß√£o de valida√ß√£o

O comando valida:

### 1. Se√ß√µes obrigat√≥rias
- Metadados da hist√≥ria (ID, √©pico, propriet√°rio, estimativa, status)
- Descri√ß√£o
- Crit√©rios de aceita√ß√£o (formato Dado/Quando/Ent√£o)
- Contexto de arquitetura com subse√ß√µes
- Estrat√©gia de teste
- Registro do Agente Dev (estrutura)
- Depend√™ncias (se aplic√°vel)

### 2. Crit√©rios de aceita√ß√£o de qualidade
- Usa o formato Dado/Quando/Ent√£o (n√£o apenas marcadores)
- 2 a 5 crit√©rios (nem muitos, nem poucos)
- Espec√≠fico e mensur√°vel
- Detalhes de implementa√ß√£o de refer√™ncias
- Cada crit√©rio pode ser testado de forma independente

### 3. Contexto da Arquitetura
- Segundotion exists with real content
- Includes source citations: `[Source: architecture/{file}.md#{section}]`
- All referenced files exist in `docs/04-architecture/`
- Content is extracted (not invented)

### 4. Estimation
- Estimate is one of: 0.5d, 1d, 1.5d, 2d
- For >2d: suggests breaking into smaller stories
- Realistic for story scope

### 5. Dependencies
- Format is clear: "Depends on US-#### (description)"
- Referenced stories exist in status.json
- No circular dependencies
- Blocked stories have documented reasons

## Workflow

1. **Create story** - Use `/story` to create new story
2. **Validate completeness** - Run `/story-validate` to check before development
3. **Fix issues** - Address any failed checks or warnings
4. **Run again** - Re-validate after fixes
5. **Develop** - Story is ready when all checks pass

## Example Report

```text
üîç Story Validation Report
==========================
Story: US-0042 - User login form
File: docs/06-stories/EP-0010/US-0042-user-login-form.md
Status: ready

‚úÖ PASSED (11 checks)
------------------
- All required sections present
- Acceptance criteria in proper format
- Architecture context populated
- All source citations valid
- Dependencies documented
- Estimate is realistic
- Owner assigned and appropriate
- Dev Agent Record structured
- No circular dependencies detected
- Story within epic scope
- Title is clear and descriptive

‚ùå FAILED (0 issues)
-------------------
[None]

‚ö†Ô∏è WARNINGS (1 issue)
-----------------------
Warning: Architecture Context could be more detailed
  Suggestion: Add more specific API endpoint references

üìä SUMMARY
----------
Architecture Context: ‚úì populated
Acceptance Criteria: ‚úì clear
Dependencies: ‚úì documented
Dev Agent Record: ‚úì structured
Ready for Development: YES

Next Steps:
1. Story is ready! Assign to owner with /agileflow:assign US-0042
2. Or include in next sprint with /agileflow:sprint
```

## Common Issues and Fixes

### Issue: "Architecture Context missing"
**Fix**: Add sections for Data Models, API Specs, Components with source citations to `docs/04-architecture/`.

### Problema: "Os crit√©rios de aceita√ß√£o n√£o est√£o no formato Dado/Quando/Ent√£o"
**Corre√ß√£o**: reescreva os crit√©rios seguindo o padr√£o:
__N√ÉOTRADUZIR_4__

### Problema: "Cita√ß√£o da fonte n√£o encontrada"
**Corre√ß√£o**: Verifique se o arquivo existe em `docs/04-architecture/` e use a √¢ncora de se√ß√£o correta.

### Problema: "A estimativa parece alta para o escopo"
**Corre√ß√£o**: considere dividir a hist√≥ria em hist√≥rias menores ou fornecer uma justificativa nas notas t√©cnicas.

### Problema: "Depend√™ncia circular detectada"
**Corre√ß√£o**: Revise a cadeia de depend√™ncias e resolva - as hist√≥rias n√£o podem ser conclu√≠das se dependerem umas das outras.

## Integra√ß√£o com outros comandos

- **Ap√≥s a cria√ß√£o**: Sempre execute __NOTRASLATE_12__ antes de atribuir
- **Antes da atribui√ß√£o**: Use __NOTRASLATE_13__ somente ap√≥s a valida√ß√£o passar
- **Antes do sprint**: Use __NOTRASLATE_14__ com hist√≥rias validadas
- **Durante o desenvolvimento**: Relat√≥rio de valida√ß√£o de refer√™ncia para contexto
- **Para atualiza√ß√µes**: revalide se a hist√≥ria for significativamente modificada

## Melhores pr√°ticas

- **Validar antes de atribuir** -Identifique os problemas antes do in√≠cio do desenvolvimento
- **Analise as verifica√ß√µes que falharam com cuidado** - Cada uma tem uma sugest√£o espec√≠fica
- **N√£o ignore os avisos** - Eles geralmente indicam melhorias de qualidade
- **Use documentos de arquitetura** - Cita√ß√µes adequadas tornam as hist√≥rias mais claras para os desenvolvedores
- **Mantenha o foco no AC** - 2 a 5 crit√©rios que cobrem os principais cen√°rios
- **Teste suas hist√≥rias** - A valida√ß√£o verifica a clareza, n√£o a corre√ß√£o

## Comandos Relacionados

- [`/story`](/commands/story) - Crie novas hist√≥rias
- [`/epic`](/commands/epic) - Criar √©pico pai
- [`/assign`](/commands/assign) - Atribuir hist√≥rias validadas aos propriet√°rios
- [`/sprint`](/commands/sprint) - Incluir hist√≥rias validadas no sprint
- [`/babysit`](/commands/babysit) - Obtenha ajuda durante o desenvolvimento
- [`/deps`](/commands/deps) - Visualize depend√™ncias da hist√≥ria