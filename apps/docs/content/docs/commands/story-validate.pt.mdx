---
title: "/validar hist√≥ria"
description: Valide a integridade da hist√≥ria antes do desenvolvimento
---

# /validar hist√≥ria

Valide a integridade, a clareza e a prontid√£o de uma hist√≥ria para desenvolvimento antes de atribu√≠-la a um agente.

## In√≠cio r√°pido

```bash
/agileflow:story-validate STORY=<US-ID>
```

## Par√¢metros

| Parameter | Required | Default | Description |
|-----------|----------|---------|-------------|
| `STORY` | Yes | - | Story identifier (e.g., US-0001) |

## Exemplos

### Validar antes do desenvolvimento

```bash
/agileflow:story-validate STORY=US-0042
```

Executa valida√ß√£o abrangente da hist√≥ria e retorna um relat√≥rio detalhado mostrando o que est√° completo e o que precisa ser corrigido.

### Confira uma hist√≥ria de outro √©pico

```bash
/agileflow:story-validate STORY=US-0085
```

O comando localiza automaticamente o arquivo da hist√≥ria, independentemente do √©pico ao qual ele pertence.

## Sa√≠da

O relat√≥rio de valida√ß√£o inclui:

### Cheques PASSADOS
Mostra todos os crit√©rios de valida√ß√£o aprovados:
- Se√ß√µes obrigat√≥rias presentes
- Crit√©rios de aceita√ß√£o claros e test√°veis
- Contexto de arquitetura preenchido com fontes
- Depend√™ncias documentadas
- A estimativa √© realista

### Problemas com FALHA
Mostra problemas cr√≠ticos que devem ser corrigidos:
- Se√ß√µes obrigat√≥rias ausentes (AC, contexto de arquitetura)
- Crit√©rios de aceita√ß√£o pouco claros (n√£o no formato Dado/Quando/Ent√£o)
- Cita√ß√µes de fontes ausentes no contexto da arquitetura
- Depend√™ncias n√£o verificadas
- Estimativa irrealista

### AVISOS
Mostra pequenos problemas ou sugest√µes:
- As depend√™ncias poderiam ser mais claras
- Os crit√©rios de aceita√ß√£o poderiam ser mais espec√≠ficos
- Texto do espa√ßo reservado para registro do agente de desenvolvimento
- Melhorias sugeridas

## Lista de verifica√ß√£o de valida√ß√£o

O comando valida:

### 1. Se√ß√µes obrigat√≥rias
- Metadados da hist√≥ria (ID, √©pico, propriet√°rio, estimativa, status)
- Descri√ß√£o
- Crit√©rios de aceita√ß√£o (formato Dado/Quando/Ent√£o)
- Contexto de arquitetura com subse√ß√µes
- Estrat√©gia de teste
- Registro do agente de desenvolvimento (estrutura)
- Depend√™ncias (se aplic√°vel)

### 2. Qualidade dos Crit√©rios de Aceita√ß√£o
- Usa o formato Dado/Quando/Ent√£o (n√£o apenas marcadores)
- 2 a 5 crit√©rios (nem muitos, nem poucos)
- Espec√≠fico e mensur√°vel
- Detalhes de implementa√ß√£o de refer√™ncias
- Cada crit√©rio √© test√°vel de forma independente

### 3. Contexto da Arquitetura
- Existe se√ß√£o com conte√∫do real
- Inclui cita√ß√µes de fontes: `[Source: architecture/{file}.md#{section}]`
- Todos os arquivos referenciados existem em `docs/04-architecture/`
- O conte√∫do √© extra√≠do (n√£o inventado)

### 4. Estimativa
- A estimativa √© uma de: 0,5d, 1d, 1,5d, 2d
- Para >2d: sugere dividir em hist√≥rias menores
- Realista para o escopo da hist√≥ria

### 5. Depend√™ncias
- O formato √© claro: "Depende dos EUA-#### (descri√ß√£o)"
- Hist√≥rias referenciadas existem em status.json
- Sem depend√™ncias circulares
- Hist√≥rias bloqueadas t√™m motivos documentados

## Fluxo de trabalho

1. **Create story** - Usar `/story` para criar uma nova hist√≥ria
2. **Validate completeness** - Correr `/story-validate` para verificar antes do desenvolvimento
3. **Fix issues** - Abordar quaisquer verifica√ß√µes ou avisos com falha
4. **Run again** - Revalidar ap√≥s corre√ß√µes
5. **Develop** - A hist√≥ria estar√° pronta quando todas as verifica√ß√µes forem aprovadas

## Relat√≥rio de exemplo

```text
üîç Story Validation Report
==========================
Story: US-0042 - User login form
File: docs/06-stories/EP-0010/US-0042-user-login-form.md
Status: ready

‚úÖ PASSED (11 checks)
------------------
- All required sections present
- Acceptance criteria in proper format
- Architecture context populated
- All source citations valid
- Dependencies documented
- Estimate is realistic
- Owner assigned and appropriate
- Dev Agent Record structured
- No circular dependencies detected
- Story within epic scope
- Title is clear and descriptive

‚ùå FAILED (0 issues)
-------------------
[None]

‚ö†Ô∏è WARNINGS (1 issue)
-----------------------
Warning: Architecture Context could be more detailed
  Suggestion: Add more specific API endpoint references

üìä SUMMARY
----------
Architecture Context: ‚úì populated
Acceptance Criteria: ‚úì clear
Dependencies: ‚úì documented
Dev Agent Record: ‚úì structured
Ready for Development: YES

Next Steps:
1. Story is ready! Assign to owner with /agileflow:assign US-0042
2. Or include in next sprint with /agileflow:sprint
```

## Problemas comuns e solu√ß√µes

### Problema: "Falta contexto de arquitetura"
**Fix**: adicione se√ß√µes para modelos de dados, especifica√ß√µes de API, componentes com cita√ß√µes de origem para `docs/04-architecture/`.

### Problema: "Os crit√©rios de aceita√ß√£o n√£o est√£o no formato Dado/Quando/Ent√£o"
**Fix**: Reescreva os crit√©rios seguindo o padr√£o:
```text
- Given [precondition]
  When [action]
  Then [expected outcome]
```

### Problema: "Cita√ß√£o da fonte n√£o encontrada"
**Fix**: Verifique se o arquivo existe em `docs/04-architecture/` e use a √¢ncora de se√ß√£o correta.

### Problema: "A estimativa parece alta para o escopo"
**Fix**: Considere dividir a hist√≥ria em hist√≥rias menores ou fornecer justificativas em Notas T√©cnicas.

### Problema: "Depend√™ncia circular detectada"
**Fix**: Revise a cadeia de depend√™ncias e resolva - as hist√≥rias n√£o poder√£o ser conclu√≠das se dependerem umas das outras.

## Integra√ß√£o com outros comandos

- **After creation**: Sempre corra `/story-validate` antes de atribuir
- **Before assignment**: Usar `/assign` somente ap√≥s a valida√ß√£o passar
- **Before sprint**: Usar `/sprint` com hist√≥rias validadas
- **During development**: Relat√≥rio de valida√ß√£o de refer√™ncia para contexto
- **For updates**: Revalidar se a hist√≥ria for significativamente modificada

## Melhores Pr√°ticas

- **Validate before assigning** - Identifique os problemas antes do in√≠cio do desenvolvimento
- **Review failed checks carefully** - Cada um tem uma sugest√£o espec√≠fica
- **Don't ignore warnings** - Muitas vezes indicam melhorias de qualidade
- **Use architecture docs** - Cita√ß√µes adequadas tornam as hist√≥rias mais claras para os desenvolvedores
- **Keep AC focused** - 2 a 5 crit√©rios que cobrem os principais cen√°rios
- **Test your stories** - A valida√ß√£o verifica a clareza, n√£o a corre√ß√£o

## Comandos Relacionados

- [`/ hist√≥ria`](/commands/story) - Crie novas hist√≥rias
- [`/√©pico`](/commands/epic) - Criar √©pico pai
- [`/atribuir`](/commands/assign) - Atribuir hist√≥rias validadas aos propriet√°rios
- [`/sprint`](/commands/sprint) - Incluir hist√≥rias validadas no sprint
- [`/bab√°`](/commands/babysit) - Obtenha ajuda durante o desenvolvimento
- [`/deps`](/commands/deps) - Visualize depend√™ncias da hist√≥ria
