---
title: /agileflow:recherche
description: Commandes du sous-répertoire de recherche pour les enquêtes basées sur l'IA et l'importation de connaissances
---

# /agileflow:recherche

Système de recherche complet permettant de générer des invites d'enquête détaillées, d'importer des résultats et de gérer des notes de recherche.

## Démarrage rapide

Le système de recherche propose quatre commandes spécialisées :

```bash
/agileflow:research:ask TOPIC="your research topic"       # Generate research prompt
/agileflow:research:import TOPIC="title"                  # Import external results
/agileflow:research:list                                   # View all research notes
/agileflow:research:view FILE=<filename>                  # Read specific note
```

## Aperçu

Le système de recherche permet :

1. **Generate detailed research prompts** pour ChatGPT, Claude web, Perplexity ou Gemini
2. **Import results** des outils d'IA externes dans votre projet
3. **Browse and reference** résultats de recherches antérieures
4. **Organize findings** avec des modèles et des index structurés

La recherche est essentielle pour :
- Résoudre des problèmes difficiles avec une expertise externe en IA
- Étudier les technologies avant les décisions d'architecture
- Documenter l’apprentissage à partir de sources externes
- Construire une base de connaissances pour votre équipe

## Sous-commandes

### /agileflow:research:ask - Générer une invite de recherche

Générez une invite de recherche complète et riche en contexte pour les outils d'IA Web.

**Purpose**: Crée plus de 200 invites de lignes détaillées qui incluent le contexte de votre base de code, les messages d'erreur exacts, ce que vous avez essayé et des questions spécifiques.

**Command**:
```bash
/agileflow:research:ask TOPIC="your topic" [DETAILS="constraints"] [ERROR="error message"]
```

**Parameters**:

| Argument | Required | Description |
|----------|----------|-------------|
| TOPIC | Yes | What you're researching (e.g., "OAuth 2.0 with Google") |
| DETAILS | No | Constraints, deadlines, or specific requirements |
| ERROR | No | Exact error message if troubleshooting |

**Key Features**:

- **Generates 200+ lines minimum** - Détaillé et complet
- **Includes actual code snippets** - 50+ lignes de votre base de code
- **Embeds exact errors** - Traces de pile complète en cas de dépannage
- **Lists attempted solutions** - Montre ce que vous avez déjà essayé
- **Asks specific questions** - 3+ questions ciblées pour l'IA
- **Output only** - Aucun fichier écrit, vous copiez vers un outil d'IA externe

**What Gets Generated**:

L'invite comprend ces sections obligatoires :

- **Project Context** - Framework, dépendances, fichiers pertinents
- **Current Implementation** - Plus de 50 lignes de code réel de votre base de code
- **The Problem** - Messages d'erreur exacts, traces de pile, comportement attendu par rapport au comportement réel
- **What We've Already Tried** - 2+ approches avec résultats et analyses
- **Specific Questions** - 3+ questions ciblées auxquelles répondre
- **What I Need** - Analyse des causes profondes, solution étape par étape, exemples de code, pièges
- **Environment Details** - Versions et informations système
- **References** - Liens sources si vous citez la documentation

**Quality Validation**:

Avant de sortir, la commande vérifie :
- Longueur ≥ 200 lignes
- Extraits de code ≥ 50 lignes
- Messages d'erreur textuels (le cas échéant)
- ≥ 2 approches essayées répertoriées
- ≥ 3 questions spécifiques incluses

**Example**:

```bash
# Research OAuth issue
/agileflow:research:ask TOPIC="next-auth Google OAuth unauthorized_client" ERROR="[auth][error] CallbackRouteError: unauthorized_client"

# Output: 250+ line prompt with code, error details, what was tried, and specific questions
# Copy output → ChatGPT/Claude web → Get expert analysis
# Then use /agileflow:research:import to save the response
```

**Workflow**:

```
1. /agileflow:research:ask TOPIC="..."
   ↓ (command generates prompt)
2. Copy prompt output
3. Paste into ChatGPT/Claude web/Perplexity
4. Get expert analysis
5. /agileflow:research:import TOPIC="..." CONTENT="paste response"
   ↓ (command saves and structures results)
6. Results saved to docs/10-research/YYYYMMDD-topic-slug.md
```

**Integration with babysit**:

Quand `/babysit` détecte que vous êtes bloqué, il suggère :
```
Looks like you're stuck on this problem.
Try: /agileflow:research:ask TOPIC="describe your problem"
```

---

### /agileflow:research:import - Importer les résultats de la recherche

Importez les résultats de recherche d’outils d’IA externes dans votre dossier de recherche avec un formatage structuré.

**Purpose**: prend les résultats de ChatGPT, Claude Web, Perplexity, des transcriptions YouTube ou des articles de blog et les enregistre sous forme de fichiers de démarques organisés.

**Command**:
```bash
/agileflow:research:import TOPIC="topic" [CONTENT="results"] [SOURCE="url"]
```

**Parameters**:

| Argument | Required | Description |
|----------|----------|-------------|
| TOPIC | Yes | Name for the research file (e.g., "OAuth 2.0 Setup") |
| CONTENT | Yes* | Research results to import (*can be pasted after command) |
| SOURCE | No | Original source URL for attribution |

**Key Features**:

- **Preserves ALL code snippets** - Exactement comme prévu
- **Generates actionable items** - Prochaines étapes concrètes, pas de vagues suggestions
- **Diff-first preview** - Afficher le résultat formaté avant de sauvegarder
- **Updates research index** - Ajoute automatiquement à docs/10-research/README.md
- **Links to decisions** - Peut faire référence à des ADR, des épopées ou des histoires

**What Gets Created**:

Dossier de recherche structuré avec sections :

- **Summary** - 2-3 paragraphe TL;DR
- **Key Findings** - Principaux points à retenir sous forme de puces
- **Implementation Approach** - Plan étape par étape le cas échéant
- **Code Snippets** - Tout le code conservé exactement comme fourni
- **Action Items** - Prochaines étapes concrètes (cases à cocher)
- **Risks & Gotchas** - Avertissements et cas extrêmes
- **Story Suggestions** - Caractéristiques potentielles si la recherche suggère du travail
- **Raw Content Reference** - Contenu original réduit pour référence

**File Location**:
```
docs/10-research/YYYYMMDD-topic-slug.md
```

**Index Update**:

Entrée de recherche ajoutée à `docs/10-research/README.md`:
```markdown
| Date | Topic | File | Summary |
|------|-------|------|---------|
| 2025-01-01 | OAuth 2.0 Setup | 20250101-oauth-setup.md | OAuth flows, security, best practices |
```

**Example**:

```bash
# After getting ChatGPT response about OAuth
/agileflow:research:import TOPIC="OAuth 2.0 Setup" SOURCE="https://chatgpt.com"

# Prompts: "Paste the ChatGPT response"
# You paste content
# Command shows preview
# You confirm
# Results saved to docs/10-research/20250101-oauth-setup.md
```

**Works With**:

- Réponses ChatGPT
- Conversations Web de Claude
- Résultats de la recherche sur la perplexité
- Transcriptions de vidéos YouTube
- Extraits d'articles de blog
- Conference talk notes
- Pages de documentation
- Notes de réunion

---

### /agileflow:research:list - Afficher l'index des notes de recherche

Affichez toutes les notes de recherche de votre projet avec un aperçu rapide.

**Purpose**: Affiche les notes de recherche stockées dans `docs/10-research/` avec date, sujet, nom de fichier et résumé.

**Command**:
```bash
/agileflow:research:list
```

**Parameters**: Aucun

**Key Features**:

- **Read-only** - Aucun fichier écrit
- **Shows all notes** - Date, sujet, nom du fichier
- **Sorted by date** - Le plus récent en premier
- **Quick action hints** - Suggestions pour les prochaines commandes

**Output Example**:

```
## Research Notes

| Date | Topic | File |
|------|-------|------|
| 2025-01-01 | OAuth 2.0 Setup | 20250101-oauth-setup.md |
| 2024-12-31 | TypeScript Performance | 20241231-typescript-perf.md |
| 2024-12-28 | Mermaid Diagrams | 20241228-mermaid.md |

Total: 3 research notes

Quick actions:
- /agileflow:research:view FILE=20250101-oauth-setup.md - Read a note
- /agileflow:research:ask TOPIC="new topic" - Create new research
- /agileflow:research:import - Import external content
```

**When to Use**:

- Trouver des recherches antérieures avant de mettre en œuvre
- Recherchez les extraits de code que vous avez recherchés
- Vérifier les éléments d'action des recherches précédentes

---

### /agileflow:research:view - Lire la note de recherche spécifique

Affichez le contenu complet d’une note de recherche de votre dossier de recherche.

**Purpose**: Lisez et examinez les notes de recherche pour trouver des extraits de code, des actions et des résultats.

**Command**:
```bash
/agileflow:research:view FILE=<filename>
```

**Parameters**:

| Argument | Required | Description |
|----------|----------|-------------|
| FILE | Yes | Filename of the research note (e.g., "20250101-oauth-setup.md") |

**Key Features**:

- **Read-only** - Aucun fichier écrit
- **Full content** - Fichier entier affiché, non tronqué
- **Find anything** - Extraits de code, éléments d'action, résultats

**Example**:

```bash
# View OAuth research
/agileflow:research:view FILE=20250101-oauth-setup.md

# Output: Full content of the file
```

**Output Includes**:

- Contenu complet du dossier de recherche
- Tous les extraits de code de la recherche
- Éléments d'action avec cases à cocher
- Principales conclusions et pièges
- Risques et considérations
- Références et sources

---

## Exemples de flux de travail

### Flux de travail de recherche complet

**Scenario**: Vous êtes bloqué sur l'authentification et avez besoin de l'aide d'un expert.

```bash
# Step 1: Generate detailed research prompt
/agileflow:research:ask TOPIC="next-auth Google OAuth unauthorized_client error" \
  ERROR="[auth][error] CallbackRouteError: unauthorized_client"

# Output: 250+ line detailed prompt with your code, error, what you tried, questions
# → Copy the prompt

# Step 2: Paste into ChatGPT/Perplexity
# → Get expert analysis back

# Step 3: Import the results
/agileflow:research:import TOPIC="next-auth OAuth Fix" SOURCE="https://chatgpt.com"

# Prompts for content → paste ChatGPT response
# → Shows preview of formatted file
# → Saves to docs/10-research/YYYYMMDD-nextauth-oauth-fix.md

# Step 4: Reference in your work
# - Create ADR referencing the research
# - Create story based on action items
# - Check action items when implementing

# Step 5: Review research when implementing
/agileflow:research:list                    # See all research
/agileflow:research:view FILE=<filename>    # Review details
```

### Enquête avant la décision d'architecture

```bash
# Step 1: Research database options
/agileflow:research:ask TOPIC="PostgreSQL vs MongoDB for real-time collaboration"

# Step 2: Get expert comparison, use cases, tradeoffs
# → Copy response from ChatGPT/Perplexity

# Step 3: Import results
/agileflow:research:import TOPIC="Database Selection Analysis"

# Step 4: Create ADR referencing research
# /agileflow:adr NEW
# Mention: "See research in docs/10-research/"

# Step 5: Team reviews research before decision
/agileflow:research:view FILE=20250101-database-selection.md
```

### Apprendre du contenu externe

```bash
# You find a great article/YouTube video about your tech

# Step 1: Import the content
/agileflow:research:import TOPIC="Next.js App Router Advanced Patterns" \
  SOURCE="https://example.com/article"

# Copy/paste key sections → saves to research folder

# Step 2: Reference from architecture docs
# docs/04-architecture/... → "See research: [link]"

# Step 3: Create stories from action items
# "Per research, we should implement error boundaries"
```

---

## Intégration avec d'autres commandes

### babysit - Détection bloquée

Quand `/babysit` détecte que vous êtes bloqué sur un problème :

```
⚠️ You're working on this for a while. Need help?

Try:
  /agileflow:research:ask TOPIC="describe your problem"
```

### ADR - Décisions d'architecture

Recherches de référence en matière de décisions architecturales :

```markdown
# ADR-0042: Use PostgreSQL for persistence

**Research**: See [Database Comparison](../10-research/20250101-database-selection.md)

Based on the research findings, we decided to use PostgreSQL because...
```

### Histoires et épopées

Créez un travail à partir des résultats de la recherche :

```bash
# After importing research results
/agileflow:research:import TOPIC="Auth Pattern"

# Then create story based on action items
/agileflow:epic NEW
# Include: "Based on research: docs/10-research/20250101-auth-pattern.md"
```

---

## Meilleures pratiques

### Génération d'invites de recherche

1. **Be specific with TOPIC** - Ne vous contentez pas de dire "aide avec l'authentification", dites "prochaine authentification 5.0 avec Google OAuth".
2. **Include ERROR messages** - Les traces de pile complète aident énormément
3. **Document what you tried** - Montre l'IA que vous avez fait vos devoirs
4. **Ask specific questions** - "Pourquoi X se produit-il ?" pas "Comment puis-je résoudre ce problème ?"

**Good TOPIC examples:**
- "Erreur Google OAuth non autorisé_client d'authentification suivante avec le routeur d'application Next.js 14"
- "Erreurs de compilation en mode strict TypeScript dans la configuration monorepo"
- "La validation de la signature du webhook Stripe échoue lors du développement"

**Bad TOPIC examples:**
- "aide à l'authentification"
- "Pourquoi mon code est-il cassé"
- "erreur dans mon application"

### Importation de recherche

1. **Always cite the source** - D'où as-tu eu ça ?
2. **Preserve code snippets exactly** - Ne modifiez pas les exemples
3. **Extract key findings** - Ne vous contentez pas de coller du contenu brut
4. **Generate action items** - Que dois-tu faire avec ça ?
5. **Link to decisions** - Référencez les ADR, les épopées, les histoires le cas échéant

### Gestion de la recherche

1. **Review before implementing** - Ne suivez pas aveuglément les recherches
2. **Check action items** - Utilisez les cases à cocher pour suivre ce que vous avez fait
3. **Keep files current** - Mettez à jour si vous en savez plus
4. **Reference in decisions** - Lien depuis les ADR et les histoires
5. **Archive old research** - Déplacer les résultats obsolètes vers le répertoire d'archives

---

## Structure de recherche

Les fichiers de recherche sont stockés avec des préfixes de date ISO :

```
docs/10-research/
├── README.md                                    (Index table)
├── 20250101-oauth-setup.md
├── 20241231-typescript-performance.md
└── 20241228-mermaid-diagrams.md
```

### Nom du fichier

```
YYYYMMDD-topic-slug.md

Examples:
- 20250101-oauth-setup.md
- 20241231-stripe-webhooks.md
- 20241228-typescript-strict-mode.md
```

### Index de recherche

Le `docs/10-research/README.md` tient un tableau de toutes les notes de recherche :

```markdown
# Research Notes

| Date | Topic | File | Summary |
|------|-------|------|---------|
| 2025-01-01 | OAuth 2.0 Setup | 20250101-oauth-setup.md | OAuth flows, security, best practices |
| 2024-12-31 | TypeScript Performance | 20241231-typescript-perf.md | Optimization techniques and tsconfig tuning |
| 2024-12-28 | Mermaid Diagrams | 20241228-mermaid.md | Diagram syntax, rendering, and best practices |
```

---

## Quand utiliser la recherche

### Avant les décisions d'architecture
Recherchez des outils et des cadres avant de les recommander :

```bash
/agileflow:research:ask TOPIC="PostgreSQL vs MongoDB for real-time sync"
# → Get expert comparison
/agileflow:research:import  # Import results
# → Create ADR referencing the research
```

### Enquête sur les fonctionnalités
Découvrez en profondeur comment implémenter des fonctionnalités complexes :

```bash
/agileflow:research:ask TOPIC="Next.js App Router middleware patterns"
/agileflow:research:ask TOPIC="OAuth 2.0 implementation with security best practices"
/agileflow:research:ask TOPIC="Real-time WebSocket architecture in Node.js"
```

### Dépannage des problèmes difficiles
Obtenez l'aide d'un expert en cas de blocage :

```bash
/agileflow:research:ask TOPIC="TypeScript strict mode in monorepo" \
  ERROR="error TS1149: File is a CommonJS module..."
```

### Apprentissage et formation
Documentez les apprentissages issus de cours, de tutoriels ou de documentation :

```bash
/agileflow:research:import TOPIC="React 18 Suspense and Streaming" \
  SOURCE="https://react.dev/reference/react/Suspense"
```

### Évaluation technologique
Comparez les options avant l’adoption :

```bash
/agileflow:research:ask TOPIC="GraphQL vs tRPC for type-safe APIs"
/agileflow:research:ask TOPIC="SvelteKit vs Next.js for new project"
```

---

## Dépannage

### Invite de recherche trop courte

Si vous recevez une invite de moins de 200 lignes, la commande sera régénérée. S'assurer:
- LE SUJET est spécifique (inclure les versions du framework, les types d'erreurs)
- ERREUR inclut la trace complète de la pile en cas de dépannage
- La commande lit votre base de code réelle

### Importation sans mise à jour de l'index

L'indice (`docs/10-research/README.md`) est automatiquement créé et mis à jour. S'il manque :

```bash
/agileflow:research:list  # This will create the index if missing
```

### Impossible de trouver le fichier de recherche

Utiliser `/agileflow:research:list` pour voir tous les fichiers disponibles :

```bash
/agileflow:research:list
# Shows all files with correct filenames for /agileflow:research:view
```

### Le dossier de recherche n'existe pas

First research import or list command creates the `docs/10-research/` répertoire automatiquement. Aucune configuration manuelle nécessaire.

---

## Commandes associées

- [`/agileflow:baby-sit`](/commands/babysit) - Détecte les situations bloquées et suggère des recherches : demander
- [`/agileflow:adr`](/commands/adr) - Créer des décisions d'architecture faisant référence à la recherche
- [`/agileflow:épique`](/commands/epic) - Créer des épopées basées sur les résultats de la recherche
- [`/agileflow:histoire`](/commands/story) - Créer des histoires avec des références de recherche
