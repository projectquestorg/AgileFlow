---
title: /docs-sync
description: Synchronisez la documentation avec les modifications de code
---
# /docs-sync

Synchronisez votre documentation avec les modifications de la base de code en d√©tectant le nouveau code et en vous assurant que la documentation correspondante existe.

## D√©marrage rapide

```bash
/agileflow:docs-sync
```

Pour comparer avec une branche sp√©cifique¬†:

```bash
/agileflow:docs-sync BRANCH=feature-auth BASE=main
```

## Param√®tres

| Param√®tre | Obligatoire | Par d√©faut | Descriptif |
|-----------|----------|---------|-------------|
| `BRANCH` | Non | Branche actuelle | Branche √† analyser pour les changements |
| `BASE` | Non | principal/ma√Ætre | Branche de base √† comparer |
| `AUTO_CREATE` | Non | non | Cr√©er automatiquement la documentation manquante (oui/non) |

## Exemples

### Analyser la branche actuelle

```bash
/agileflow:docs-sync
```

Analyse votre branche actuelle par rapport √† `main` et rapporte¬†:
- Nouveaux points de terminaison API sans documentation
- Nouveaux composants d'interface utilisateur sans documentation
- Modifications de configuration non document√©es
- Documentation obsol√®te

### Comparer la branche des fonctionnalit√©s

```bash
/agileflow:docs-sync BRANCH=feature-oauth BASE=main
```

Compare `feature-oauth` √† `main` pour trouver toutes les lacunes dans la documentation.

### Cr√©er automatiquement des documents manquants

```bash
/agileflow:docs-sync BRANCH=feature-payments AUTO_CREATE=yes
```

G√©n√®re automatiquement une documentation de remplacement pour tous les √©l√©ments manquants et valide avec le message `docs: sync with codebase changes`.

## Sortie

La commande g√©n√®re un rapport complet¬†:

```markdown
# Documentation Sync Report

**Branch**: feature-auth | **Base**: main | **Generated**: 2025-12-24T10:30:00Z

## Missing Documentation

### API Endpoints (3)
- ‚ùå POST /api/auth/login (src/api/auth/login.ts)
- ‚ùå POST /api/auth/logout (src/api/auth/logout.ts)
- ‚ùå GET /api/auth/verify (src/api/auth/verify.ts)

### UI Components (2)
- ‚ùå LoginForm (src/components/LoginForm.tsx)
- ‚ö†Ô∏è UserProfile (src/components/UserProfile.tsx) - stub exists, needs details

### Configuration (1)
- ‚ùå New env var: JWT_SECRET (.env.example)

## Outdated Documentation

### Deprecated
- üìÑ docs/04-architecture/api.md mentions /api/v1/login (removed in this branch)

## Up-to-Date
- ‚úÖ UserAvatar component documented
- ‚úÖ Database schema up-to-date
```

## Comment √ßa marche

### D√©tection des changements

La commande :
1. **Compare les branches** en utilisant `git diff` pour identifier toutes les modifications de code
2. **Cat√©gorise les modifications** en points de terminaison d'API, composants d'interface utilisateur, services, configuration et sch√©mas de base de donn√©es
3. **Cartes vers les emplacements de documentation** o√π les documents devraient exister

### Inf√©rence intelligente

La documentation est d√©duite de¬†:
- **Types et interfaces TypeScript** - Signatures de fonctions et types de retour
- **Commentaires JSDoc** - Documentation du code existant
- **Fichiers de test** - Exemples d'utilisation
- **D√©corateurs OpenAPI** - Sp√©cifications API

### Analyse des √©carts

Pour chaque fichier modifi√©, la commande v√©rifie¬†:
- **Documentation manquante**¬†: code nouvellement ajout√© sans documentation
- **Documentation obsol√®te**¬†: r√©f√©rences au code supprim√© ou modifi√©
- **Incompletla documentation**¬†:¬†stubs n√©cessitant des d√©tails

## Cartographie des documents

Les modifications de code sont mapp√©es √† la documentation attendue¬†:

| Emplacement des codes | Documentation attendue |
|--------------|----------------------|
| `src/api/` ou `src/routes/` | `docs/04-architecture/api.md` ou sp√©cification OpenAPI |
| `src/components/` ou `src/pages/` | `docs/04-architecture/components.md` ou Livre d'histoires |
| `src/services/` ou `src/utils/` | `docs/04-architecture/services.md` |
| `*.config.js`, `.env.example` | `docs/02-practices/configuration.md` |
| `migrations/` ou `schema/` | `docs/04-architecture/database.md` |

##¬†meilleures pratiques

### Avant de valider le code
Ex√©cutez `docs-sync` pour identifier rapidement les lacunes dans la documentation¬†:

```bash
/agileflow:docs-sync BRANCH=your-feature BASE=main
```

### Lors de l'ajout de nouveaux points de terminaison
La commande les signalera automatiquement, ce qui facilitera la m√©morisation de la documentation¬†:

```bash
/agileflow:docs-sync AUTO_CREATE=yes
```

Cela cr√©e des talons marqu√©s de ¬´ √Ä FAIRE¬†: Ajouter des d√©tails ¬ª pour une r√©vision manuelle.

### Sections de documentation √† maintenir
Gardez-les synchronis√©s avec le code¬†:
- Exemple de requ√™te/r√©ponse APIs
- D√©finitions des accessoires de composants
- Options de configuration
- Modifications du sch√©ma de base de donn√©es
- Points de terminaison d'API obsol√®tes

## Commandes associ√©es

- [`/context`](/commands/context) - G√©n√©rer un r√©sum√© contextuel complet
- [`/readme-sync`](/commands/readme-sync) - Synchronise les fichiers README avec le contenu du dossier
- [`/adr`](/commands/adr) - Documenter les d√©cisions architecturales