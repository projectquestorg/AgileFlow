---
title: "/docs-sync"
description: Synchronisez la documentation avec les modifications de code
---

# /docs-sync

Synchronisez votre documentation avec les modifications de la base de code en d√©tectant le nouveau code et en vous assurant que la documentation correspondante existe.

## D√©marrage rapide

```bash
/agileflow:docs-sync
```

Pour comparer avec une branche sp√©cifique¬†:

```bash
/agileflow:docs-sync BRANCH=feature-auth BASE=main
```

## Param√®tres

| Parameter | Required | Default | Description |
|-----------|----------|---------|-------------|
| `BRANCH` | No | Current branch | Branch to analyze for changes |
| `BASE` | No | main/master | Base branch to compare against |
| `AUTO_CREATE` | No | no | Automatically create missing documentation (yes/no) |

## Exemples

### Analyser la branche actuelle

```bash
/agileflow:docs-sync
```

Analyse votre branche actuelle par rapport √† `main` et rapports :
- Nouveaux points de terminaison d'API sans documentation
- Nouveaux composants d'interface utilisateur sans documentation
- Modifications de configuration non document√©es
- Documentation obsol√®te

### Comparer la branche des fonctionnalit√©s

```bash
/agileflow:docs-sync BRANCH=feature-oauth BASE=main
```

Compare `feature-oauth` contre `main` pour trouver toutes les lacunes de la documentation.

### Cr√©er automatiquement des documents manquants

```bash
/agileflow:docs-sync BRANCH=feature-payments AUTO_CREATE=yes
```

G√©n√®re automatiquement une documentation stub pour tous les √©l√©ments manquants et s'engage avec un message `docs: sync with codebase changes`.

## Sortir

La commande g√©n√®re un rapport complet¬†:

```markdown
# Documentation Sync Report

**Branch**: feature-auth | **Base**: main | **Generated**: 2025-12-24T10:30:00Z

## Missing Documentation

### API Endpoints (3)
- ‚ùå POST /api/auth/login (src/api/auth/login.ts)
- ‚ùå POST /api/auth/logout (src/api/auth/logout.ts)
- ‚ùå GET /api/auth/verify (src/api/auth/verify.ts)

### UI Components (2)
- ‚ùå LoginForm (src/components/LoginForm.tsx)
- ‚ö†Ô∏è UserProfile (src/components/UserProfile.tsx) - stub exists, needs details

### Configuration (1)
- ‚ùå New env var: JWT_SECRET (.env.example)

## Outdated Documentation

### Deprecated
- üìÑ docs/04-architecture/api.md mentions /api/v1/login (removed in this branch)

## Up-to-Date
- ‚úÖ UserAvatar component documented
- ‚úÖ Database schema up-to-date
```

## Comment √ßa marche

### D√©tection des changements

La commande :
1. **Compares branches** en utilisant `git diff` pour identifier tous les changements de code
2. **Categorizes changes** dans les points de terminaison de l'API, les composants de l'interface utilisateur, les services, la configuration et les sch√©mas de base de donn√©es
3. **Maps to documentation** emplacements o√π les documents devraient exister

### Inf√©rence intelligente

La documentation est d√©duite de¬†:
- **TypeScript types and interfaces** - Signatures de fonction et types de retour
- **JSDoc comments** -Documentation du code existant
- **Test files** - Exemples d'utilisation
- **OpenAPI decorators** - Sp√©cifications API

### Analyse des √©carts

Pour chaque fichier modifi√©, la commande v√©rifie¬†:
- **Missing documentation**: Code nouvellement ajout√© sans documentation
- **Outdated documentation**: R√©f√©rences au code supprim√© ou modifi√©
- **Incomplete documentation**:¬†Stubs n√©cessitant des d√©tails

## Cartographie des documents

Les modifications de code sont mapp√©es √† la documentation attendue¬†:

| Code Location | Expected Documentation |
|--------------|----------------------|
| `src/api/` or `src/routes/` | `docs/04-architecture/api.md` or OpenAPI spec |
| `src/components/` or `src/pages/` | `docs/04-architecture/components.md` or Storybook |
| `src/services/` or `src/utils/` | `docs/04-architecture/services.md` |
| `*.config.js`, `.env.example` | `docs/02-practices/configuration.md` |
| `migrations/` or `schema/` | `docs/04-architecture/database.md` |

## Meilleures pratiques

### Avant de valider le code
Courir `docs-sync` pour identifier rapidement les lacunes dans la documentation¬†:

```bash
/agileflow:docs-sync BRANCH=your-feature BASE=main
```

### Lors de l'ajout de nouveaux points de terminaison
La commande les signalera automatiquement, ce qui facilitera la m√©morisation de la documentation¬†:

```bash
/agileflow:docs-sync AUTO_CREATE=yes
```

Cela cr√©e des talons marqu√©s de ¬´ √Ä FAIRE¬†: Ajouter des d√©tails ¬ª pour une r√©vision manuelle.

### Sections de documentation √† conserver
Gardez-les synchronis√©s avec le code¬†:
- Exemples de requ√™tes/r√©ponses API
- D√©finitions des accessoires de composants
- Options de configuration
- Modifications du sch√©ma de base de donn√©es
- Points de terminaison d'API obsol√®tes

## Commandes associ√©es

- [`/contexte`](/commands/context) - G√©n√©rer un briefing contextuel complet
- [`/readme-sync`](/commands/readme-sync) - Synchronisez les fichiers README avec le contenu du dossier
- [`/adr`](/commands/adr) - Documenter les d√©cisions architecturales
