---
title: / اختبارات الإعداد
description: قم بإعداد البنية التحتية للاختبار الآلي
---
# / اختبارات الإعداد

اكتشف تلقائيًا نوع مشروعك وقم بتشغيل بنية أساسية كاملة للاختبار من خلال إعداد إطار العمل والتكوين واختبارات الأمثلة وتكامل CI.

## بداية سريعة

__لا تترجم_0__

## الغرض

ينشئ هذا الأمر أساسًا للاختبار الاحترافي من خلال:
- الكشف التلقائي عن لغة مشروعك وإطاره
- تثبيت تبعيات إطار الاختبار المناسب
- إنشاء ملفات التكوين الاختبار
- إنشاء نموذج للوحدة والتكامل واختبارات E2E
- إضافة البرامج النصية للاختبار إلى تكوين البناء الخاص بك
- دمج الاختبارات في خط أنابيب CI/CD
- إنشاء وثائق الاختبار وأفضل الممارسات
- إجراء الاختبارات للتأكد من عمل الإعداد

## المعلمات

| المعلمة | مطلوب | الافتراضي | الوصف |
|-----------|----------|---------|-------------|
| __غير مترجم_20__ | لا | __غير مترجم_21__ | `auto`, `jest`, `mocha`, `pytest`, `rspec`, `go-test`, `cargo-test` |
| __غير مترجم_29__ | لا | `yes` | تمكين تقارير التغطية: `yes` أو `no` |
| __غير مترجم_33__ | لا | __غير مترجم_34__ | تضمين اختبارات E2E: `yes` أو `no` |

## أمثلة

### الكشف التلقائي والإعداد

__لا تترجم_1__

يكتشف Node.js/Python/Ruby/Go/Rust ويقوم بتثبيت الإطار المناسب.

### إطار عمل محدد للقوة

__لا تترجم_2__

يستخدم Jest للاختبار مع تمكين التغطية.

### تضمين اختبارات E2E

__لا تترجم_3__

يقوم بإعداد الوحدة والتكامل والاختبارات الشاملة (الكاتب المسرحي لتطبيقات الويب).

### مشروع بايثون

__لا تترجم_4__

تثبيت pytest مع التغطية وإنشاء اختبارات تجريبية.

## كشف المشروع

يكتشف الأمر تلقائيًا مكدس التكنولوجيا الخاص بك:

| مكدس التكنولوجيا | الإطار | تم الكشف عنه بواسطة |
|-----------|----------|-------------|
| نود.جي إس | مزاح | package.json |
| Node.js (الأقدم) | موكا | package.json |
| بايثون | بيتيست | المتطلبات.txt، pyproject.toml |
| روبي | آر سبيك | جيمفيل |
| اذهب | اذهب للاختبار | اذهب.MOD |
| الصدأ | البضائع ربتوقيت شرق | Cargo.toml |
| جافا | الوحدة | pom.xml، build.gradle |
| صافي | xUnit/NUnit | *.csproj |

## ملفات الإخراج

يقوم الأمر بإنشاء إعداد اختبار كامل:

### ملفات التكوين

**مزاح** (`jest.config.js`):
__لا تترجم_5__

**pytest** (`pytest.ini`):
__لا تترجم_6__

**RSpec** (`.rspec`):
__لا تترجم_7__

### هيكل الدليل

إنشاء أدلة اختبار منظمة:

__لا تترجم_50__
  __لا تترجم_51__
    __لا تترجم_52__
    __لا تترجم_53__
    __لا تترجم_54__
    __لا تترجم_55__
    __لا تترجم_56__
  __لا تترجم_57__
__لا تترجم_58__

### أمثلة على الاختبارات

**اختبار الوحدة** (`tests/unit/example.test.ts`):
__لا تترجم_8__

**اختبار المكون** (`tests/components/Button.test.tsx`):
__لا تترجم_9__

**اختبار التكامل** (`tests/integration/api.test.ts`):
__لا تترجم_10__

**اختبار E2E** (`tests/e2e/login.spec.ts`):
__لا تترجم_11__

### البرامج النصية NPM

تم التحديث `package.json`:
__لا تترجم_12__

### التكامل مع CI

إضافة مهمة اختبارية إلى `.github/workflows/ci.yml`:
__لا تترجم_13__

### الوثيقةtation

إنشاء `docs/02-practices/testing.md`:
__لا تترجم_14__

## أنواع الاختبار

### اختبارات الوحدة
**ماذا**: اختبار الوظائف/الفئات الفردية بشكل منفصل
**السرعة**: سريع (<10 مللي ثانية لكل منهما)
**استهزاء**: نعم، تبعيات وهمية
**التغطية**: يجب أن تحتوي معظم التعليمات البرمجية على اختبارات وحدة

مثال: اختبار دالة مساعدة تحسب عمر المستخدم.

### اختبارات التكامل
**ماذا**: اختبار مكونات متعددة تعمل معًا
**السرعة**: متوسطة (أقل من 100 مللي ثانية لكل منها)
**السخرية**: الحد الأدنى، استخدم مكونات حقيقية
**التغطية**: مسارات العمل المهمة ومسارات واجهة برمجة التطبيقات

مثال: اختبار أن تدفق المصادقة يعمل من البداية إلى النهاية مع قاعدة البيانات.

### اختبارات E2E (اختياري)
**ماذا**: اختبار تدفقات المستخدم الكاملة في التطبيق الحقيقي
**السرعة**: بطيئة (ثواني لكل اختبار)
**الاستهزاء**: لا يوجد، تطبيق حقيقي
**التغطية**: رحلات المستخدم المهمة فقط

مثال: تسجيل المستخدم → تسجيل الدخول → عرض تدفق لوحة المعلومات.

## عتبات التغطية

الحدود الافتراضية (معقولة وليست مثالية):
- **الفروع**: 70% - تغطية جميع مسارات القرار
- **الوظائف**: 70% - استدعاء جميع الوظائفإد
- **الخطوط**: 70% - تم تنفيذ جميع الخطوط
- **الكشوفات**: 70% - يتم تشغيل كافة الكشوفات

**لماذا لا 100%؟**
- التغطية 100% لا تضمن الصحة 100%
- يصعب اختبار بعض التعليمات البرمجية (واجهة المستخدم، وحالات الحافة)
- تناقص العوائد بعد 70-80%
- التركيز على المسارات الحرجة بدلاً من ذلك

## تشغيل الاختبارات

### أثناء التطوير
__لا تترجم_15__
يقوم بتشغيل الاختبارات تلقائيًا عند تغيير الملفات.

### قبل الالتزام
__لا تترجم_16__
مجموعة اختبار كاملة مع فحص التغطية.

### في سي آي
يعمل تلقائيًا عند كل ضغطة:
__لا تترجم_17__

## سير العمل

يتبع الإعداد الخطوات التالية:

1. **اكتشاف اللغة/وقت التشغيل**
   - يبحث عن package.json، وGemfile، وgo.mod، وما إلى ذلك.
   - تحديد الإطار المناسب

2. **التحقق من الإعداد الحالي**
   - عمليات المسح بحثًا عن أدلة الاختبار (اختبار/، اختبارات/، __اختبارات__/)
   - التحقق من ملفات التكوين الاختبار
   - يكتشف تكوين CI

3. **إظهار خطة الإعداد**
   __لا تترجم_18__

4. **تثبيت التبعيات**
   - تثبيت npm، تثبيت النقطة، تثبيت الحزمة، إلخ.

5. **إنشاء التكوين**
   - إطار محددج ملفات التكوين

6. **إنشاء أمثلة**
   - مثال على اختبار الوحدة
   - مثال اختبار التكامل
   - مثال اختبار E2E (إذا طلب ذلك)

7. ** تحديث البرامج النصية وCI **
   - إضافة أوامر الاختبار
   - التكامل مع سير العمل الحالي

8. **إجراء الاختبارات**
   - التحقق من عمل الإعداد
   - عرض تقرير التغطية

9. **إنشاء الوثائق**
   - دليل الاختبار
   - أفضل الممارسات
   - توقعات التغطية

## الخطوات التالية

بعد اكتمال الإعداد:

1. **تشغيل الاختبارات محليًا**
   __لا تترجم_19__

2. **اكتب الاختبارات الأولى**
   - ابدأ باختبارات الوحدة للمرافق
   - إضافة اختبارات التكامل لواجهات برمجة التطبيقات
   - أضف لاحقًا اختبارات E2E للتدفقات الحرجة

3. **تمكين عمليات التحقق من التغطية**
   - CI يتطلب الحد الأدنى من التغطية
   - الدمج محظور في حالة انخفاض التغطية

4. **مراقبة اتجاهات التغطية**
   - استخدم codecov.io أو ما شابه
   - تغطية المسار مع مرور الوقت
   - احتفل بالتحسينات

## أفضل الممارسات

1. **اكتب الاختبارات مبكرًا** - TDD أو جنبًا إلى جنب مع الميزات
2. **حافظ على سرعة الاختبارات** - محاكاة للعمليات البطيئة
3. **استخدم الأسماء الوصفية** - اختبار الاسميشرح ما يختبره
4. **تأكيد واحد لكل اختبار** - يوضح حالات الفشل عندما يكون ذلك ممكنًا
5. **التجفيف في الاختبارات** - استخدم التركيبات والمصانع والإعداد/التفكيك
6. **سلوك الاختبار** - وليس تفاصيل التنفيذ
7. **تجنب التشققات** - لا توجد مشكلات في التوقيت أو حالات فشل عشوائية
8. **التنظيف** - إعادة ضبط الحالة بين الاختبارات

## الأوامر ذات الصلة

- [`/ci-setup`](/commands/ci) - إعداد سير عمل CI/CD
- [`/setup-deployment`](/commands/deploy) - تكوين النشر
- [`/packages`](/commands/packages) - إدارة تبعيات الاختبار