---
title: /histoire
description: Créer une user story avec des critères d'acceptation
---
# /histoire

Créez une nouvelle user story avec des critères d'acceptation, des talons de test et un suivi du statut.

## Démarrage rapide

```bash
/agileflow:story EPIC=<EP-ID> STORY=<US-ID> TITLE=<text> OWNER=<id>
```

## Paramètres

| Paramètre | Obligatoire | Par défaut | Descriptif |
|-----------|----------|---------|-------------|
| `EPIC` | Oui | - | ID épique parent (par exemple, EP-0001) |
| `STORY` | Oui | - | Identifiant de l'histoire (par exemple, US-0001) |
| `TITLE` | Oui | - | Titre de l'histoire décrivant la fonctionnalité |
| `OWNER` | Oui | - | Nom du propriétaire ou identifiant de l'agent (par exemple, AG-UI, AG-API) |
| `ESTIMATE` | Non | `0.5d` | Estimation du temps (par exemple, `0.5d`, `1d`, `2d`) |
| `AC` | Non | - | Critères d'acceptation au format Donné/Quand/Alors |
| `DEPENDENCIES` | Non | - | Liste d'identifiants d'histoires dépendantes, séparés par des virgules (par exemple, `US-0001,US-0002`) |

## Exemples

### Création d'histoires de base

```bash
/agileflow:story EPIC=EP-0010 STORY=US-0001 TITLE="User registration form" OWNER=AG-UI
```

Crée un fichier d'histoire à `docs/06-stories/EP-0010/US-0001-user-registration-form.md` avec une estimation par défaut (0,5d) et un statut (prêt).

### Magasiny avec critères d'acceptation

```bash
/agileflow:story EPIC=EP-0010 STORY=US-0002 TITLE="Validate email address" OWNER=AG-API ESTIMATE=1d AC="Given a valid email, When form submitted, Then confirmation email sent"
```

Crée l'histoire avec des critères d'acceptation spécifiques qui guident le développement et les tests.

### Histoire avec dépendances

```bash
/agileflow:story EPIC=EP-0010 STORY=US-0003 TITLE="Password reset flow" OWNER=AG-API ESTIMATE=1d DEPENDENCIES=US-0001,US-0002
```

Crée l'histoire et la marque comme dépendante des histoires précédentes. Ces dépendances sont visualisées dans la commande `/deps`.

## Sortie

La commande crée :

1. **Fichier d'histoire** (`docs/06-stories/EP-XXXX/US-XXXX-<slug>.md`)
   - Métadonnées de l'histoire (ID, épopée, propriétaire, estimation, statut)
   - Description et critères d'acceptation
   - Contexte d'architecture (rempli lors du développement)
   - Stratégie de tests

2. **Stub de test** (`docs/07-testing/test-cases/US-XXXX.md`)
   - Structure de test alignée sur les critères d'acceptation
   - Espace réservé pour la mise en œuvre des tests
   - Liens vers l'histoire pour le contexte

3. **Suivi du statut** (`docs/09-agents/status.json`)
   - Entrée d'histoire avec propriétaire, estimation et statut
   - Liens de dépendance vers d'autres histoires
   - Mission épique

4. **Communication avec les agents** (`docs/09-agents/bus/log.jsonl`)
   - Message d'affectation montrant l'histoire créée et attribuée

## Travailfaible

1. **Créez l'histoire** - Exécutez `/story` avec l'épopée, l'ID, le titre et le propriétaire
2. **Ajouter des critères d'acceptation** - Utilisez `/story-validate` pour affiner et tester AC
3. **Valider l'exhaustivité** - Exécutez `/story-validate STORY=<US-ID>` avant le développement
4. **Développer l'histoire** - Le propriétaire met en œuvre selon les critères d'acceptation
5. **Exécuter des tests** - Utilisez `/verify` pour exécuter des tests automatisés
6. **Demander un examen** - Mettre à jour le statut sur `in-review` lorsque vous êtes prêt

## Format des critères d'acceptation

Utilisez le format Given/When/Then pour des critères clairs et testables :

```markdown
- **Given** a user on the registration page
  **When** they enter valid email and password
  **Then** an account is created and confirmation email sent

- **Given** they submit an invalid email
  **When** they click submit
  **Then** form shows "Invalid email" error
```

Les critères d'acceptation doivent être :
- **Spécifique** : référencez les champs et les valeurs réels
- **Testable** : peut être vérifié avec des tests automatisés ou manuels
- **Indépendant** : Chaque critère teste une chose
- **Complet** : Couvre le chemin heureux et les cas majeurs

## Estimations de l'histoire

Utilisez ces estimations standards :

| Estimation | Quand utiliser |
|--------------|------------|
| `0.5d` | CRUD simple, composant d'interface utilisateur de base, solution rapide |
| `1d` | Fonctionnalité standard avec validation et tests de base |
| `1.5d` | Logique complexe, validations multiples ou intégration |
| `2d` | Refactoring important ou composant de fonctionnalité majeur |
| `>2d` | Plongez dans des histoires plus petites |

## Intégration avec d'autres commandes

- **Après la création de l'histoire** : utilisez `/story-validate` pour garantir la préparation
- **Avant le développement** : utilisez `/babysit` pour une aide interactive à la mise en œuvre
- **Pendant le développement** : utilisez `/verify` pour exécuter des tests
- **Pour la révision du code** : utilisez `/review` pour les suggestions basées sur l'IA
- **Pour les demandes d'extraction** : utilisez `/pr` pour générer automatiquement une description PR

## meilleures pratiques

- **Une histoire = une fonctionnalité** - Gardez les histoires ciblées et livrables de manière indépendante
- **Rédiger des critères d'acceptation clairs** - Ceux-ci guident le développement et les tests
- **Estimer de manière réaliste** - Tenir compte de la complexité et de l'expérience de l'équipe
- **Lier explicitement les dépendances** - Aide à la planification du sprint et à l'évaluation des risquessment
- **Valider avant le développement** - Utilisez `/story-validate` pour détecter les problèmes plus tôt

## Commandes associées

- [`/epic`](/commands/epic) - Créer l'épopée parent
- [`/story-validate`](/commands/story-validate) - Valider l'exhaustivité de l'histoire avant le développement
- [`/sprint`](/commands/sprint) - Sélectionner des histoires pour la planification du sprint
- [`/auto`](/commands/auto) - Générer automatiquement des histoires à partir de PRD ou de spécifications
- [`/babysit`](/commands/babysit) - Obtenez une aide interactive pendant la mise en œuvre
- [`/verify`](/commands/verify) - Exécuter des tests et mettre à jour l'état des tests