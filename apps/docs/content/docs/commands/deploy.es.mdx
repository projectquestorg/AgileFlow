---
title: /configuración-implementación
description: Configurar el proceso de implementación automatizado
---
# /configuración-implementación

Detecte automáticamente su tipo de proyecto y configure un proceso de implementación completo con configuraciones específicas de la plataforma, flujos de trabajo de CI/CD y administración del entorno.

## Inicio rápido

```bash
/agileflow:setup-deployment PLATFORM=auto ENV=both AUTO_DEPLOY=no
```

## Propósito

Este comando configura de forma inteligente la infraestructura de implementación mediante:
- Detección automática de su tipo de proyecto (estático, full-stack, sin servidor, móvil, contenedores)
- Recomendar la plataforma de implementación óptima.
- Generación de archivos de configuración específicos de la plataforma.
- Creación de flujos de trabajo de implementación de GitHub Actions
- Configuración de plantillas de variables de entorno y gestión de secretos.
- Proporcionar próximos pasos claros para la implementación.

## Parámetros

| Parámetro | Requerido | Predeterminado | Descripción |
|-----------|----------|---------|-------------|
| `PLATFORM` | No | `auto` | `auto`, `vercel`, `netlify`, `heroku`, `aws`, `gcp`, `docker`, `eas` |
| `ENV` | No |`both` | `staging`, `production` o `both` |
| `AUTO_DEPLOY` | No | `no` | `yes` o `no`: activa la implementación automáticamente al presionar |

## Ejemplos

### Detectar todo automáticamente

```bash
/agileflow:setup-deployment
```

Detecta el tipo de proyecto y recomienda la mejor plataforma automáticamente.

### Especificar plataforma explícitamente

```bash
/agileflow:setup-deployment PLATFORM=vercel ENV=both
```

Configura la implementación de Vercel tanto para la puesta en escena como para la producción.

### Implementación de Docker en Fly.io

```bash
/agileflow:setup-deployment PLATFORM=docker ENV=production
```

Configura la implementación basada en Docker (funciona con Fly.io, AWS, GCP).

### Aplicación móvil con EAS

```bash
/agileflow:setup-deployment PLATFORM=eas ENV=production
```

Configura los servicios de aplicaciones de Expo para la implementación de React Native/Expo.

## Detección de proyectos

El comando analiza su proyecto para recomendar plataformas:

### Sitios estáticos
**Detectado por**: HTML/CSS/JS, React/Vue/Angular SPA (sin backend)
- Recomendado: Vercel o Netlify
- Ideal para: Sitios de marketing, SPA, documentación.

### Aplicaciones web de pila completa
**Detectado por**: servidor Node.js, ERutas API xpress/Fastify/Next.js
- Recomendado: Vercel (Next.js) o Railway
- Ideal para: aplicaciones web con lógica backend

### Aplicaciones móviles (React Native / Expo)
**Detectado por**: `expo` configuración, dependencia `react-native`
- Recomendado: EAS (Expo Application Services)
- Ideal para: aplicaciones móviles iOS/Android

### Aplicaciones basadas en contenedores
**Detectado por**: `Dockerfile` presente
- Recomendado: Fly.io
- Ideal para: implementaciones personalizadas de Docker, microservicios

### Funciones sin servidor
**Detectado por**: funciones Lambda, configuración de API Gateway
- Recomendado: Funciones AWS Lambda o Vercel
- Ideal para: cargas de trabajo de pago por ejecución impulsadas por eventos

## Archivos de salida

El comando crea varios archivos de configuración:

### Configuración de la plataforma
- **Vercel**: `vercel.json`
- **Netlify**: `netlify.toml`
- **Heroku**: `Procfile`, `app.json`
- **Docker**: `Dockerfile`, `.dockerignore`, `fly.toml`
- **EAS**: `eas.json`
- **AWS Lambda**: `serverless.yml`

### Flujo de trabajo CI/CD
- `.github/workflows/deploy.yml` - Flujo de trabajo de implementación automatizado
- Apoya la puesta en escena → promoción de la producción.
- Se ejecuta en push a las ramas provisionales/principales.

### Gestión Ambiental
- `.env.example` - Plantilla para variables de entorno (segura de confirmar)
- `docs/02-practices/secrets-management.md` - Guía de gestión de secretos
- `docs/02-practices/deployment.md` - Documentación de implementación

## Plataformas

### Vercel (recomendado para Next.js/React)
Ideal para: implementaciones de Next.js, React y SPA
- Construcciones automáticas en git push
- CDN global
- Funciones sin servidor integradas
- Interfaz de usuario de gestión del entorno
- Vista previa de implementaciones en relaciones públicas

**Próximos pasos**:
```bash
vercel link              # Connect your GitHub repo
vercel env add DATABASE_URL production
git push origin main     # Trigger deployment
```

### Netlify (Recomendado para sitios estáticos)
Ideal para: sitios estáticos, JAMstack, SPA generales
- Construcciones automáticas desde git
- Análisis y formularios integrados
- Funciones sin servidor
- Integración de Netlify CMS
- Gestión de dominio personalizada

### Heroku (servidores Node.js/Python)
Ideal para: aplicaciones de servidor tradicionales
- Implementación simple basada en slugs
- PostgreSQL, complementos de Redis
- Var. de entornogestión responsable
- Funciones de colaboración en equipo

**Próximos pasos**:
```bash
heroku login
heroku create my-app
heroku addons:create heroku-postgresql:hobby-dev
git push heroku main
```

### Fly.io (implementación de Docker)
Ideal para: contenedores Docker, microservicios y tiempos de ejecución personalizados
- Implementación global con enrutamiento anycast
- Soporte IPv6
- Escalado automático
- Volúmenes persistentes
- PostgreSQL incluido

**Próximos pasos**:
```bash
fly auth login
fly launch
fly deploy
```

### AWS (Lambda/ECS/Elastic Beanstalk)
Ideal para: aplicaciones escalables, microservicios
- Múltiples opciones de implementación (Lambda, ECS, Beanstalk)
- Rentable a escala
- Integración con el ecosistema AWS
- Control de acceso detallado

### EAS (Expo/Reaccionar nativo)
Ideal para: aplicaciones móviles (iOS/Android)
- Construcciones nativas en la nube.
- Envíos a App Store/Play Store
- Actualizaciones OTA
- Construcciones de clientes de desarrollo.

## Flujo de trabajo

La configuración sigue un proceso consistente:

1. **Detectar tipo de proyecto**: analiza dependencias y archivos
2. **Recomendar plataforma**: sugiere alojamiento óptimo
3. **Generar configuración**: crea archivos específicos de la plataforma
4. **Crear flujo de trabajo** - Configura GitHub Acciones para el despliegue
5. **Configuración del entorno**: crea `.env.example` y documentos
6. **Mostrar vista previa**: muestra todos los archivos para su revisión.
7. **Crear archivos** - Escribe en el disco después de la confirmación SÍ/NO
8. **Mostrar próximos pasos**: finalización de la configuración de las guías

## Gestión Ambiental

### Puesta en escena versus producción

El comando puede configurar uno o ambos entornos:

```yaml
# Example: Two-branch deployment
Staging:
  - Branch: staging
  - URL: staging.example.com
  - Environment: development-like

Production:
  - Branch: main
  - URL: example.com
  - Environment: live
```

### Gestión de secretos

**Nunca envíes secretos a git**. En lugar de eso:

1. Utilice `.env.example` como plantilla
2. Almacene secretos reales en la plataforma (Vercel, Heroku, etc.)
3. GitHub Actions proporciona `${{ secrets.NAME }}`
4. Lea `docs/02-practices/secrets-management.md` para obtener más detalles.

**Secretos comunes**:
- Cadenas de conexión de base de datos
- Claves API (Stripe, SendGrid, etc.)
- Credenciales de AWS
- Tokens de servicio de terceros

## Ejemplos por plataforma

### Implementación de Vercel

```bash
/agileflow:setup-deployment PLATFORM=vercel
```

Crea:
- `vercel.json` con configuración de compilación
- `.github/workflows/deploy.yml` para implementación automática
- `.env.example` con nombres de variables Vercel
- Documentos de implementación

### Heroku con PostgreSQL

```bash
/agileflow:setup-deployment PLATFORM=heroku ENV=production
```

Crea:
- `Procfile` (web: inicio de npm)
- `app.json` con configuración de paquete de compilación
- Documentos de configuración de PostgreSQL
- Flujo de trabajo de implementación

### Docker a Fly.io

```bash
/agileflow:setup-deployment PLATFORM=docker
```

Crea:
- `Dockerfile` con compilación de varias etapas
- `.dockerignore` para una imagen limpia
- `fly.toml` con configuración de región y volumen
- Flujo de trabajo de implementación

## Opción de implementación automática

De forma predeterminada, las implementaciones requieren activación manual. Para habilitar la implementación automática en cada inserción:

```bash
/agileflow:setup-deployment AUTO_DEPLOY=yes
```

**Importante**: Úselo con precaución en producción. Considere:
- Siempre solicite que CI pase primero
- Utilizar puesta en escena → proceso de promoción principal
- Implementar indicadores de funciones para implementaciones graduales
- Supervisar el seguimiento de errores después de las implementaciones

## Próximos pasos después de la configuración

1. **Agregar conexión de plataforma**
   ```bash
   vercel link
   # or
   fly auth login
   fly launch
   ```

2. **Configurar secretos**
   ```bash
   vercel env add DATABASE_URL production
   # or
   fly secrets set DATABASE_URL=postgresql://...
   ```

3. **Implementación de prueba**
   ```bash
   git push origin staging
   # Check deployment logs on platform dashboard
   ```

4. **Establecer dominio personalizado** (Opcional)
   ```bash
   vercel domains add example.com
   # Follow platform-specific DNS setup
   ```

5. **Habilitar implementación automática** (optarional)
   - Después de probar la puesta en escena, habilite la implementación automática de producción.
   - Configurar reglas de protección de sucursales

## Comandos relacionados

- [`/ci-setup`](/commands/ci) - Configurar pruebas y comprobaciones de CI/CD
- [`/setup-tests`](/commands/tests) - Configurar el marco de pruebas
- [`/generate-changelog`](/commands/changelog) - Crear notas de la versión