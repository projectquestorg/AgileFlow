---
title: /vÃ©rifier
description: ExÃ©cuter des tests de projet et mettre Ã  jour le statut des tests de story
---
# /vÃ©rifier

ExÃ©cutez les tests de votre projet et mettez automatiquement Ã  jour le statut des tests d'histoire dans votre systÃ¨me de suivi. Verify est un composant essentiel de l'exploitation de session d'AgileFlow qui garantit la validation des tests tout au long de votre flux de travail de dÃ©veloppement.

## DÃ©marrage rapide

```bash
# Run all tests and update all in-progress stories
/agileflow:verify

# Run tests and update specific story
/agileflow:verify US-0042
```

La commande vaÂ :
1. Chargez la configuration de test de votre projet
2. ExÃ©cutez la suite de tests
3. Analyser les rÃ©sultats des tests
4. Mettre Ã  jour le statut du test d'histoire (rÃ©ussite/Ã©chec)
5. Affichez un rapport clair avec des indicateurs visuels

## Principales fonctionnalitÃ©s

### Analyse automatique des tests

Verify dÃ©tecte et analyse automatiquement les rÃ©sultats des tests deÂ :

| Cadre | Exemple de sortie |
|---------------|-----------------|
| Jest/Vitest (Node.js) | `Tests: 42 passed, 42 total` |
| Python (Python) | `42 passed in 2.5s` |
| Cargaison (rouille) | `test result: ok. 42 passed` |
| Allez tester | `ok github.com/user/project` |

Si l'analyse Ã©choue, elle revient au code de sortie (0 = rÃ©ussite, diffÃ©rent de zÃ©ro = Ã©chec).

### Mises Ã  jour du statut de l'histoire

Les rÃ©sultats des tests sont automatiquement enregistrÃ©s dans vos storiesÂ :

```json
{
  "story_id": "US-0042",
  "test_status": "passing",
  "test_results": {
    "last_run": "2025-12-06T10:30:00Z",
    "command": "npm test",
    "passed": 42,
    "failed": 0,
    "exit_code": 0,
    "output_summary": "All tests passed (42/42)"
  }
}
```

### Multi-StSuivi ory

Sans ID d'histoire spÃ©cifique, vÃ©rifiez que toutes les histoires `in_progress` sont mises Ã  jourÂ :

```bash
/agileflow:verify
# Updates test_status for:
# - US-0042: passing
# - US-0043: passing
# - US-0044: failing
```

## Utilisation

### ExÃ©cutez tous les tests

```bash
/agileflow:verify
```

ExÃ©cute votre suite de tests et met Ã  jour toutes les histoires en cours avec les rÃ©sultats.

### ExÃ©cutez des tests pour une histoire spÃ©cifique

```bash
/agileflow:verify US-0042
```

ExÃ©cute des tests et met Ã  jour uniquement l'Ã©tat des tests de l'US-0042. Utile lorsque vous travaillez sur une seule histoire.

### ParamÃ¨tres

| ParamÃ¨tre | Obligatoire | Par dÃ©faut | Descriptif |
|-----------|----------|---------|-------------|
| `STORY` | Non | Tout est en cours | ID de l'histoire Ã  mettre Ã  jour (par exemple, US-0042) |

## Exemples

### Flux de travail de dÃ©veloppement typique

```bash
# Make code changes...

# Verify tests still pass
/agileflow:verify

# Output:
# âœ… PASSED | npm test | 42 passed, 0 failed | 12.3s
# Updated stories:
# - US-0042: passing
# - US-0043: passing
```

### Les tests Ã©chouent - corrigez-les

```bash
/agileflow:verify

# Output:
# âŒ FAILED | npm test | 40 passed, 2 failed | 8.7s
#
# Failed tests:
#   âŒ auth.test.ts:42 - Expected redirect
#   âŒ api.test.ts:67 - Session token not persisting
#
# Updated stories:
# - US-0042: failing
# - US-0043: failing
```

### Avant de crÃ©er une rÃ©fÃ©rence

```bash
# Ensure all tests pass before marking a milestone
/agileflow:verify

# If passing:
/agileflow:baseline "Sprint 3 complete"

# If failing:
# (Fix tests first, then baseline)
```

## Format de sortie

### Rapport de rÃ©ussite

```text
ğŸ§ª Test Verification Complete

Command: npm test
Duration: 12.3s
Result: âœ… PASSED

Tests: 42 passed, 0 failed, 42 total

Updated stories:
- US-0042: passing
- US-0043: passing

All in-progress stories have passing tests âœ…
```

### Rapport d'Ã©chec

```text
ğŸ§ª Test Verification Complete

Command: npm test
Duration: 8.7s
Result: âŒ FAILED

Tests: 40 passed, 2 failed, 42 total

Failed tests:
  âŒ auth.test.ts:42
     Expected redirect to /dashboard
     Got redirect to /login

  âŒ api.test.ts:67
     Session token not persisting
     Cookie not set after login

Updated stories:
- US-0042: failing
- US-0043: failing

âš ï¸  WARNING: 2 stories now have failing tests
```

### DÃ©lai d'expiration

```text
ğŸ§ª Test Verification Failed

Command: npm test
Result: â±ï¸  TIMEOUT (60s)

The test suite did not complete within 60 seconds.

Updated stories:
- US-0042: failing (timeout)

Consider:
1. Increase test_timeout_ms in environment.json
2. Optimize slow tests
3. Run specific test suites instead of all tests
```

##Configuration

VÃ©rifiez qu'il utilise les paramÃ¨tres de `docs/00-meta/environment.json`Â :

```json
{
  "test_command": "npm test",
  "test_timeout_ms": 60000,
  "project_type": "nodejs"
}
```

Pour personnaliser le comportement du testÂ :

1. Modifier `docs/00-meta/environment.json`
2. Remplacez `test_command` par votre commande
3. Remplacez `test_timeout_ms` par le dÃ©lai d'attente souhaitÃ©
4. ExÃ©cutez Ã  nouveau la vÃ©rification

## PrÃ©requis

La vÃ©rification nÃ©cessiteÂ :

- **Harnais de session initialisÃ©** - ExÃ©cutez d'abord `/agileflow:session:init`
- **docs/00-meta/environment.json** - Fichier de configuration de test
- **docs/09-agents/status.json** - Suivi des histoires
- **Tests de travail** - Votre projet doit disposer d'une suite de tests

### Initialiser le harnais de session

Si vous obtenez une erreur Â«Â Harnais de session non initialisÃ©Â Â»Â :

```bash
/agileflow:session:init
```

Cela vaÂ :
- DÃ©tectez votre type de projet
- CrÃ©er un environnement.json avec une configuration de test
- Configurer la vÃ©rification des tests pour toutes les histoires

## IntÃ©gration avec d'autres commandes

Verify est utilisÃ© automatiquement parÂ :

| Commande | Quand |
|--------------|------|
| `/babysit` | AprÃ¨s avoir implÃ©mentÃ© les modifications du code |
| `/baseline` | Avant de crÃ©er des points de contrÃ´le vÃ©rifiÃ©s |
| `/session:resume` | Au dÃ©but de la sÃ©ance de travail |
| `/pr` | Peut inclure le statut du test dans la description du PR |

Vous pouvez Ã©galement exÃ©cuter la versionify manuellement Ã  tout moment pour vÃ©rifier lâ€™Ã©tat.

## ScÃ©narios courants

### "Est-ce que mes tests rÃ©ussissent ?"

```bash
/agileflow:verify
# Shows immediate pass/fail status with counts
```

### "Corriger les tests ayant Ã©chouÃ©"

```bash
# See which tests failed
/agileflow:verify

# Fix the failing tests in your code editor
# Then verify again
/agileflow:verify
# Should show âœ… PASSED now
```

### "Une histoire Ã©choue, d'autres passent"

```bash
# Check which story has failing tests
/agileflow:verify

# Review that story's test_status in output
# Focus on fixing just that story's tests

# Run verify with specific story to confirm fix
/agileflow:verify US-0042
```

### "Les tests sont lents - prennent trop de temps"

```bash
# Timeout occurred
/agileflow:verify

# Options:
# 1. Increase timeout in environment.json
# 2. Run subset of tests: npm test -- --testPathPattern=auth
# 3. Optimize slow tests

# Increase timeout and try again
```

## DÃ©pannage

### "Le harnais de session n'est pas initialisÃ©"

**ErreurÂ :**
```text
âš ï¸  Session harness not initialized
Run /agileflow:session:init to set up test verification
```

**CorrectionÂ :**
```bash
/agileflow:session:init
```

### "Tests introuvables"

**ErreurÂ :**
```text
âŒ Test Command Failed
Command: npm test
Error: npm: command not found
```

**CorrectionÂ :**
- Installer les dÃ©pendancesÂ : `npm install`
- VÃ©rifiez que la commande de test dans environnement.json correspond Ã  votre configuration
- VÃ©rifiez que PATH inclut les outils requis

### "Histoire introuvable"

**ErreurÂ :**
```text
âš ï¸  Story US-0099 not found in status.json
Available in_progress stories:
- US-0042
- US-0043
```

**CorrectionÂ :**
- VÃ©rifiez que l'ID de l'histoire est correct (vÃ©rifiez status.json)
- ExÃ©cuter sans ID d'histoire pour vÃ©rifier toutes les histoires en cours

### "Statut.json invalide"

**ErreurÂ :**
```text
âŒ Cannot Update Status
File docs/09-agents/status.json is invalid or missing.
```

**CorrectionÂ :**
```bash
# Re-initialize AgileFlow setup
/agileflow:setup
```

## Conseils

### ExÃ©cutez des tests frÃ©quemment

```bash
# After every major change
/agileflow:verify

# Before committing
/agileflow:verify

# Before creating PR
/agileflow:verify

# Before baseline
/agileflow:verify
```

### DÃ©tecter les rÃ©gressions plus tÃ´t

Verify suit automatiquement l'Ã©tat des tests par histoire, afin que vous puissiezÂ :
-Voir quand les tests s'interrompent (test_status change)
- Identifiez quelle histoire a introduit l'Ã©chec
- RÃ©soudre les problÃ¨mes avant qu'ils ne s'accumulent

### Utiliser avec la ligne de base

```bash
# Ensure all tests pass
/agileflow:verify

# If all passing:
/agileflow:baseline "Milestone complete"

# If any failing:
# (Fix first, then baseline)
```

## Commandes associÃ©es

- [`/babysit`](/commands/babysit) - Mentor de mise en Å“uvre (les exÃ©cutions sont vÃ©rifiÃ©es automatiquement)
- [`/baseline`](/commands/baseline) - CrÃ©er des points de contrÃ´le vÃ©rifiÃ©s (nÃ©cessite la rÃ©ussite des tests)
- [`/session:init`](/commands/session-init) - Initialiser le harnais de session
- [`/session:resume`](/commands/session-resume) - Reprendre la session (vÃ©rifie les exÃ©cutions)
- [`/pr`](/commands/pr) - GÃ©nÃ©rer une demande d'extraction (affiche l'Ã©tat du test)