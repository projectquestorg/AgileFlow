---
title: /adr:mise à jour
description: Mettre à jour le statut ADR ou ajouter des modifications
---
# /adr:mise à jour

Mettez à jour le statut d'un ADR existant ou ajoutez des modifications documentant les changements de statut.

## Démarrage rapide

```bash
/agileflow:adr:update NUMBER=0042 STATUS=accepted REASON="Team approved after review"
```

## Paramètres

| Paramètre | Obligatoire | Par défaut | Descriptif |
|-----------|----------|---------|-------------|
| `NUMBER` | Oui | - | Numéro ADR à mettre à jour (4 chiffres, par exemple 0042) |
| `STATUS` | Non | - | Nouveau statut : `proposed`, `accepted`, `deprecated`, `superseded` |
| `REASON` | Non | - | Raison du changement de statut |
| `SUPERSEDED_BY` | Non | - | En cas de remplacement, le nouveau numéro ADR (par exemple 0045) |

## Exemples

### Accepter une proposition d'ADR

```bash
/agileflow:adr:update NUMBER=0042 STATUS=accepted REASON="Team approved after security review"
```

### Déprécier un ADR

```bash
/agileflow:adr:update NUMBER=0035 STATUS=deprecated REASON="Context changed, approach is no longer applicable"
```

### Marquer l'ADR comme remplacé

```bash
/agileflow:adr:update NUMBER=0042 STATUS=superseded SUPERSEDED_BY=0045 REASON="New requirements made this approach obsolete"
```

### Réactiver l'ADR obsolète

```bash
/agileflow:adr:update NUMBER=0030 STATUS=accepted REASON="Reconsidered in light of new project constraints"
```

### Mode interactif

```bash
/agileflow:adr:update NUMBER=0042
```

Sans STATUT ni RAISON, la commande vous guide tout au long du processus de mise à jour.

## Transitions de statut

### Transitions valides

| De | À | Raison commune |
|------|-----|----------------|
| `proposed` | `accepted` | Décision approuvée par l'équipe |
| `proposed` | `rejected` | Alternative choisie, non viable |
| `accepted` | `deprecated` | N'est plus pertinent, le contexte a changé |
| `accepted` | `superseded` | Meilleure approche trouvée, remplacée par un nouveau ADR |
| `deprecated` | `accepted` | Reconsidéré, toujours valable |
| `superseded` | `accepted` | Le remplacement n'a pas fonctionné |

## Flux de travail

Lorsque vous exécutez la commande :

1. **Valide** l'ADR existe
2. **Demande un nouveau statut** (si non fourni)
3. **Nécessite une raison** pour tout changement de statut
4. **Affiche un aperçu** de ce qui sera mis à jour
5. **Demande une confirmation** avant d'écrire
6. **Ajoute un amendement** documentant le changement
7. **Mise à jour du frontmatter** avec un nouveau statut et un nouveau horodatage

## Format d'amendement

Lorsqu'un statut ADR change, la commande ajoute une section Amendement :

```markdown
## Amendment - 2024-12-30

**Status changed**: accepted → superseded
**Reason**: New requirements made this approach obsolete.
**Superseded by**: [ADR-0045: New Approach](adr-0045-new-approach.md)
**Updated**: 2024-12-30
```

Le contenu ADR original est préservé ; amendementsdocumenter le changement.

## Exemples par scénario

### Scénario 1 : Approuver une décision proposée

```bash
# A team member proposed using a new framework
# After review meeting, you approve it

/agileflow:adr:update NUMBER=0047 STATUS=accepted REASON="Team consensus in architecture review meeting 2024-12-30. Framework choice validated against scalability requirements."
```

Résultat : ADR-0047 désormais marqué comme `accepted` avec approbation documentée.

### Scénario 2 : Remplacer une ancienne approche

```bash
# You've found a better approach to database caching
# The old ADR (0041) should be superseded by new ADR (0050)

/agileflow:adr:update NUMBER=0041 STATUS=superseded SUPERSEDED_BY=0050 REASON="New caching strategy provides 3x better performance with simpler implementation. See ADR-0050 for details."
```

Résultat : ADR-0041 marqué comme `superseded` avec lien vers ADR-0050.

### Scénario 3 : Reconsidérer une décision obsolète

```bash
# Project direction changed, old approach might be relevant again
/agileflow:adr:update NUMBER=0020 STATUS=accepted REASON="Project switched to microservices architecture. Original monolithic approach may apply to specific subdomain. Reactivating for team consideration."
```

Résultat : ADR-0020 n'est plus marqué comme obsolète, maintenant `accepted` pour discussion.

### Scénario 4 : Documenter le changement de contexte

```bash
# Business requirements changed, a decision no longer applies
/agileflow:adr:update NUMBER=0038 STATUS=deprecated REASON="Support for legacy browsers dropped in new product roadmap. This ADR addressed IE11 compatibility which is no longer required."
```

Résultat : ADR-0038 marqué comme `deprecated` expliquant pourquoi il est obsolète.

## meilleures pratiques

### Quand mettre à jour le statut ADR

- **Approuver** les ADR proposés après examen par l'équipe
- **Obsolète** si le contexte ou les exigences changent
- **Remplace** lorsqu'un ADR plus récent remplace cette approche
- **Réactiver** si les circonstances changent et que l'ancienne décision est à nouveau pertinente

### Écrire de bonnes raisons

**Bonnes raisons :**
- "Consensus de l'équipe après revue de l'architecture"
- "Nouvelle interprèteles exigences CE rendent cette approche inefficace"
- "L'exigence métier a supprimé la contrainte qui déclenchait cette décision"
- "Mise en œuvre et validé avec succès en production"

**Mauvaises raisons :**
- "Plus nécessaire"
- "Une meilleure approche existe"
- "L'équipe a décidé"

### Documenter le dépassement

Lors du remplacement d’un ADR :
1. Incluez toujours `SUPERSEDED_BY` avec le nouveau numéro ADR
2. Expliquez pourquoi la nouvelle approche est meilleure
3. Référencez le nouvel ADR pour les détails de mise en œuvre
4. Conservez l'ADR original intact pour l'historique

### Création d'un travail de mise en œuvre

Après avoir approuvé un ADR :

```bash
# Mark ADR as accepted
/agileflow:adr:update NUMBER=0050 STATUS=accepted REASON="Team approved in review"

# View the ADR to plan implementation
/agileflow:adr:view NUMBER=0050

# Create stories or epic from the ADR
/agileflow:epic TITLE="Implement ADR-0050" ...
```

## Commandes associées

- [`/adr:list`](/commands/adr-list) - Afficher tous les ADR
- [`/adr:view`](/commands/adr-view) - Voir tous les détails de l'ADR
- [`/adr`](/commands/adr) - Créer un nouvel ADR
- [`/epic`](/commands/epic) - Créer une épopée de mise en œuvre
- [`/story`](/commands/story) - Créer une histoire de mise en œuvre