---
title: ""/adr:mise à jour""
description: Mettre à jour le statut ADR ou ajouter des modifications
---

# /adr:mise à jour

Mettez à jour le statut d'un ADR existant ou ajoutez des modifications documentant les changements de statut.

## Démarrage rapide

```bash
/agileflow:adr:update NUMBER=0042 STATUS=accepted REASON="Team approved after review"
```

## Paramètres

| Parameter | Required | Default | Description |
|-----------|----------|---------|-------------|
| `NUMBER` | Yes | - | ADR number to update (4-digit, e.g., 0042) |
| `STATUS` | No | - | New status: `proposed`, `accepted`, `deprecated`, `superseded` |
| `REASON` | No | - | Reason for the status change |
| `SUPERSEDED_BY` | No | - | If superseding, the new ADR number (e.g., 0045) |

## Exemples

### Accepter une proposition d'ADR

```bash
/agileflow:adr:update NUMBER=0042 STATUS=accepted REASON="Team approved after security review"
```

### Déprécier un ADR

```bash
/agileflow:adr:update NUMBER=0035 STATUS=deprecated REASON="Context changed, approach is no longer applicable"
```

### Marquer l'ADR comme remplacé

```bash
/agileflow:adr:update NUMBER=0042 STATUS=superseded SUPERSEDED_BY=0045 REASON="New requirements made this approach obsolete"
```

### Réactiver l'ADR obsolète

```bash
/agileflow:adr:update NUMBER=0030 STATUS=accepted REASON="Reconsidered in light of new project constraints"
```

### Mode interactif

```bash
/agileflow:adr:update NUMBER=0042
```

Sans STATUT ni RAISON, la commande vous guide tout au long du processus de mise à jour.

## Transitions de statut

### Transitions valides

| From | To | Common Reason |
|------|-----|---------------|
| `proposed` | `accepted` | Team approved decision |
| `proposed` | `rejected` | Alternative chosen, not viable |
| `accepted` | `deprecated` | No longer relevant, context changed |
| `accepted` | `superseded` | Better approach found, replaced by new ADR |
| `deprecated` | `accepted` | Reconsidered, still valid |
| `superseded` | `accepted` | Replacement didn't work out |

## Flux de travail

Lorsque vous exécutez la commande :

1. **Validates** l'ADR existe
2. **Asks for new status** (si non fourni)
3. **Requires a reason** pour tout changement de statut
4. **Shows preview** de ce qui sera mis à jour
5. **Asks for confirmation** avant d'écrire
6. **Appends amendment** documenter le changement
7. **Updates frontmatter** avec un nouveau statut et un horodatage

## Format de modification

Lorsqu'un statut ADR change, la commande ajoute une section Amendement :

```markdown
## Amendment - 2024-12-30

**Status changed**: accepted → superseded
**Reason**: New requirements made this approach obsolete.
**Superseded by**: [ADR-0045: New Approach](adr-0045-new-approach.md)
**Updated**: 2024-12-30
```

Le contenu ADR original est préservé ; les modifications documentent le changement.

## Exemples par scénario

### Scénario 1 : Approuver une décision proposée

```bash
# A team member proposed using a new framework
# After review meeting, you approve it

/agileflow:adr:update NUMBER=0047 STATUS=accepted REASON="Team consensus in architecture review meeting 2024-12-30. Framework choice validated against scalability requirements."
```

Résultat : ADR-0047 désormais marqué comme `accepted` avec approbation documentée.

### Scénario 2 : Remplacer une ancienne approche

```bash
# You've found a better approach to database caching
# The old ADR (0041) should be superseded by new ADR (0050)

/agileflow:adr:update NUMBER=0041 STATUS=superseded SUPERSEDED_BY=0050 REASON="New caching strategy provides 3x better performance with simpler implementation. See ADR-0050 for details."
```

Résultat : ADR-0041 marqué comme `superseded` avec lien vers ADR-0050.

### Scénario 3 : Reconsidérer une décision obsolète

```bash
# Project direction changed, old approach might be relevant again
/agileflow:adr:update NUMBER=0020 STATUS=accepted REASON="Project switched to microservices architecture. Original monolithic approach may apply to specific subdomain. Reactivating for team consideration."
```

Résultat : ADR-0020 n'est plus marqué comme obsolète, maintenant `accepted` pour discussion.

### Scénario 4 : Documenter le changement de contexte

```bash
# Business requirements changed, a decision no longer applies
/agileflow:adr:update NUMBER=0038 STATUS=deprecated REASON="Support for legacy browsers dropped in new product roadmap. This ADR addressed IE11 compatibility which is no longer required."
```

Résultat : ADR-0038 marqué comme `deprecated` expliquant pourquoi il est obsolète.

## Meilleures pratiques

### Quand mettre à jour le statut ADR

- **Approve** ADR proposés après examen par l’équipe
- **Deprecate** si le contexte ou les exigences changent
- **Supersede** lorsqu'un ADR plus récent remplace cette approche
- **Reactivate** si les circonstances changent et que l'ancienne décision est à nouveau pertinente

### Écrire de bonnes raisons

**Good reasons:**
- "Consensus de l'équipe après revue de l'architecture"
- "Les nouvelles exigences de performance rendent cette approche inefficace"
- "L'exigence métier a supprimé la contrainte qui déclenchait cette décision"
- "Mise en œuvre et validée avec succès en production"

**Poor reasons:**
- "Plus nécessaire"
- "Une meilleure approche existe"
- "L'équipe a décidé"

### Documenter le remplacement

Lors du remplacement d’un ADR :
1. Incluez toujours `SUPERSEDED_BY` avec nouveau numéro ADR
2. Expliquez pourquoi la nouvelle approche est meilleure
3. Référencez le nouvel ADR pour les détails de mise en œuvre
4. Conservez l’ADR original intact pour l’historique

### Créer un travail de mise en œuvre

Après avoir approuvé un ADR :

```bash
# Mark ADR as accepted
/agileflow:adr:update NUMBER=0050 STATUS=accepted REASON="Team approved in review"

# View the ADR to plan implementation
/agileflow:adr:view NUMBER=0050

# Create stories or epic from the ADR
/agileflow:epic TITLE="Implement ADR-0050" ...
```

## Commandes associées

- [`/adr:liste`](/commands/adr-list) - Afficher tous les ADR
- [`/adr:vue`](/commands/adr-view) - Voir tous les détails de l'ADR
- [`/adr`](/commands/adr) - Créer un nouvel ADR
- [`/épique`](/commands/epic) - Créer une épopée de mise en œuvre
- [`/histoire`](/commands/story) - Créer une histoire de mise en œuvre
