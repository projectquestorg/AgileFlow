---
title: /auto
description: Générez automatiquement des histoires à partir de PRD, de maquettes ou de spécifications
---
# /auto

Générez automatiquement des user stories à partir d'artefacts de produits tels que des PRD, des maquettes, des spécifications d'API ou des documents de conception. Gain de temps en décomposant les exigences en histoires exploitables.

## Démarrage rapide

```bash
/agileflow:auto SOURCE=<file-or-url> [EPIC=<EP-ID>] [AUTO_CREATE=no]
```

## Paramètres

| Paramètre | Obligatoire | Par défaut | Descriptif |
|-----------|----------|---------|-------------|
| `SOURCE` | Oui | - | Chemin d'accès au fichier ou à l'URL (PRD, maquette, spécification API, organigramme) |
| `EPIC` | Non | Généré automatiquement | Associer des histoires à une épopée existante (par exemple, `EP-0010`) |
| `OWNER` | Non | Détecté automatiquement | Propriétaire par défaut des histoires générées (par exemple, `AG-API`) |
| `AUTO_CREATE` | Non | `no` | `yes` pour créer immédiatement, `no` pour un aperçu en premier |

## Exemples

### Aperçu des histoires du PRD

```bash
/agileflow:auto SOURCE=docs/requirements/auth-prd.md
```

Lit le document sur les exigences d'authentification et génère un aperçu de l'histoire sans créer de fichiers.

### Générer à partir de la spécification de l'API

```bash
/agileflow:auto SOURCE=docs/api/openapi.json OWNER=AG-API
```

Extraagit sur les points de terminaison de la spécification OpenAPI/Swagger et génère une histoire par point de terminaison.

### Générer à partir de la maquette Figma

```bash
/agileflow:auto SOURCE=https://figma.com/file/abc123 AUTO_CREATE=no
```

OCR est la conception de la maquette permettant d'identifier les écrans, les formulaires et les interactions, puis de générer des histoires d'interface utilisateur.

### Générer et créer immédiatement

```bash
/agileflow:auto SOURCE=docs/requirements/payment-prd.md EPIC=EP-0011 AUTO_CREATE=yes
```

Génère des histoires et crée tous les fichiers immédiatement (ignorer l'étape d'aperçu).

## Types de sources pris en charge

### Document sur les exigences du produit (PRD)

**Formats** : `.md`, `.docx`, `.pdf`, `.txt`

**Extraits** :
- Descriptions des fonctionnalités
- Personnalités des utilisateurs et cas d'utilisation
- Critères et mesures de réussite
- Cas extrêmes et scénarios d'erreur
- Exigences non fonctionnelles

**Exemple** :
```markdown
# User Authentication Feature

Users should be able to:
- Register with email and password
- Reset forgotten password via email
- Login with OAuth (Google, GitHub)
- Manage account settings

Requirements:
- Email verification required
- Password minimum 8 characters
- Session expires after 24 hours
```

**Histoires générées** : 4 à 6 histoires couvrant l'inscription, la connexion, la réinitialisation du mot de passe, OAuth et la gestion des sessions.

###Documentation de l'API

**Formats** : OpenAPI/Swagger JSON, documents API `.md`

**Extraits** :
- Points de terminaison (méthode HTTP + chemin)
- Schémas de requête/réponse
- AuthentiqueExigences d'utilisation
- Codes d'erreur et cas extrêmes
- Limitation des tarifs et quotas

**Exemple OpenAPI** :
```yaml
paths:
  /api/users:
    post:
      summary: Create user
      requestBody:
        schema:
          properties:
            name: string
            email: string
```

**Histoires générées** : une par point de terminaison avec des critères d'acceptation du schéma.

### Maquettes et conceptions d'interface utilisateur

**Formats** : URL Figma, `.png`/`.jpg` (avec OCR), spécification de conception `.md`

**Extraits** :
- Dispositions d'écran et composants
- Interactions et flux utilisateurs
- Champs de formulaire et validation
- Navigation et liens
- Concevoir l'utilisation du système

**Exemple** : La capture d'écran du formulaire de connexion génère des histoires pour le composant du formulaire, la validation, les messages d'erreur et le lien de réinitialisation du mot de passe.

### Diagrammes de flux utilisateur

**Formats** : Mermaid `.mmd`, PlantUML, organigrammes (`.png` avec OCR)

**Extraits** :
- Étapes du parcours utilisateur
- Points de décision et branches
- Des chemins alternatifs
- Scénarios de réussite et d'échec

**Exemple** : Le diagramme de flux d'authentification génère des histoires pour chaque étape.

## Processus de génération d'histoires

### Étape 1 : Analyser la source
- Identifier le documenttapez
- Extraire les exigences et les fonctionnalités
- Exigences liées au groupe
- Analyser les spécifications techniques

### Étape 2 : Fonctionnalités du groupe
- Les exigences associées deviennent une seule histoire
- Évitez la duplication d'histoire
- S'assurer que les histoires sont indépendantes
- Vérifier les critères INVEST

### Étape 3 : Générer des histoires
- Créer un titre à partir de la description de la fonctionnalité
- Rédiger les critères d'acceptation au format Donné/Quand/Alors
- Estimer l'effort (0,5d, 1d, 1,5d, 2d)
- Attribuer un propriétaire approprié
- Identifier les dépendances

### Étape 4 : Afficher l'aperçu
- Afficher toutes les histoires générées
- Afficher les estimations et les propriétaires
- Afficher le nombre d'histoires et l'effort total
- Demander l'approbation avant de créer

### Étape 5 : Créer des fichiers (si approuvés)
- Créer une épopée (si non fournie)
- Créer des fichiers d'histoire avec des modèles
- Créer des talons de test
- Mettre à jour status.json
- Ajouter à bus/log.jsonl

## Règles de génération d'histoires (INVEST)

Les histoires générées suivent les critères INVEST :

| Critère | Descriptif |
|---------------|-------------|
| **Indépendant** | Peut être complété sans autres histoires |
| **Négociable** | Les détails peuvent être ajustés après la création |
| **Précieux** | Offre une valeur à l'utilisateur ou à l'équipe |
| **Estimable** | Peut être dimensionné (0,5d-2d) |
| **Petit** | Complétable en un seul sprint |
| **Testable** | A des critères d'acceptation clairs |

Les histoires >2d sont divisées en plus petites.

## Directives d'estimation

| Estimation | Quand utiliser |
|--------------|------------|
| `0.5d` | CRUD simple, champ de formulaire, composant de base |
| `1d` | Fonctionnalité standard, complexité modérée |
| `1.5d` | Logique complexe, validations multiples, intégration |
| `2d` | Refactor important ou composant majeur |
| `>2d` | L'histoire sera divisée en plus petites |

## Exemple : PRD vers Stories

### Entrée PRD

```markdown
# User Authentication Feature

## Overview
Allow users to register, log in, and manage accounts.

## Requirements
- Users register with email and password
- Email verification required
- Password reset via email
- Login with OAuth (Google, GitHub)
- Session management and expiry
```

### Aperçu des histoires générées

```text
Story Generation Preview

Source: docs/requirements/auth-prd.md
Epic: EP-0010 (User Authentication) - CREATED
Stories: 5

1. US-0050: User registration (1.5d, AG-API)
   "Users can register with email and password"

2. US-0051: Email verification (1d, AG-API)
   "Verify email before allowing login"

3. US-0052: Password reset flow (1d, AG-API)
   "Users can reset forgotten password"

4. US-0053: OAuth login - Google (1.5d, AG-API)
   "Users can log in with Google account"

5. US-0054: OAuth login - GitHub (1.5d, AG-API)
   "Users can log in with GitHub account"

Total Estimate: 6.5 days
Recommended Owner: AG-API

Create these stories? (YES/NO)
```

## Génération de critères d'acceptation

Les histoires sont générées au format Given/When/Then :

```markdown
## Acceptance Criteria

- Given a user on registration page
  When they enter valid email and 8+ character password
  Then account is created and verification email sent

- Given invalid password (< 8 characters)
  When they try to submit
  Then form shows "Password must be at least 8 characters"

- Given user opens verification email
  When they click verification link
  Then email is marked verified and login works
```

## Fichiers de sortie

La commande crée :

1. **Fichier épique** (`docs/05-epics/EP-XXXX.md`)
   -Titre et but épiques
   - Référence du document source
   - Liste d'histoires pour enfants

2. **Fichiers d'histoire** (`docs/06-stories/EP-XXXX/US-XXXX.md`)
   - Contenu généré à partir de la source
   - Critères d'acceptation
   - Notes techniques
   - Stratégie de tests

3. **Stubs de test** (`docs/07-testing/test-cases/US-XXXX.md`)
   - Structure de test alignée sur AC
   - Espaces réservés pour la mise en œuvre des tests

4. **Suivi du statut** (`docs/09-agents/status.json`)
   - Toutes les histoires ajoutées avec le statut : `ready`

5. **Communication** (`docs/09-agents/bus/log.jsonl`)
   - Événement de génération d'histoire enregistré

## Flux de travail

1. **Préparer le document source** - Assurez-vous que le PRD/spécification est complet
2. **Générer un aperçu** - Exécutez `/auto` avec `AUTO_CREATE=no`
3. **Examinez les histoires générées** - Vérifiez l'exactitude et l'exhaustivité
4. **Ajustez si nécessaire** - Modifiez l'aperçu ou régénérez avec différents paramètres
5. **Créer des histoires** - Exécutez avec `AUTO_CREATE=yes` ou approuvez l'aperçu
6. **Valider les histoires** - Utilisez `/story-validate` sur les histoires générées
7. **Planifier le sprint** - Inclure des histoires validées dans`/sprint`

## Scénarios courants

### Scénario : l'API a 15 points de terminaison

**Problème** : Trop d'histoires (enfreint la règle d'estimation de 0,5 d à 2 d)

**Solution** : La commande regroupe automatiquement les points de terminaison associés :
- Points de terminaison pour la même ressource (GET, POST, PATCH, DELETE) → Une histoire
- Liste et détails des points finaux → Une histoire
- Points de terminaison d'authentification → Une histoire

**Résultat** : 15 points de terminaison → 5-6 histoires

### Scénario : le PRD a des exigences peu claires

**Problème** : les histoires générées semblent vagues

**Solution** :
1. Clarifier d’abord le PRD avec les parties prenantes
2. Réexécutez `/auto` avec la source mise à jour
3. Ou modifiez manuellement les histoires générées avec `/story`

### Scénario : Les histoires générées ne correspondent pas à la vitesse de l'équipe

**Problème** : les estimations semblent trop optimistes/pessimistes

**Solution** :
1. Examinez les histoires et ajustez les estimations
2. Tenez compte de la vitesse historique de l'équipe
3. Exécutez `/velocity` pour comprendre la capacité de l'équipe
4. Divisez les grandes histoires en plus petites

## Liste de contrôle qualité

Avant d'approuver le magasin généréc'est à dire :

- [ ] Toutes les histoires ont des critères d'acceptation clairs
- [ ] Les histoires sont indépendantes (pas de dépendances cachées)
- [ ] Les estimations sont réalistes (plage de 0,5 à 2 jours)
-[ ] Les critères d'acceptation utilisent le format Donné/Quand/Alors
- [ ] Les notes techniques sont exactes
- [ ] Les histoires couvrent les principaux scénarios (happy path + edge cases)
- [ ] Aucune histoire n'est dupliquée
- [ ] L'objectif épique est clair et spécifique
- [ ] Les affectations de propriétaires sont appropriées

## Intégration avec d'autres commandes

- **Après génération** : utilisez `/story-validate` pour garantir la qualité
- **Avant le sprint** : utilisez `/sprint` pour sélectionner des histoires
- **Pour les dépendances** : utilisez `/deps` si les histoires ont des relations
- **Pendant le développement** : utilisez `/babysit` pour obtenir de l'aide sur la mise en œuvre.
- **Pour les tests** : utilisez `/verify` pour exécuter des tests

## meilleures pratiques

- **Commencez par les exigences** - Investissez du temps dans un PRD ou une spécification clair
- **Examinez les histoires générées** - N'acceptez pas aveuglément la génération d'IA
- **Valider avant le sprint** - Utiliser `/story-validate` sur tous les ghistoires générées
- **Exigences liées au groupe** - Épique plus ciblée = meilleures histoires
- **Soyez précis dans la source** - Exigences vagues → histoires vagues
- **Considérez les dépendances** - Examen manuel des dépendances cachées
- **Estimation prudente** - Ajouter un tampon pour les inconnues

## Limites et considérations

- **L'IA peut mal interpréter** - Vérifiez l'exactitude des histoires générées
- **Le contexte compte** - Les histoires générées peuvent manquer de connaissances dans le domaine
- **Les dépendances sont manuelles** - Ajoutez manuellement des dépendances entre étages
- **Les estimations varient selon l'équipe** - Ajustez en fonction de votre vitesse
- **Détails techniques** - Peut nécessiter des ajouts manuels au contexte d'architecture

## Commandes associées

- [`/epic`](/commands/epic) - Créez des épopées manuellement si nécessaire
- [`/story`](/commands/story) - Créer ou modifier des histoires individuelles
- [`/story-validate`](/commands/story-validate) - Valider la qualité générée
- [`/sprint`](/commands/sprint) - Planifier des sprints avec des histoires générées
- [`/deps`](/commands/deps) - Visualiser les dépendances après génération