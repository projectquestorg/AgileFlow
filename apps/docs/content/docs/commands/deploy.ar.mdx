---
title: /الإعداد للنشر
description: قم بإعداد خط أنابيب النشر الآلي
---
# /الإعداد للنشر

اكتشف نوع مشروعك تلقائيًا وقم بتكوين مسار نشر كامل باستخدام التكوينات الخاصة بالنظام الأساسي، وسير عمل CI/CD، وإدارة البيئة.

## بداية سريعة

__لا تترجم_0__

## الغرض

يقوم هذا الأمر بإعداد البنية الأساسية للنشر بذكاء من خلال:
- الكشف التلقائي عن نوع مشروعك (ثابت، متكامل، بدون خادم، متنقل، حاويات)
- التوصية بمنصة النشر الأمثل
- إنشاء ملفات التكوين الخاصة بالمنصة
- إنشاء سير عمل نشر إجراءات GitHub
- إعداد قوالب متغيرات البيئة وإدارة الأسرار
- تقديم خطوات تالية واضحة للنشر

## المعلمات

| المعلمة | مطلوب | الافتراضي | الوصف |
|-----------|----------|---------|-------------|
| __غير مترجم_17__ | لا | __غير مترجم_18__ | `auto`, `vercel`, `netlify`, `heroku`, `aws`, `gcp`, `docker`, `eas` |
| __غير مترجم_27__ | لا |__غير مترجم_28__ | `staging`، `production`، أو `both` |
| __غير مترجم_32__ | لا | __غير مترجم_33__ | `yes` أو `no` - تشغيل النشر تلقائيًا عند الدفع |

## أمثلة

### الكشف التلقائي عن كل شيء

__لا تترجم_1__

يكتشف نوع المشروع ويوصي بأفضل منصة تلقائيًا.

### تحديد النظام الأساسي بشكل صريح

__لا تترجم_2__

يقوم بإعداد نشر Vercel لكل من التدريج والإنتاج.

### نشر Docker على Fly.io

__لا تترجم_3__

تكوين النشر المستند إلى Docker (يعمل مع Fly.io وAWS وGCP).

### تطبيق جوال مع EAS

__لا تترجم_4__

يقوم بإعداد خدمات تطبيق Expo لنشر React Native/Expo.

## كشف المشروع

يقوم الأمر بتحليل مشروعك للتوصية بالأنظمة الأساسية:

### المواقع الثابتة
**تم الكشف بواسطة**: HTML/CSS/JS، React/Vue/Angular SPA (بدون واجهة خلفية)
- الموصى به: Vercel أو Netlify
- مثالي لـ: مواقع التسويق والمنتجعات الصحية والتوثيق

### تطبيقات الويب الكاملة
**تم الكشف عنه بواسطة**: خادم Node.js، Eمسارات واجهة برمجة التطبيقات xpress/Fastify/Next.js
- موصى به: Vercel (Next.js) أو السكك الحديدية
- مثالي لـ: تطبيقات الويب ذات منطق الواجهة الخلفية

### تطبيقات الهاتف المحمول (React Native / Expo)
**تم الكشف بواسطة**: تكوين `expo`، تبعية `react-native`
- الموصى به: EAS (خدمات تطبيقات المعرض)
- مثالي لـ: تطبيقات الهاتف المحمول iOS/Android

### التطبيقات القائمة على الحاويات
**تم الكشف بواسطة**: `Dockerfile` موجود
- الموصى بها: Fly.io
- مثالي لـ: عمليات نشر Docker المخصصة والخدمات الصغيرة

### وظائف بدون خادم
**تم الكشف بواسطة**: وظائف Lambda، وتكوين بوابة API
- موصى به: وظائف AWS Lambda أو Vercel
- مثالي لـ: أعباء العمل القائمة على الأحداث والدفع لكل تنفيذ

## ملفات الإخراج

يقوم الأمر بإنشاء عدة ملفات تكوين:

### تكوين النظام الأساسي
- **فيرسيل**: `vercel.json`
- **Netlify**: `netlify.toml`
- **هيروكو**: `Procfile`, `app.json`
- **عامل الميناء**: `Dockerfile`، `.dockerignore`، `fly.toml`
- **EAS**: `eas.json`
- **AWS Lambda**: `serverless.yml`

### سير عمل CI/CD
- `.github/workflows/deploy.yml` - سير عمل النشر الآلي
- يدعم التدريج → ترويج الإنتاج
- يعمل على الدفع إلى التدريج / الفروع الرئيسية

### إدارة البيئة
- `.env.example` - قالب لمتغيرات البيئة (آمنة للالتزام)
- `docs/02-practices/secrets-management.md` - دليل إدارة الأسرار
- `docs/02-practices/deployment.md` - وثائق النشر

## المنصات

### Vercel (موصى به لـ Next.js/React)
الأفضل لـ: Next.js، React، عمليات نشر SPA
- البناء التلقائي على git Push
- شبكة CDN العالمية
- وظائف مدمجة بدون خادم
- واجهة المستخدم لإدارة البيئة
- معاينة عمليات النشر على العلاقات العامة

**الخطوات التالية**:
__لا تترجم_5__

### Netlify (موصى به للمواقع الثابتة)
الأفضل لـ: المواقع الثابتة، JAMstack، المنتجعات الصحية العامة
- إنشاءات تلقائية من git
- التحليلات والنماذج المضمنة
- وظائف بدون خادم
- تكامل Netlify CMS
- إدارة المجال المخصص

### Heroku (خوادم Node.js/Python)
الأفضل لـ: تطبيقات الخادم التقليدية
- نشر بسيط قائم على سبيكة
- إضافات PostgreSQL وRedis
- البيئة فارإدارة قادرة
- ميزات التعاون الجماعي

**الخطوات التالية**:
__لا تترجم_6__

### Fly.io (نشر عامل الميناء)
الأفضل لـ: حاويات Docker، والخدمات الصغيرة، وأوقات التشغيل المخصصة
- النشر العالمي مع التوجيه Anycast
- دعم IPv6
- التحجيم التلقائي
- الكميات المستمرة
- تم تضمين PostgreSQL

**الخطوات التالية**:
__لا تترجم_7__

### AWS (Lambda/ECS/Elastic Beanstalk)
الأفضل لـ: التطبيقات القابلة للتطوير والخدمات الصغيرة
- خيارات نشر متعددة (Lambda، ECS، Beanstalk)
- فعالة من حيث التكلفة على نطاق واسع
- التكامل مع النظام البيئي AWS
- التحكم في الوصول الدقيق

### EAS (المعرض/التفاعل الأصلي)
الأفضل لـ: تطبيقات الهاتف المحمول (iOS/Android)
- يبني الأصلي في السحابة
- التقديمات على متجر التطبيقات/متجر Play
- تحديثات عبر الهواء
- يبني عميل التنمية

## سير العمل

يتبع الإعداد عملية متسقة:

1. **اكتشاف نوع المشروع** - يحلل التبعيات والملفات
2. **المنصة الموصى بها** - تقترح الاستضافة المثالية
3. **إنشاء التكوين** - لإنشاء ملفات خاصة بالنظام الأساسي
4. **إنشاء سير العمل** - يقوم بإعداد GitHub Acإجراءات للنشر
5. **إعداد البيئة** - إنشاء `.env.example` والمستندات
6. **إظهار المعاينة** - يعرض كافة الملفات للمراجعة
7. **إنشاء ملفات** - للكتابة على القرص بعد تأكيد نعم/لا
8. **عرض الخطوات التالية** - اكتمال إعداد الأدلة

## إدارة البيئة

### التدريج مقابل الإنتاج

يمكن للأمر إعداد إحدى البيئتين أو كلتيهما:

__لا تترجم_8__

### إدارة الأسرار

** لا تلتزم أبدًا بالأسرار على git **. بدلاً من ذلك:

1. استخدم `.env.example` كقالب
2. قم بتخزين الأسرار الفعلية في النظام الأساسي (Vercel، Heroku، إلخ.)
3. توفر إجراءات GitHub `${{ secrets.NAME }}`
4. اقرأ `docs/02-practices/secrets-management.md` للحصول على التفاصيل

**الأسرار الشائعة**:
- سلاسل اتصال قاعدة البيانات
- مفاتيح واجهة برمجة التطبيقات (Stripe، وSendGrid، وما إلى ذلك)
- بيانات اعتماد AWS
- رموز خدمة الطرف الثالث

## أمثلة حسب المنصة

### نشر فيرسل

__لا تترجم_9__

يخلق:
- `vercel.json` مع تكوين البناء
- `.github/workflows/deploy.yml` للنشر التلقائي
- `.env.example` بأسماء متغيرات Vercel
- مستندات النشر

### هيروكو مع PostgreSQL

__لا تترجم_10__

يخلق:
- `Procfile` (الويب: بداية npm)
- `app.json` مع تكوين buildpack
- مستندات إعداد PostgreSQL
- سير عمل النشر

### عامل ميناء لFly.io

__لا تترجم_11__

يخلق:
- `Dockerfile` مع بناء متعدد المراحل
- `.dockerignore` للحصول على صورة نظيفة
- `fly.toml` مع تكوين المنطقة ووحدة التخزين
- سير عمل النشر

## خيار النشر التلقائي

افتراضيًا، تتطلب عمليات النشر التشغيل اليدوي. لتمكين النشر التلقائي في كل دفعة:

__لا تترجم_12__

**هام**: استخدم بحذر في الإنتاج. خذ بعين الاعتبار:
- اطلب دائمًا CI للمرور أولاً
- استخدم التدريج → عملية الترويج الرئيسية
- تنفيذ علامات الميزات للطرح التدريجي
- مراقبة تتبع الأخطاء بعد عمليات النشر

## الخطوات التالية بعد الإعداد

1. **إضافة اتصال النظام الأساسي**
   __لا تترجم_13__

2. ** تكوين الأسرار **
   __لا تترجم_14__

3. **اختبار النشر**
   __لا تترجم_15__

4. **تعيين المجال المخصص** (اختياري)
   __لا تترجم_16__

5. **تمكين النشر التلقائي** (اختياري).الأيونية)
   - بعد اختبار التدريج، قم بتمكين النشر التلقائي للإنتاج
   - تكوين قواعد حماية الفرع

## الأوامر ذات الصلة

- [`/ci-setup`](/commands/ci) - إعداد اختبارات وفحوصات CI/CD
- [`/setup-tests`](/commands/tests) - تكوين إطار عمل الاختبار
- [`/generate-changelog`](/commands/changelog) - إنشاء ملاحظات الإصدار