---
title: /دَين
description: تتبع وتحديد أولويات بنود الديون الفنية
---
# / الديون

تتبع وتصور الديون الفنية عبر قاعدة التعليمات البرمجية. تحديد أعمال إعادة الهيكلة وتصنيفها وتحديد أولوياتها من خلال التسجيل المستند إلى البيانات.

## بداية سريعة

__لا تترجم_0__

يقوم بإجراء فحص سريع وينشئ تقرير الديون بالإعدادات الافتراضية.

أو مع خيارات مخصصة:

__لا تترجم_1__

## المعلمات

| المعلمة | مطلوب | الافتراضي | الوصف |
|-----------|----------|---------|-------------|
| __غير مترجم_16__ | لا | __غير مترجم_17__ | عمق المسح: `quick` (المناطق التي تم وضع علامة عليها فقط) أو `full` (قاعدة التعليمات البرمجية بأكملها) |
| __غير مترجم_20__ | لا | __غير مترجم_21__ | نوع الإخراج: `report`، `stories`، أو `both` |
| __غير مترجم_25__ | لا | __غير مترجم_26__ | الحد الأدنى من الخطورة: `high`، أو `medium`، أو `low` |

## ما يكتشفه

يحدد ماسح الديون أنواعًا متعددة من الديون الفنية:

### إشارات جودة الكود
- تعليقات TODO/FIXME/HACK
- وظائف طويلة (> 50 سطرًا)
- مركب سيكلوماتيكي عاليالمدينة (>10)
- كتل التعليمات البرمجية المكررة
- ملفات كبيرة (>500 سطر)
- تداخل عميق (> 4 مستويات)
- يعترض الله (>10 طرق)
- تغطية اختبار منخفضة (أقل من 70%)

### الديون المبنية على القصة
يبحث في القصص التي تحمل علامة `tech-debt: true` أو التي تحتوي على "refactor" أو "cleanup" في العنوان.

### ديون العمارة
يتحقق من ADRs بحثًا عن قرارات مهملة أو عواقب سلبية موثقة.

### تحليل تاريخ جيت
- الملفات ذات معدل التكرار العالي (يتم تعديلها بشكل متكرر)
- ملفات بها العديد من المؤلفين (ملكية غير واضحة)
- الفروع القديمة لم يتم دمجها بعد

### إخراج اللينتر
يوزع الإخراج من تقارير ESLint وTypeScript وPylint وSonarQube والتغطية.

## فئات الديون

يتم تنظيم الديون الفنية إلى سبع فئات:

| الفئة | الوصف | أمثلة |
|----------|-------------|---------|
| **الهندسة المعمارية** | تجريدات خاطئة، اقتران محكم، أنماط مفقودة | اقتران الخدمة، التبعيات الدائرية |
| **جودة الكود** | الازدواجية والتعقيد والأسلوب غير المتناسق | كود النسخ واللصق، عالي التعقيد |
| **التوثيق** |المستندات المفقودة أو القديمة أو غير المكتملة | واجهات برمجة التطبيقات غير الموثقة، والأدلة التي لا معنى لها |
| **الاختبار** | تغطية منخفضة، اختبارات غير مستقرة، فقدان E2E | لا توجد اختبارات وحدة، اختبارات التكامل المفقودة |
| **الأمن** | إفصاحات قديمة، أسرار مكشوفة، مصادقة ضعيفة | الحزم الضعيفة لـ CVE، والرموز المميزة |
| **الأداء** | استعلامات N+1، تسرب الذاكرة، العمليات البطيئة | خوارزميات غير فعالة، انتفاخ الذاكرة |
| **التبعيات** | الحزم القديمة والمكتبات غير الخاضعة للصيانة | مكتبات عمرها سنوات، مشاريع مهجورة |

## صيغة التسجيل

يحصل كل عنصر دين على درجة من 0 إلى 100:

__لا تترجم_2__

### مستويات الخطورة
- **منخفض** (1-3): مشكلة بسيطة، لا تمنع أي شيء
- **متوسطة** (4-6): قضية معتدلة، وتبطئ التنمية
- **مرتفع** (7-9): مشكلة كبيرة أو تحجب ميزات أو تسبب أخطاء
- **حرج** (10): عاجل، يسبب مشاكل في الإنتاج أو يمنع العمل

## أمثلة

### المسح السريع (افتراضي)

__لا تترجم_3__

يقوم بمسح المناطق التي تحمل علامة TODO/FIXME والقصص ذات العلامات. يولد التقرير.

### فحص قاعدة التعليمات البرمجية بالكامل

__لاأنسلات_4__

فحص عميق لقاعدة التعليمات البرمجية بأكملها بما في ذلك تحليل التعقيد واكتشاف الازدواجية وتحليل التغطية.

### أنشئ قصصًا عن الديون الحرجة

__لا تترجم_5__

يبحث عن بنود الديون المهمة وينشئ قصصًا لها بشكل اختياري.

### إنشاء كل من التقرير والقصص

__لا تترجم_6__

إنشاء تقرير الديون وإنشاء قصص لبنود الديون فوق متوسطة الخطورة.

## مثال الإخراج

__لا تترجم_7__

## سير العمل

بعد إنشاء تقرير الديون، يمكنك:

### 1. قم بمراجعة التقرير
فهم ما هو الدين الموجود وأين هو.

### 2. إنشاء قصص (اختياري)
__لا تترجم_8__

إنشاء قصص لبنود الديون الهامة باستخدام:
- معايير القبول تركز على حالة "قبل/بعد".
- تحليل الأثر
- الجهد المقدر
- إشارات إلى الميزات المتضررة

### 3. احفظ في التوثيق
__لا تترجم_9__

يحفظ التقرير في `docs/08-project/tech-debt-YYYYMMDD.md` ويقوم بتحديث الملف README برابط.

### 4. إنشاء ملحمة الديون
في حالة وجود العديد من العناصر المهمة، يتم إنشاء ملحمة:
- EP-XXXX: تخفيض الديون الفنيةن
- قصص لأفضل 5 عناصر حاسمة
- يتتبع التقدم المحرز في خفض الديون

## استخدام معلومات الديون

### خطة سباقات السرعة
احتياطي 10-20% من كل سباق لتخفيض الديون:

__لا تترجم_10__

### بأثر رجعي
تتبع تخفيض الديون بأثر رجعي:

__لا تترجم_11__

### لوحة القيادة
قم بإنشاء لوحة معلومات الديون التي يتم تحديثها أسبوعيًا:

__لا تترجم_12__

## أفضل الممارسات

1. **كن صادقًا بشأن التقديرات**: أخطأ في الجانب المرتفع
2. **رابط للميزات**: إعطاء الأولوية للديون التي تعوق العمل الجديد
3. **احتفل بالتخفيضات**: تعرف على سداد الديون في الماضي
4. **منع التراكم**: فرض الاختبار في CI للكود الجديد
5. **المراجعة بانتظام**: قم بإجراء فحص الديون شهريًا أو ربع سنويًا

## منع الديون

أضف مراجعة الديون إلى CI/CD الخاص بك:

__لا تترجم_13__

## التكامل مع التنمية

عند تنفيذ الميزات، تحقق مما إذا كانت تؤدي إلى إنشاء ديون:

__لا تترجم_14__

## قالب القصة للديون

عند إنشاء قصص لبنود الديون:

__لا تترجم_15__

## الأوامر ذات الصلة

- [`/diagnose`](/commands/diagnose) - سيسالتشخيص الصحي تيم
- [`/metrics`](/commands/metrics) - لوحة التحكم في التحليلات والمقاييس
- [`/story`](/commands/story) - إنشاء قصص لبنود الديون
- [`/epic`](/commands/epic) - أنشئ ملحمة لتخفيض الديون
- [`/retro`](/commands/retro) - تضمين تحليل الديون بأثر رجعي
- [`/board`](/commands/board) - عرض القصص المتعلقة بالديون على متن الطائرة