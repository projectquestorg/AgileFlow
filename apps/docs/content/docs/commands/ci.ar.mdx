---
title: /ci-setup
description: سير عمل Bootstrap CI/CD مع الاختبار وفحوصات الجودة
---
# / إعداد ci

قم بتشغيل الحد الأدنى من سير عمل CI/CD مع الاختبار الآلي وفحوصات الجودة المدمجة مع إجراءات GitHub وقواعد ملكية التعليمات البرمجية.

## بداية سريعة

__لا تترجم_0__

## الغرض

يقوم هذا الأمر بإعداد أساس CI/CD كامل لمشروعك من خلال:
- إنشاء سير عمل GitHub Actions باستخدام وظائف الوبر والتحقق من الكتابة والاختبار
- إنشاء ملكية الكود من خلال ملف CODEOWNERS
- تكوين الأذونات وضوابط التزامن
- تقديم التوجيه بشأن تمكين الفحوصات المطلوبة

## المعلمات

| المعلمة | مطلوب | الافتراضي | الوصف |
|-----------|----------|---------|-------------|
| __غير مترجم_6__ | نعم | - | أسماء مستخدمي GitHub أو مقابض الفريق (مفصولة بفواصل، على سبيل المثال، `@alice,@team-backend`) |

## أمثلة

### الاستخدام الأساسي

__لا تترجم_1__

يقوم بإعداد CI مع Alice وBob كأصحاب التعليمات البرمجية.

### مقابض فريق متعددة

__لا تترجم_2__

يقوم بتعيين فرق متعددة كمالكين للتعليمات البرمجية لمتطلبات مراجعة التعليمات البرمجية.

## سير العمل

يتبع الأمر سير عمل متسق:

1. ** تحليلإدخال المالكين** - التحقق من صحة مقابض GitHub وتطبيعها
2. **إنشاء سير عمل CI** - إنشاء `.github/workflows/ci.yml` بثلاث وظائف:
   - **Lint Job** - عنصر نائب لـ ESLint أو Prettier أو ما شابه
   - **Typecheck Job** - عنصر نائب لـ TypeScript، أو Flow، أو mypy، أو ما شابه ذلك
   - **وظيفة اختبارية** - عنصر نائب لـ Jest أو pytest أو اختبار البضائع أو ما شابه
3. **إنشاء أصحاب الرموز** - إنشاء تعيينات الملكية:
   - `/src/` → المالكين المعينين
   - `/docs/03-decisions/` → المالكون المعينون
4. **إظهار المعاينة** - يعرض كلا الملفين اللذين تم إنشاؤهما للمراجعة
5. **في انتظار التأكيد** - يظهر السؤال "هل تريد إنشاء هذه الملفات؟ (نعم/لا)"
6. **إنشاء الملفات** - يكتب سير عمل CI وCODEOWNERS إذا تمت الموافقة عليه
7. **عرض الخطوات التالية** - يوضح كيفية تمكين عمليات التحقق المطلوبة في GitHub

## ملفات الإخراج

يقوم الأمر بإنشاء ملفين:

**`.github/workflows/ci.yml`** - سير عمل إجراءات GitHub مع:
- يعمل على: أحداث الدفع والسحب
- ثلاث وظائف: الوبر، فحص الكتابة، الاختبار (الحد الأدنى من الأذونات)
- التحكم في التزامن (يلغي قيد التقدمغير)
- أوامر مهمة عامة للتخصيص

**`CODEOWNERS`** - تكوين ملكية الرمز:
__لا تترجم_3__

## وظائف سي آي

يتم تكوين كل مهمة كعنصر نائب للتخصيص:

### وظيفة الوبر
- يعمل على: أوبونتو الأحدث
- الغرض: نمط الكود وفحص الجودة
- التخصيص باستخدام: `npm run lint`، `eslint .`، `prettier --check`، إلخ.

### وظيفة فحص الكتابة
- يعمل على: أوبونتو الأحدث
- الغرض: اكتب التحقق من السلامة
- التخصيص باستخدام: `tsc --noEmit`، `flow check`، `mypy`، إلخ.

### اختبار الوظيفة
- يعمل على: أوبونتو الأحدث
- الغرض: تنفيذ الاختبار الآلي
- التخصيص باستخدام: `npm test`، `pytest`، `cargo test`، إلخ.

## الخطوات التالية

بعد اكتمال الإعداد، تحتاج إلى:

1. **تخصيص أوامر المهمة**
   - تحرير `.github/workflows/ci.yml`
   - استبدل الأوامر العامة بالأوامر الفعلية لمشروعك

2. **تمكين حماية الفرع**
   - انتقل إلى إعدادات مستودع GitHub
   - انتقل إلى الفروع → قواعد حماية الفرع
   - إنشاء قاعدة لـ `main` فرع

3. **إضافة عمليات التحقق من الحالة المطلوبة**
   - في إعدادات حماية الفرع، قم بتمكين:
     - ✓ تتطلب الشيكات الحالة لتمرير
     - ✓ اشتراط أن تكون الفروع محدثة
     - ✓ تضمين المسؤولين
   - تحديد الفحوصات المطلوبة (الوبر، فحص الكتابة، الاختبار)

4. ** تكوين مراجعة التعليمات البرمجية **
   - تمكين: طلب مراجعات طلب السحب
   - تحديد عدد المراجعين (على سبيل المثال، 1 أو 2)
   - رفض الموافقات طلب السحب التي لا معنى لها
   - يتطلب مراجعات مالك الكود (يستخدم ملف CODEOWNERS)

5. **اختياري: دمج قائمة الانتظار**
   - تمكين قائمة انتظار دمج GitHub لعمليات نشر أكثر أمانًا
   - يدمج تلقائيا بعد اجتياز كافة الشيكات

## التخصيص

ملفات سير العمل التي تم إنشاؤها هي نقاط البداية. يجب عليك تخصيص:

**في `.github/workflows/ci.yml`**:
__لا تترجم_4__

**في `CODEOWNERS`**:
__لا تترجم_5__

## الأوامر ذات الصلة

- [`/setup-deployment`](/commands/deploy) - تكوين مسارات النشر
- [`/setup-tests`](/commands/tests) - إعداد البنية الأساسية للاختبار
- [`/agileflow:status`](/commands/status) - التحقق من حالة CI