---
title: /session:nouveau
description: Créez une session parallèle avec git worktree pour un travail multi-session
---
# /session :nouveau

Créez une nouvelle session Claude Code parallèle avec la configuration automatique de l'arbre de travail git. Cela vous permet de travailler sur plusieurs tâches simultanément sans conflits.

## Démarrage rapide

```bash
/agileflow:session:new
```

## Comment ça marche

Lorsque vous exécutez cette commande, des options vous seront présentées :

1. **Créer automatiquement une session N** - Crée automatiquement une session numérotée (par exemple, Session 2, Session 3)
2. **Nommez cette session** - Donnez un surnom comme "auth" ou "refactor"
3. **Utiliser une branche existante** - Attachez-vous à une branche que vous possédez déjà

La commande alors :
1. Crée un nouvel arbre de travail git dans un répertoire parallèle
2. Enregistre la session dans le registre de session
3. Vous montre la commande `cd` pour basculer vers le nouvel espace de travail

## Exemple de sortie

```
Creating Session 2...

✓ Session created successfully

  Session ID: 2
  Path: /home/user/myproject-2
  Branch: session-2

To start working in this session:
  cd /home/user/myproject-2 && claude
```

## Paramètres

Cette commande utilise des invites interactives (AskUserQuestion) au lieu de paramètres de ligne de commande.

| Options | Descriptif |
|--------|-------------|
| Création automatique | Utilise le prochain ID de session disponible |
| Session nommée | Crée avec personnalisésurnom (par exemple, "auth" → `/home/user/myproject-auth`) |
| Succursale existante | S'attache à une branche sans en créer une nouvelle |

## Pourquoi utiliser des sessions parallèles ?

### Le problème

L’exécution de plusieurs instances Claude Code dans le même répertoire provoque :
- Conflits de verrouillage de fichiers (surtout sur macOS)
- Risque de modifications contradictoires sur les mêmes fichiers
- Problèmes de répertoire `~/.claude/` partagés
- Aucune visibilité sur ce sur quoi les autres sessions travaillent

### La solution

Les arbres de travail Git fournissent :
- **Répertoires isolés** - Chaque session a son propre dossier
- **Partagé .git** - Disque efficace, pas de dépôt en double
- **Branches indépendantes** - Aucun conflit de fusion pendant le travail
- **Séparation nette** - Les sessions ne peuvent pas se marcher dessus

## Flux de travail

### Démarrer une deuxième tâche

```bash
# In your main project
/agileflow:session:new
# Pick "Auto-create Session 2"

# Claude shows:
#   cd /home/user/myproject-2 && claude

# Open new terminal
cd /home/user/myproject-2
claude
```

### Nommer les sessions par fonctionnalité

```bash
# Create session for auth work
/agileflow:session:new
# Pick "Name this session" → "auth"

# Creates: /home/user/myproject-auth on branch session-auth
```

### Utilisation d'une branche existante

```bash
# You have a feature branch already
git branch
# feature/new-api
# main

/agileflow:session:new
# Pick "Use existing branch" → "feature/new-api"

# Creates worktree attached to that branch
```

## Registre des sessions

Les sessions sont suivies dans `.agileflow/sessions/registry.json` :

```json
{
  "sessions": {
    "1": {
      "path": "/home/user/myproject",
      "branch": "main",
      "is_main": true
    },
    "2": {
      "path": "/home/user/myproject-2",
      "branch": "session-2",
      "nickname": null
    }
  }
}
```

## meilleures pratiques

- **Une tâche par session** - Gardez les sséances ciblées
- **Utilisez des surnoms pour les travaux de longue durée** - Plus facile à retenir que les chiffres
- **Terminer les sessions une fois terminé** - Utilisez `/session:end` pour nettoyer
- **Vérifiez l'état avant de commencer** - Utilisez `/session:status` pour voir ce qui est en cours d'exécution

## Commandes associées

- [`/session:status`](/commands/session-status) - Afficher toutes les sessions
- [`/session:resume`](/commands/session-resume) - Passer à une autre session
- [`/session:end`](/commands/session-end) - Terminer et éventuellement nettoyer une session
- [`/session:history`](/commands/session-history) - Voir les sessions passées