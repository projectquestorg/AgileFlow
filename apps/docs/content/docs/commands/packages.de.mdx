---
title: /Pakete
description: Verwalten Sie Abhängigkeiten mit Updates und Sicherheitsüberprüfungen
---

# /Pakete

Verwalten Sie Projektabhängigkeiten umfassend mit automatisierten Dashboards, Sicherheitsüberprüfungen, sicheren Updates und Schwachstellenmanagement für alle wichtigen Paketmanager.

## Schnellstart

```bash
/agileflow:packages ACTION=dashboard
```

## Zweck

Dieser Befehl bietet eine vollständige Abhängigkeitsverwaltung durch:
- Erkennen von Projektabhängigkeiten zwischen NPM, Pip, Cargo und anderen Paketmanagern
- Generieren umfassender Abhängigkeits-Dashboards mit Status- und Schwachstelleninformationen
- Durchführung von Sicherheitsaudits und Identifizierung von CVEs
- Planen und Anwenden sicherer Abhängigkeitsaktualisierungen
- Erstellen von Geschichten zu Sicherheitsthemen
- Verfolgung und Berichterstattung über den Wartungszustand

## Parameter

| Parameter | Required | Default | Description |
|-----------|----------|---------|-------------|
| `ACTION` | No | `dashboard` | `dashboard`, `update`, or `audit` |
| `SCOPE` | No | `all` | For updates: `security`, `major`, `minor`, `patch`, `all` |
| `OUTPUT` | No | `markdown` | For dashboard: `markdown`, `html`, `json`, `csv` |
| `INCLUDE_DEV` | No | `yes` | Include dev dependencies: `yes` or `no` |
| `SAVE_TO` | No | varies | Save report location (e.g., `docs/08-project/deps.md`) |
| `AUTO_PR` | No | `no` | Auto-create PR for updates: `yes` or `no` |

## Beispiele

### Abhängigkeits-Dashboard anzeigen

```bash
/agileflow:packages
```

Zeigt ein umfassendes Dashboard aller Abhängigkeiten mit Status, Schwachstellen und Empfehlungen.

### Dashboard als HTML exportieren

```bash
/agileflow:packages ACTION=dashboard OUTPUT=html
```

Erzeugt ein interaktives HTML-Dashboard mit sortierbaren Tabellen und Grafiken.

### Nur Sicherheitsaudit

```bash
/agileflow:packages ACTION=audit
```

Führt Sicherheitsüberprüfungen durch und meldet Schwachstellen, ohne Änderungen vorzunehmen.

### Sicherheitslücken aktualisieren

```bash
/agileflow:packages ACTION=update SCOPE=security
```

Aktualisiert Pakete mit bekannten Sicherheitsproblemen sicher und bittet um Bestätigung.

### Aktualisieren Sie Nebenversionen

```bash
/agileflow:packages ACTION=update SCOPE=minor
```

Aktualisiert Nebenversionen (neue Funktionen, abwärtskompatibel).

### PR für Updates automatisch erstellen

```bash
/agileflow:packages ACTION=update SCOPE=all AUTO_PR=yes
```

Aktualisiert alle Pakete und erstellt automatisch eine Pull-Anfrage.

## Aktionen

### ACTION=Dashboard (Standard)

Erstellt einen umfassenden Abhängigkeitsbericht mit folgenden Angaben:
- **Total count** - Produktions- und Entwicklungsabhängigkeiten
- **Vulnerability status** - Kritisch, hoch, mittel, niedrig
- **Update availability** - Haupt-, Neben- und Patchversionen
- **License info** - Zur Compliance-Nachverfolgung
- **Health score** - Gesamtzustand der Abhängigkeitserhaltung

**Output Example**:
```text
# Dependencies Dashboard

Project: my-app
Generated: 2025-12-24 10:00:00 UTC
Total Dependencies: 145 (prod: 98, dev: 47)

## Summary

| Category | Count | Action Needed |
|----------|-------|---------------|
| Critical Vulnerabilities | 2 | Update immediately |
| Major Updates | 12 | Review breaking changes |
| Minor Updates | 28 | Safe to update |
| Up-to-date | 85 | No action |
| Deprecated | 3 | Find alternatives |

## Critical Vulnerabilities

### express@4.16.0
Current: 4.16.0 → Latest: 4.18.2 (+2 major)
Severity: HIGH (CVSS 7.5)
CVE: CVE-2022-24999
Description: ReDoS vulnerability in Express.js routing
Fix: npm install express@4.18.2

[Additional vulnerability details...]

## Maintenance Score: 78/100

Breakdown:
- Security: 60/100 (2 critical vulnerabilities)
- Freshness: 80/100 (most deps recent)
- License compliance: 95/100 (2 GPL warnings)
- Bundle size: 75/100 (some optimization possible)
```

### AKTION=Aktualisierung

Plant und wendet Abhängigkeitsaktualisierungen mit Sicherheitsprüfungen an:

1. **Detects outdated packages** Verwenden eines geeigneten Paketmanagers
2. **Categorizes by type** - Sicherheit, Haupt-, Neben-, Patch
3. **Shows update plan** mit Breaking-Change-Warnungen
4. **Asks for confirmation** vor der Bewerbung
5. **Runs tests** nach Updates (falls verfügbar)
6. **Creates PR** wenn gewünscht
7. **Generates report** mit allen Änderungen

**Supported Package Managers**:
- Node.js: npm, Garn, pnpm
- Python: Pip, Pip-Tools, Poesie
- Ruby: Bundler (Gemfile)
- Los: Los Mod
- Rost: Ladung
- Java: Maven, Gradle
- .NET: NuGet

**Security Updates** werden immer priorisiert und sofort empfohlen.

**Major Updates** Erstellen Sie einzelne Storys zur Überprüfung (möglicherweise sind Codeänderungen erforderlich).

**Minor/Patch Updates** können sicher dosiert werden.

### AKTION=Prüfung

Führt nur eine Sicherheitsüberprüfung ohne Aktualisierung aus:

Zeigt alle bekannten Schwachstellen mit:
- Schweregrade (kritisch, hoch, mittel, niedrig)
- CVE-Kennungen und -Beschreibungen
- Betroffene Paketversionen
- Empfohlene Korrekturen

Beispiel:
```text
# Security Audit Report

Generated: 2025-12-24 10:00:00 UTC
Package Manager: npm

## Critical (2)
- express@4.16.0: CVE-2022-24999 (CVSS 7.5)
- lodash@4.17.19: CVE-2021-23337 (CVSS 7.4)

## High (0)
None

## Moderate (3)
[Details...]

Recommendation: Run /agileflow:packages ACTION=update SCOPE=security
```

## Paket-Manager-Erkennung

Der Befehl erkennt und unterstützt automatisch:

| Manager | Files | Detection |
|---------|-------|-----------|
| npm | package.json, package-lock.json | Node.js projects |
| yarn | yarn.lock | Modern Node.js |
| pnpm | pnpm-lock.yaml | Modern Node.js |
| pip | requirements.txt, pyproject.toml | Python |
| poetry | poetry.lock | Modern Python |
| bundler | Gemfile, Gemfile.lock | Ruby/Rails |
| go mod | go.mod, go.sum | Go |
| cargo | Cargo.toml, Cargo.lock | Rust |
| Maven | pom.xml | Java |
| Gradle | build.gradle | Java |
| NuGet | *.csproj, packages.config | .NET |

## Ausgabeformate

### Abschlag (Standard)
Für Menschen lesbarer Bericht mit Tabellen, geeignet zur Dokumentation:
```bash
/agileflow:packages ACTION=dashboard OUTPUT=markdown
```

### HTML
Interaktives Dashboard mit Filterung, Sortierung und Visualisierung:
```bash
/agileflow:packages ACTION=dashboard OUTPUT=html
```

### JSON
Strukturierte Daten für Werkzeuge und Integration:
```bash
/agileflow:packages ACTION=dashboard OUTPUT=json
```

### CSV
Tabellenkalkulationskompatibles Format:
```bash
/agileflow:packages ACTION=dashboard OUTPUT=csv
```

## Workflow-Beispiele

### Wöchentliches Abhängigkeitsaudit

```bash
# Run every Monday
/agileflow:packages ACTION=audit
```

Überprüfen Sie alle Schwachstellen und planen Sie Aktualisierungen.

### Monatliche Wartung

```bash
# Update minor and patch versions
/agileflow:packages ACTION=update SCOPE=minor
```

Bleiben Sie mit nicht unterbrechenden Änderungen auf dem Laufenden.

### Vierteljährliche größere Updates

```bash
# Review major version upgrades
/agileflow:packages ACTION=update SCOPE=major
```

Planen und testen Sie Breaking Changes sorgfältig.

### Notfall-Sicherheitspatch

```bash
# Immediately update critical vulnerabilities
/agileflow:packages ACTION=update SCOPE=security
```

Erstellen Sie PR und stellen Sie sie schnell bereit, wenn die Tests erfolgreich sind.

## CI-Integration

### Automatisiertes Audit in CI

Zu GitHub-Aktionen hinzufügen:
```yaml
- name: Dependency audit
  run: npm audit --audit-level=high

- name: Check outdated
  run: npm outdated || true  # Don't fail, just report
```

### Dependabot-Konfiguration

Erstellen `.github/dependabot.yml`:
```yaml
version: 2
updates:
  - package-ecosystem: "npm"
    directory: "/"
    schedule:
      interval: "weekly"
    open-pull-requests-limit: 10

  - package-ecosystem: "pip"
    directory: "/"
    schedule:
      interval: "weekly"
```

Dependabot erstellt automatisch PRs für Updates.

### Wöchentliche Abhängigkeitsprüfung

Geplanten Workflow hinzufügen:
```yaml
name: Dependencies
on:
  schedule:
    - cron: '0 9 * * 1'  # Monday 9am

jobs:
  check:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - run: /agileflow:packages ACTION=dashboard
```

## Geschichten für Schwachstellen erstellen

Wenn Sicherheitsprobleme festgestellt werden, erstellen Sie Storys:

**Format**:
```text
US-XXXX: Fix security vulnerability in [PACKAGE]

Severity: [CRITICAL|HIGH|MEDIUM]
CVE: [CVE-XXXX-XXXXX]
Current: [version]
Fix: [recommended version]

Steps to Fix:
1. Update package: npm install package@latest
2. Run tests: npm test
3. Review changelog for breaking changes
```

## Best Practices

1. **Prioritize Security** - Aktualisieren Sie kritische Schwachstellen immer sofort

2. **Batch Minor Updates** - Gruppieren Sie geschützte Updates für mehr Effizienz

3. **Test After Updates** - Führen Sie nach Updates immer die vollständige Testsuite aus

4. **Review Major Changes** - Testen Sie Hauptversionen im Staging vor der Produktion

5. **Monitor Deprecations** - Reagieren Sie frühzeitig auf veraltete Pakete

6. **License Compliance** - Überprüfen Sie die Lizenzen auf Unternehmensanforderungen

7. **Bundle Size** - Überwachen Sie die Auswirkungen von Abhängigkeiten auf die Paketgröße

8. **Automated Audits** - Führen Sie Audits wöchentlich durch, nicht nur während der Veröffentlichungen

## Regeln

- Aktualisieren Sie kritische Pakete niemals automatisch ohne Genehmigung
- Vor der Anwendung immer eine Vorschau der Änderungen anzeigen (Diff-first, JA/NEIN)
- Gruppieren Sie nach Möglichkeit kleinere/Patch-Updates
- Warnen Sie deutlich vor Breaking Changes
- Link zu Änderungsprotokollen und Migrationsleitfäden
- Erstellen Sie Geschichten für größere Upgrades
- Überspringen Sie niemals Tests nach dem Update
- Sperrdateien immer festschreiben (package-lock.json, Cargo.lock usw.)

## Verwandte Befehle

- [`/setup-tests`](/commands/tests) - Konfigurieren Sie automatisierte Tests
- [`/ci-setup`](/commands/ci) - CI-Prüfungen einrichten
- [`/setup-deployment`](/commands/deploy) - Konfigurieren Sie die Bereitstellung
