---
title: /code:completeness
description: Multi-agent analysis for forgotten features, dead handlers, stub code, and incomplete implementations
---

# /code:completeness

Deploy multiple specialized completeness analyzers in parallel to find forgotten features, dead handlers, stub code, and incomplete implementations, then synthesize results through consensus voting into a prioritized Completeness Audit Report.

## Quick Start

```bash
/agileflow:code:completeness app/
/agileflow:code:completeness . DEPTH=deep
/agileflow:code:completeness src/ FOCUS=handlers,routes
```

## Arguments

| Argument | Values | Default | Description |
|----------|--------|---------|-------------|
| `[file\|directory]` | file or directory | `.` | What to analyze |
| `DEPTH` | quick, deep, ultradeep | quick | Analysis depth: quick = core 5 analyzers, deep = all 7 analyzers, ultradeep = separate tmux sessions |
| `FOCUS` | handlers, routes, api, stubs, state, imports, conditional, all | all | Which analyzers to deploy (comma-separated) |
| `MODEL` | haiku, sonnet, opus | haiku | Model for analyzer subagents |

## How It Works

1. **Parse arguments** - Determine target, depth, and focus areas
2. **Deploy analyzers in parallel** - 5-7 specialized agents depending on depth
3. **Collect all findings** - Wait for all analyzers to complete
4. **Run consensus coordinator** - Validate findings and prioritize by severity
5. **Generate Completeness Audit Report** - Actionable recommendations saved to `docs/08-project/completeness-audits/`

## Core Analyzers (Quick Mode - 5)

| Analyzer | Finds |
|----------|-------|
| **Handlers** | Dead/empty event handlers, console-only handlers |
| **Routes** | Dead navigation, broken links, missing pages |
| **API** | Frontend-backend endpoint mismatches, orphaned endpoints |
| **Stubs** | TODO/FIXME comments, empty function bodies, mock data in production |
| **State** | Unused useState/useReducer, orphaned context providers |

## Deep Mode Analyzers (2 Additional)

| Analyzer | Finds |
|----------|-------|
| **Imports** | Dead exports, unused dependencies, orphaned modules |
| **Conditional** | Dead feature flags, unreachable code, commented-out features |

## Severity Scale

| Level | Definition | Example |
|-------|-----------|---------|
| **BROKEN** | Visibly broken in production - user encounters crash or non-functional element | Empty onClick handler, API call to non-existent endpoint |
| **INCOMPLETE** | Feature exists but silently does nothing or loses data | Form submits but handler is noop, state set but never read |
| **PLACEHOLDER** | Development stub shipped to production | `TODO: implement`, `throw new Error('Not implemented')`, hardcoded mock data |
| **DORMANT** | Unused code that should be alive or removed | Dead export, hardcoded false feature flag, commented-out feature |

## Confidence Levels

| Level | Definition | Priority |
|-------|-----------|----------|
| **CONFIRMED** | 2+ analyzers agree on finding | High |
| **LIKELY** | 1 analyzer with strong evidence | Medium |
| **INVESTIGATE** | 1 analyzer with weak evidence | Low |

## Examples

```bash
# Quick audit of app directory (core 5 analyzers)
/agileflow:code:completeness app/

# Deep audit with all 7 analyzers
/agileflow:code:completeness . DEPTH=deep

# Focus on specific incomplete features
/agileflow:code:completeness src/ FOCUS=handlers,routes

# Check for stubs and unused state only
/agileflow:code:completeness components/ FOCUS=stubs,state

# Comprehensive full audit with deep model
/agileflow:code:completeness . DEPTH=deep FOCUS=all MODEL=sonnet
```

## Example Output

```
ğŸ” Completeness Audit: app/
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Deploying 5 completeness analyzers (quick mode)...
âœ“ Handlers Analyzer
âœ“ Routes Analyzer
âœ“ API Analyzer
âœ“ Stubs Analyzer
âœ“ State Analyzer

Running consensus...
âœ“ Consensus complete
âœ“ Project type detected: Full-stack Web Application

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“Š COMPLETENESS SUMMARY
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

| Severity    | Count | User Impact            |
|-------------|-------|------------------------|
| Broken      | 2     | user-blocking          |
| Incomplete  | 3     | user-confusing         |
| Placeholder | 1     | data-silent            |
| Dormant     | 4     | developer-only         |

Total: 10 findings (3 intentional exclusions)

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸš¨ SHIP BLOCKERS
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

1. Empty onClick handler on "Delete Account" button [CONFIRMED]
   Location: components/Settings.tsx:45
   Severity: BROKEN | Impact: user-blocking
   Remediation: Implement delete API call or hide button

2. fetch('/api/payments') but route doesn't exist [CONFIRMED]
   Location: pages/checkout.tsx:28
   Severity: BROKEN | Impact: user-blocking
   Remediation: Create API route or disable checkout

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
âš ï¸  FIX BEFORE RELEASE
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

3. Form onSubmit only sets loading state, never calls API [LIKELY]
   Location: components/ContactForm.tsx:22
   Severity: INCOMPLETE | Impact: user-confusing

4. useState for searchResults setter called but value never rendered [LIKELY]
   Location: pages/search.tsx:8
   Severity: INCOMPLETE | Impact: data-silent

[Full report saved to docs/08-project/completeness-audits/]
```

## Quick Depth Comparison

| Aspect | quick | deep | ultradeep |
|--------|-------|------|-----------|
| **Analyzers** | 5 (core) | 7 (all) | 7 (all, parallel tmux) |
| **Execution** | Sequential | Sequential | Parallel sessions |
| **Severity Focus** | BROKEN/INCOMPLETE | All 4 levels | All 4 levels |
| **Time** | \<5min | 5-10min | 5-10min (parallel) |
| **Cost** | Low | Medium | Medium (parallelized) |

## What NOT to Use This For

This command focuses on **incomplete/missing/stub code**. Use other commands for:

- **Security issues** - Use `/code:security` for vulnerabilities, XSS, injection, auth bypass
- **Logic bugs** - Use `/code:logic` for race conditions, type bugs, edge cases, control flow
- **Performance** - Use `/code:performance` for slow queries, memory leaks, bundle size
- **Test gaps** - Use `/code:test` for missing tests, weak assertions, test patterns
- **Compliance** - Use `/code:legal` for GDPR, licensing, regulatory requirements

## Ultradeep Mode

For high-stakes audits, use `DEPTH=ultradeep` to spawn each analyzer in a separate Claude Code tmux session:

```bash
# Show cost estimate before launching
/agileflow:code:completeness . DEPTH=ultradeep --dry-run

# Launch parallel sessions
/agileflow:code:completeness . DEPTH=ultradeep
```

The command will:
1. Show estimated cost and token usage
2. Confirm with you before spawning sessions
3. Monitor progress via sentinel files in `docs/09-agents/ultradeep/`
4. Collect all findings and run consensus
5. Generate final report

If tmux is unavailable, it automatically falls back to `DEPTH=deep`.

## Related Commands

| Command | Purpose |
|---------|---------|
| [`/code:logic`](/docs/commands/code-logic) | Find logic bugs and edge cases |
| [`/code:security`](/docs/commands/code-security) | Detect security vulnerabilities |
| [`/code:performance`](/docs/commands/code-performance) | Find performance bottlenecks |
| [`/code:test`](/docs/commands/code-test) | Analyze test coverage and quality |
| [`/code:legal`](/docs/commands/code-legal) | Check compliance and licensing |
| [`/review`](/docs/commands/review) | AI-powered code review |
