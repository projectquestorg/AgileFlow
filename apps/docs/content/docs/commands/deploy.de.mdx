---
title: /setup-deployment
description: Richten Sie eine automatisierte Bereitstellungspipeline ein
---
# /setup-deployment

Erkennen Sie automatisch Ihren Projekttyp und konfigurieren Sie eine vollständige Bereitstellungspipeline mit plattformspezifischen Konfigurationen, CI/CD-Workflows und Umgebungsmanagement.

## Schnellstart

```bash
/agileflow:setup-deployment PLATFORM=auto ENV=both AUTO_DEPLOY=no
```

## Zweck

Dieser Befehl richtet die Bereitstellungsinfrastruktur intelligent ein, indem er:
- Automatische Erkennung Ihres Projekttyps (statisch, Full-Stack, serverlos, mobil, Container)
- Empfehlung der optimalen Bereitstellungsplattform
- Generieren plattformspezifischer Konfigurationsdateien
- Erstellen von GitHub Actions-Bereitstellungsworkflows
- Einrichten von Umgebungsvariablenvorlagen und Secrets-Management
- Bereitstellung klarer nächster Schritte für die Bereitstellung

## Parameter

| Parameter | Erforderlich | Standard | Beschreibung |
|-----------|----------|---------|-------------|
| `PLATFORM` | Nein | `auto` | `auto`, `vercel`, `netlify`, `heroku`, `aws`, `gcp`, `docker`, `eas` |
| `ENV` | Nein |`both` | `staging`, `production` oder `both` |
| `AUTO_DEPLOY` | Nein | `no` | `yes` oder `no` – Bereitstellung automatisch bei Push auslösen |

## Beispiele

### Alles automatisch erkennen

```bash
/agileflow:setup-deployment
```

Erkennt den Projekttyp und empfiehlt automatisch die beste Plattform.

### Plattform explizit angeben

```bash
/agileflow:setup-deployment PLATFORM=vercel ENV=both
```

Richtet die Vercel-Bereitstellung sowohl für die Bereitstellung als auch für die Produktion ein.

### Docker-Bereitstellung auf Fly.io

```bash
/agileflow:setup-deployment PLATFORM=docker ENV=production
```

Konfiguriert die Docker-basierte Bereitstellung (funktioniert mit Fly.io, AWS, GCP).

### Mobile App mit EAS

```bash
/agileflow:setup-deployment PLATFORM=eas ENV=production
```

Richtet Expo-Anwendungsdienste für die React Native/Expo-Bereitstellung ein.

## Projekterkennung

Der Befehl analysiert Ihr Projekt, um Plattformen zu empfehlen:

### Statische Websites
**Erkannt von**: HTML/CSS/JS, React/Vue/Angular SPA (kein Backend)
- Empfohlen: Vercel oder Netlify
- Ideal für: Marketing-Sites, SPAs, Dokumentation

### Full-Stack-Web-Apps
**Erkannt von**: Node.js-Server, Express/Fastify/Next.js API-Routen
- Empfohlen: Vercel (Next.js) oder Railway
- Ideal für: Web-Apps mit Backend-Logik

### Mobile Apps (React Native / Expo)
**Erkannt durch**: `expo`-Konfiguration, `react-native`-Abhängigkeit
- Empfohlen: EAS (Expo Application Services)
- Ideal für: mobile iOS/Android-Apps

### Containerbasierte Apps
**Erkannt von**: `Dockerfile` vorhanden
- Empfohlen: Fly.io
- Ideal für: Benutzerdefinierte Docker-Bereitstellungen, Microservices

### Serverlose Funktionen
**Erkannt von**: Lambda-Funktionen, API-Gateway-Konfiguration
- Empfohlen: AWS Lambda- oder Vercel-Funktionen
- Ideal für: ereignisgesteuerte Workloads mit Bezahlung pro Ausführung

## Ausgabedateien

Der Befehl erstellt mehrere Konfigurationsdateien:

### Plattformkonfiguration
- **Vercel**: `vercel.json`
- **Netlify**: `netlify.toml`
- **Heroku**: `Procfile`, `app.json`
- **Docker**: `Dockerfile`, `.dockerignore`, `fly.toml`
- **EAS**: `eas.json`
- **AWS Lambda**: `serverless.yml`

### CI/CD-Workflow
– `.github/workflows/deploy.yml` – Automatisierter Bereitstellungsworkflow
- Unterstützt Inszenierung → Produktionsförderung
– Läuft bei Push zu Staging-/Hauptzweigen

### Umweltmanagement
– `.env.example` – Vorlage für Umgebungsvariablen (sicheres Commit)
- `docs/02-practices/secrets-management.md` – Leitfaden zur Verwaltung von Geheimnissen
– `docs/02-practices/deployment.md` – Bereitstellungsdokumentation

## Plattformen

### Vercel (empfohlen für Next.js/React)
Am besten geeignet für: Next.js-, React- und SPA-Bereitstellungen
- Automatische Builds auf Git Push
- Globales CDN
- Integrierte serverlose Funktionen
- Benutzeroberfläche für das Umgebungsmanagement
- Vorschau der Bereitstellungen auf PRs

**Nächste Schritte**:
```bash
vercel link              # Connect your GitHub repo
vercel env add DATABASE_URL production
git push origin main     # Trigger deployment
```

### Netlify (empfohlen für statische Websites)
Am besten geeignet für: Statische Websites, JAMstack, allgemeine SPAs
- Automatische Builds von Git
- Integrierte Analysen und Formulare
- Serverlose Funktionen
- Netlify CMS-Integration
- Benutzerdefinierte Domänenverwaltung

### Heroku (Node.js/Python-Server)
Am besten geeignet für: Traditionelle Serveranwendungen
- Einfache Slug-basierte Bereitstellung
- PostgreSQL- und Redis-Add-ons
- Umgebungsvarkompetentes Management
- Funktionen für die Teamzusammenarbeit

**Nächste Schritte**:
```bash
heroku login
heroku create my-app
heroku addons:create heroku-postgresql:hobby-dev
git push heroku main
```

### Fly.io (Docker-Bereitstellung)
Am besten geeignet für: Docker-Container, Microservices, benutzerdefinierte Laufzeiten
- Globale Bereitstellung mit Anycast-Routing
- IPv6-Unterstützung
- Automatische Skalierung
- Persistente Volumes
- PostgreSQL enthalten

**Nächste Schritte**:
```bash
fly auth login
fly launch
fly deploy
```

### AWS (Lambda/ECS/Elastic Beanstalk)
Am besten geeignet für: Skalierbare Anwendungen, Microservices
- Mehrere Bereitstellungsoptionen (Lambda, ECS, Beanstalk)
- Kostengünstig im großen Maßstab
- Integration mit dem AWS-Ökosystem
- Fein abgestimmte Zugangskontrolle

### EAS (Expo/React Native)
Am besten geeignet für: Mobile Apps (iOS/Android)
- Native Builds in der Cloud
- Einreichungen im App Store/Play Store
- OTA-Updates
- Entwicklung von Client-Builds

## Arbeitsablauf

Die Einrichtung folgt einem einheitlichen Prozess:

1. **Projekttyp erkennen** – Analysiert Abhängigkeiten und Dateien
2. **Plattform empfehlen** – schlägt optimales Hosting vor
3. **Konfiguration generieren** – Erstellt plattformspezifische Dateien
4. **Workflow erstellen** – Richtet GitHub Ac eintionen für den Einsatz
5. **Umgebungseinrichtung** – Erstellt `.env.example` und Dokumente
6. **Vorschau anzeigen** – Zeigt alle Dateien zur Überprüfung an
7. **Dateien erstellen** – Schreibt nach JA/NEIN-Bestätigung auf die Festplatte
8. **Nächste Schritte anzeigen** – Anleitung zum Abschluss der Einrichtung

## Umweltmanagement

### Inszenierung vs. Produktion

Der Befehl kann eine oder beide Umgebungen einrichten:

```yaml
# Example: Two-branch deployment
Staging:
  - Branch: staging
  - URL: staging.example.com
  - Environment: development-like

Production:
  - Branch: main
  - URL: example.com
  - Environment: live
```

### Geheimnisverwaltung

**Gib niemals Geheimnisse an Git weiter**. Stattdessen:

1. Verwenden Sie `.env.example` als Vorlage
2. Speichern Sie tatsächliche Geheimnisse in der Plattform (Vercel, Heroku usw.)
3. GitHub Actions bietet `${{ secrets.NAME }}`
4. Weitere Informationen finden Sie in `docs/02-practices/secrets-management.md`

**Gemeinsame Geheimnisse**:
- Datenbankverbindungszeichenfolgen
- API-Schlüssel (Stripe, SendGrid usw.)
- AWS-Anmeldeinformationen
- Service-Token von Drittanbietern

## Beispiele nach Plattform

### Vercel-Bereitstellung

```bash
/agileflow:setup-deployment PLATFORM=vercel
```

Erstellt:
- `vercel.json` mit Build-Konfiguration
- `.github/workflows/deploy.yml` für die automatische Bereitstellung
- `.env.example` mit Vercel-Variablennamen
- Bereitstellungsdokumente

### Heroku mit PostgreSQL

```bash
/agileflow:setup-deployment PLATFORM=heroku ENV=production
```

Erstellt:
- `Procfile` (web: npm start)
- `app.json` mit Buildpack-Konfiguration
- PostgreSQL-Setup-Dokumente
- Bereitstellungsworkflow

### Docker zu Fly.io

```bash
/agileflow:setup-deployment PLATFORM=docker
```

Erstellt:
- `Dockerfile` mit mehrstufigem Build
- `.dockerignore` für sauberes Bild
- `fly.toml` mit Regions- und Volume-Konfiguration
- Bereitstellungsworkflow

## Option zur automatischen Bereitstellung

Standardmäßig erfordern Bereitstellungen eine manuelle Auslösung. So aktivieren Sie die automatische Bereitstellung bei jedem Push:

```bash
/agileflow:setup-deployment AUTO_DEPLOY=yes
```

**Wichtig**: Bei der Produktion mit Vorsicht verwenden. Bedenken Sie:
- Erfordern Sie immer, dass CI zuerst besteht
- Nutzen Sie den Staging → Hauptpromotionsprozess
- Implementieren Sie Feature-Flags für schrittweise Rollouts
- Überwachen Sie die Fehlerverfolgung nach Bereitstellungen

## Nächste Schritte nach der Einrichtung

1. **Plattformverbindung hinzufügen**
   ```bash
   vercel link
   # or
   fly auth login
   fly launch
   ```

2. **Geheimnisse konfigurieren**
   ```bash
   vercel env add DATABASE_URL production
   # or
   fly secrets set DATABASE_URL=postgresql://...
   ```

3. **Testbereitstellung**
   ```bash
   git push origin staging
   # Check deployment logs on platform dashboard
   ```

4. **Benutzerdefinierte Domäne festlegen** (Optional)
   ```bash
   vercel domains add example.com
   # Follow platform-specific DNS setup
   ```

5. **Automatische Bereitstellung aktivieren** (Optional)
   – Aktivieren Sie nach dem Testen des Stagings die automatische Produktionsbereitstellung
   - Konfigurieren Sie Zweigschutzregeln

## Verwandte Befehle

- [`/ci-setup`](/commands/ci) – CI/CD-Tests und -Prüfungen einrichten
- [`/setup-tests`](/commands/tests) – Test-Framework konfigurieren
- [`/generate-changelog`](/commands/changelog) – Versionshinweise erstellen