---
title: الامتثال
description: متخصص الامتثال التنظيمي لامتثال GDPR و HIPAA و SOC2 وتتبع التدقيق والمتطلبات القانونية وتوثيق الامتثال.
---

# متخصص الامتثال

AG-COMPLIANCE يضمن الامتثال التنظيمي عبر GDPR و HIPAA و SOC2 و PCI-DSS وأطر العمل الأخرى، مع التركيز على تتبع التدقيق وحماية البيانات وتوثيق الامتثال.

## القدرات

- **Regulatory Framework Compliance**: GDPR و HIPAA و SOC2 و PCI-DSS و CCPA
- **Audit Trail Implementation**: تسجيل ثابت لجميع الوصول والتعديلات على البيانات
- **Data Retention Policies**: تحديد وأتمتة جداول حذف البيانات
- **Consent Management**: معالجة موافقة GDPR والانسحاب
- **Privacy Policies & Terms**: توثيق للامتثال القانوني والتنظيمي
- **Incident Response**: إجراءات خرق البيانات والإخطار
- **Compliance Documentation**: دليل للمدققين ومراجعات الامتثال

## متى تستخدم

استخدم AG-COMPLIANCE عندما:

- تحديد المتطلبات التنظيمية المعمولة بها لعملك
- تنفيذ تتبع التدقيق للوصول والتعديلات على البيانات
- تصميم سياسات الاحتفاظ بالبيانات والحذف
- إعداد إدارة موافقة GDPR
- كتابة سياسات الخصوصية وشروط الخدمة
- الاستعداد لعمليات تدقيق الامتثال
- توثيق إجراءات الاستجابة للحوادث

## كيف يعمل

1. **Context Loading**: يقرأ ملف الخبرة وحالة امتثال المشروع
2. **Framework Analysis**: يحدد اللوائح التي تنطبق (GDPR و HIPAA و إلخ)
3. **Audit**: يراجع قاعدة الرموز لفجوات الامتثال
4. **Implementation**: يطبق تتبع التدقيق وإدارة الموافقة وحذف البيانات
5. **Documentation**: ينشئ سياسة الخصوصية وسياسة الاحتفاظ بالبيانات وإجراءات الاستجابة
6. **Evidence**: يعد التوثيق لمراجعات المدققين والامتثال

## مثال

```bash
# عبر /babysit
/agileflow:babysit
> "I need to ensure GDPR compliance for my EU users"

# AG-COMPLIANCE ستقوم بـ:
# 1. Audit codebase for GDPR compliance gaps
# 2. Implement audit trail logging (who, what, when, where, why)
# 3. Set up consent management system
# 4. Create privacy policy documentation
# 5. Implement data deletion procedures
# 6. Document incident response
```

## السلوكيات الرئيسية

- **Never Compromises**: الامتثال غير قابل للتفاوض، لا يتم تخطيه أبدًا
- **Audit Trails First**: جميع البيانات والتعديلات مسجلة بشكل ثابت
- **Privacy-Focused**: يقلل من جمع البيانات ويحترم حقوق المستخدم
- **Documentation**: ينشئ دليل لمراجعات المدققين والامتثال
- **Proactive**: يحدد الفجوات قبل أن تصبح مشاكل

## الأدوات المتاحة

- Read, Write, Edit, Bash, Glob, Grep
- الوصول إلى Session Harness للتحقق

## أطر الامتثال

**GDPR** (الاتحاد الأوروبي - ينطبق على بيانات مواطني الاتحاد الأوروبي):
- حق الوصول (يمكن للمستخدمين طلب بيانتهم)
- حق النسيان (يمكن للمستخدمين طلب الحذف)
- نقل البيانات (يمكن للمستخدمين طلب تصدير البيانات)
- إدارة الموافقة (يجب الحصول على موافقة صريحة)
- تتبع التدقيق (من وصل إلى ماذا ومتى)
- تقييمات تأثير الخصوصية

**HIPAA** (الولايات المتحدة - بيانات الرعاية الصحية):
- خصوصية المريض (حماية PHI)
- حقوق المريض (الوصول والتعديل والحذف)
- ضوابط التدقيق (التسجيل والمراقبة)
- ضوابط الوصول (المصادقة والترخيص)
- أمان النقل (التشفير أثناء النقل)
- إخطار الخرق (إذا تسرب البيانات)

**SOC2** (مقدمو الخدمات):
- الأمان (حماية البيانات من الوصول غير المصرح)
- التوفر (وقت تشغيل النظام)
- سلامة المعالجة (البيانات المعالجة بشكل صحيح)
- السرية (البيانات المحفوظة سرية)
- الخصوصية (معالجة البيانات الشخصية بشكل صحيح)
- تتبع التدقيق والمراقبة

**PCI-DSS** (معالجة بطاقات الدفع):
- شبكة آمنة (جدار حماية، بدون افتراضيات)
- حماية البيانات (التشفير والوصول المحدود)
- إدارة الثغرات الأمنية (التصحيح والاختبار)
- التحكم في الوصول (أقل امتياز)
- المراقبة والاختبار (سجلات التدقيق)

## تتبع التدقيق (حرج)

**ما يجب تسجيله**:
- من (معرف المستخدم ومعرف المسؤول)
- ماذا (الإجراء والبيانات المحدودة)
- متى (الطابع الزمني)
- أين (عنوان IP والموقع)
- لماذا (الغرض والسبب)
- النتيجة (النجاح أو الفشل)

**مثال إدخال سجل التدقيق**:
```json
{
  "timestamp": "2025-10-21T10:00:00Z",
  "user_id": "user-123",
  "action": "view_patient_record",
  "resource": "patient-456",
  "ip_address": "192.168.1.1",
  "location": "New York, USA",
  "result": "success",
  "purpose": "Treatment"
}
```

**متطلبات الثبات**:
- يجب أن تكون السجلات محمية من التزوير
- قاعدة البيانات الإضافة فقط
- تشفير وتوقيع السجلات
- أرشفة السجلات القديمة بأمان
- لا تسمح أبدًا بالحذف (إلا بالتفويض)

## سياسات الاحتفاظ بالبيانات

حدد لكل نوع بيانات:

- **User account data**: احتفظ بدون نشاط، احذف بعد 30 يومًا من الإلغاء
- **Transaction data**: احتفظ بـ 7 سنوات (متطلبات مالية)
- **Logs**: احتفظ بـ 90 يومًا (تشغيلي)، أرشفة 1 سنة
- **Deleted user data**: احذف خلال 30 يومًا
- **Backup data**: احتفظ بمدة 30 يومًا

**تطبيق الحذف الآلي**:
- وظائف مجدولة لحذف البيانات المنتهية
- تسجيل جميع الحذفات
- التحقق من نجاح الحذف

## إدارة الموافقة (GDPR)

**موافقة صريحة مطلوبة**:
- ليس خانات اختيار محددة مسبقًا (يجب أن تكون اختيار الدخول)
- وصف واضح للبيانات المجمعة
- غرض جمع البيانات
- من لديه الوصول إلى البيانات
- حق الانسحاب من الموافقة

**التنفيذ**:
```javascript
// يجب الحصول على موافقة صريحة قبل المعالجة
if (!user.has_marketing_consent) {
  throw new Error('Consent required');
}

// سجل منح الموافقة/الانسحاب
auditLog({
  action: 'consent_granted',
  user_id: user.id,
  type: 'marketing',
  timestamp: new Date(),
});
```

## توثيق الامتثال

**توثيق للمدققين**:
- سياسة الخصوصية
- شروط الخدمة
- ملحق معالجة البيانات (DPA)
- التوثيق الأمني
- سياسة الاحتفاظ بسجلات التدقيق
- إجراءات الاستجابة للحوادث
- سجلات تدريب الموظفين
- تقييمات امتثال البائع

## أقسام سياسة الخصوصية

- **Data Collected**: ما البيانات الشخصية التي تجمعها؟
- **Purpose**: لماذا تجمع هذه البيانات؟
- **Legal Basis**: لماذا يُسمح لك بجمعها (الموافقة والعقد وما إلى ذلك)؟
- **Retention**: إلى متى تحتفظ بها؟
- **User Rights**: حق الوصول والحذف والنقل
- **Third Parties**: من لديه الوصول إلى بيانات المستخدم؟
- **Cookies**: سياسة ملف تعريف الارتباط والتتبع

## الاستجابة للحوادث

**إجراء خرق البيانات**:
1. الكشف عن خرق (وصول غير مصرح إلى البيانات الشخصية)
2. توثيق التفاصيل (ماذا ومتى ومن تأثر)
3. إخطار السلطة التنظيمية (GDPR: 72 ساعة)
4. إخطار المستخدمين المتأثرين (GDPR: بدون تأخير لا مبرر له)
5. الحفاظ على الأدلة (السجلات وسجلات الوصول)
6. إصلاح (إصلاح الثغرة الأمنية)
7. المراجعة والتحسين (منع التكرار)

## قائمة التحقق من الجودة

قبل وضع علامة على عمل الامتثال كاملة:

- تم تحديد إطار الامتثال
- توثيق المتطلبات
- تتبع التدقيق تسجيل كل شيء (من وماذا ومتى وأين ولماذا)
- سياسات الاحتفاظ بالبيانات محددة ومأتمتة
- إدارة الموافقة مطبقة (إذا GDPR)
- سياسة الخصوصية مكتوبة ومنشورة
- شروط الخدمة مكتوبة ومنشورة
- الاستجابة للحوادث موثقة
- تدريب الموظفين موثق
- تقييمات الطرف الثالث الحالية
- الاختبارات تمر مع test_status: "passing"

## الوكلاء ذات الصلة

- [AG-SECURITY](/agents/security) - تشفير البيانات والتحكم في الوصول
- [AG-ANALYTICS](/agents/analytics) - تتبع الأحداث المتوافق مع GDPR
- [AG-MONITORING](/agents/monitoring) - المراقبة الأمنية والتنبيهات

## رسائل التنسيق

AG-COMPLIANCE تنسق مع الفرق الأخرى:

```json
{
  "ts": "2025-10-21T10:00:00Z",
  "from": "AG-COMPLIANCE",
  "type": "status",
  "text": "Audit trails implemented for all data access, GDPR ready"
}
```

## أوامر القطع

- `/agileflow:research:ask TOPIC=...` - بحث متطلبات الامتثال
- `/agileflow:ai-code-review` - مراجعة الرمز لمشاكل الامتثال
- `/agileflow:adr-new` - توثيق قرارات الامتثال
- `/agileflow:status STORY=... STATUS=...` - تحديث حالة القصة
