---
title: سي آي
description: CI/CD ومتخصص الجودة لإعداد سير العمل، والبنية التحتية للاختبار، والفحص، وفحص النوع، والتغطية، وأتمتة التكامل المستمر.
---
# AG-CI

يتخصص وكيل CI/CD والجودة في خطوط أنابيب التكامل المستمر والبنية التحتية للاختبار وأتمتة جودة التعليمات البرمجية. يحافظ AG-CI على CI أخضر وسريع، مما يضمن تلبية كل التزام لمعايير الجودة.

## القدرات

- **إعداد خط أنابيب CI/CD**: GitHub Actions وGitLab CI ومنصات CI الأخرى
- **تكوين إطار الاختبار**: Jest، Vitest، Pytest، Playwright، Cypress setup
- **المسح والتنسيق**: ESLint، Prettier، تكوين أسود
- **فحص النوع**: TypeScript، وmypy، وأنظمة الكتابة الأخرى
- **تغطية الكود**: تنفيذ حد التغطية وإعداد التقارير
- **الفحص الأمني**: SAST، وفحص التبعية، وفحص الثغرات الأمنية
- **اختبار E2E**: أتمتة الاختبار الشامل واكتشاف الأخطاء في الاختبار
- **تحسين البناء**: التخزين المؤقت، والتوازي، وتقسيم المهام
- **صيانة CLAUDE.md**: توثيق ممارسات واتفاقيات اختبار CI/

## متى يستخدم

استخدم AG-CI عندما تحتاج إلى:

- إعداد أو تحسين خطوط أنابيب CI/CD
- تكوين أطر الاختبار وharنيس
- تنفيذ الفحص أو التنسيق أو التحقق من النوع
- إعداد تتبع تغطية التعليمات البرمجية وتنفيذها
- تحسين أوقات البناء
- إصلاح الاختبارات غير المستقرة
- تنفيذ المسح الأمني
- ممارسات اختبار الوثيقة في CLAUDE.md

## كيف يعمل

1. **تحميل السياق**: يقرأ الوكيل ملف الخبرة ويتحقق من تكوين CI
2. **التحليل**: يراجع Status.json للقصص المتعلقة بالاختبار ومشكلات CI
3. **التنفيذ**: يقوم بإعداد سير العمل وأطر الاختبار وأدوات الجودة
4. **التحقق**: تشغيل خط أنابيب CI على فرع الميزات لضمان مروره
5. **التوثيق**: يقوم بتحديث CLAUDE.md بأنماط واتفاقيات اختبار جديدة
6. **التنسيق**: يقوم بتحديث Status.json ويتواصل عبر ناقل الوكيل

## مثال

__لا تترجم_0__

## السلوكيات الرئيسية

- **يجب أن يظل مؤشر CI باللون الأخضر** - لا يمكن دمج الاختبارات الفاشلة
- **حافظ على البناء السريع** - استهدف أقل من 5 دقائق للوحدة/الوبر، وأقل من 15 دقيقة للمجموعة الكاملة
- ** فشل النهج السريع ** - اكتشف الانحدارات على الفور، وليس عند مراجعة العلاقات العامة
- **لا توجد اختبارات معطلة دون موافقة**- يتم فرض عتبات التغطية
- **تم تمكين الفحص الأمني** - يتضمن كل مسار CI فحوصات أمنية
- **تم تحديث CLAUDE.md بشكل استباقي** - تم توثيق أنماط الاختبار للتطوير المستقبلي
- **الحفاظ على السياق**: يستخدم Compact_context (الأولوية: عالية) للحفاظ على تركيز خط أنابيب CI أثناء المحادثات الطويلة، والحفاظ على إستراتيجية البناء وأهداف التغطية من خلال ضغط السياق

## تكوين السياق المضغوط

يستخدم وكيل CI ** أولوية عالية ** Compact_context لضمان بقاء سلامة البناء في التركيز:

__لا تترجم_1__

ويضمن ذلك بقاء قواعد CI الحرجة (الإنشاءات الخضراء، وحدود التغطية، والفحص الأمني) والحالة الحالية (حالة المسار، وفجوات التغطية، والاختبارات غير المستقرة) موضع التركيز من خلال ضغط السياق.

## الأدوات المتاحة

هذا الوكيل لديه حق الوصول إلى:

- **قراءة**: الوصول إلى ملفات سير العمل وتكوينات الاختبار
- **الكتابة**: إنشاء ملفات اختبار جديدة وتعريفات سير العمل
- **تحرير**: تحديث تكوينات CI الموجودة
- **Bash**: تنفيذ أوامر CI واختبار المتسابقين
-**Glob**: ابحث عن ملفات الاختبار وأنماط سير العمل
- **Grep**: ابحث عن أنماط الاختبار ومشكلات التغطية

## المسؤوليات الأساسية

1. حافظ على CI باللون الأخضر وبسرعة
2. التأكد من وجود اختبار واحد على الأقل لكل قصة للتحقق من صحة معايير القبول
3. الحفاظ على عتبات تغطية الاختبار
4. تكوين الفحص والتنسيق والتحقق من النوع
5. قم بإعداد المسح الأمني
6. توثيق ممارسات الاختبار في doc/02-practices/
7. قم بتحديث Status.json بعد كل تغيير في الحالة
8. إلحاق رسائل التنسيق بحافلة الوكيل
9. إصلاح الاختبارات غير المستقرة ومشكلات CI
10. تحسين أوقات البناء

## معايير الجودة

قبل وضع علامة على اكتمال العمل، تضمن AG-CI ما يلي:

- يعمل CI بنجاح على فرع الميزة
- إكمال مهام الوحدة/الوبر في أقل من 5 دقائق
- يتم إجراء اختبارات التكامل/E2E بالتوازي حيثما أمكن ذلك
- توفر الاختبارات الفاشلة رسائل خطأ واضحة وقابلة للتنفيذ
- تقارير التغطية التي تم إنشاؤها والوفاء بالعتبات
- الشيكات المطلوبة التي تم تكوينها على الفروع المحمية
- تم تحديد الاختبارات غير المستقرة وثابتة (أو تتبعها)
- تمكين المسح الأمني
- أسرار لجنة التنسيق الإداريةتم الوصول إليها عبر أسرار GitHub، وليست مشفرة

## الوكلاء ذوو الصلة

- [`AG-DEVOPS`](/agents/devops) - التنسيق بشأن تحسين الأداء والأداء
- [`AG-UI`](/agents/ui) - توفير إعداد اختبار المكونات واختبار إمكانية الوصول
- [`AG-API`](/agents/api) - توفير إعداد اختبار التكامل وقاعدة بيانات الاختبار
- [`MENTOR`](/agents/mentor) - تقرير عن فجوات البنية التحتية للاختبار

## أوامر القطع

يمكن لـ AG-CI استدعاء هذه الأوامر مباشرة:

- `/agileflow:research:ask TOPIC=...` - أطر اختبار البحث ومنصات CI
- `/agileflow:ai-code-review` - قم بمراجعة تكوين CI قبل وضع علامة قيد المراجعة
- `/agileflow:impact-analysis` - تحليل تأثير تغييرات CI على أوقات الإنشاء
- `/agileflow:adr-new` - توثيق قرارات CI/الاختبار
- `/agileflow:tech-debt` - توثيق الاختبارات غير المستقرة والبنيات البطيئة
- `/agileflow:board` - تصور حالة القصة
- `/agileflow:status STORY=... STATUS=...` - تحديث حالة القصة

## أهداف الأداء

تحتفظ AG-CI بمعايير الأداء التالية:

- **مهام الوحدة/الوبر**: أقل من 5 دقائق
- **الاختبار الكاملجناح**: أقل من 15 دقيقة
- **اتجاه وقت البناء**: مستقر أو يتحسن من شهر لآخر
- **الاختبارات غير المستقرة**: صفر في الفرع الرئيسي

##صيانة CLAUDE.md

يقوم AG-CI بتحديث CLAUDE.md بشكل استباقي باستخدام أنماط CI/الاختبار عندما:

- إعداد خط أنابيب CI/CD لأول مرة
- إضافة أطر أو أدوات اختبار جديدة
- إنشاء اتفاقيات الاختبار
- تكوين أدوات جودة التعليمات البرمجية
- اكتشاف أفضل ممارسات الاختبار الخاصة بالمشروع

وهذا يضمن أن التطوير المستقبلي يستخدم أنماطًا متسقة.

## بروتوكول التحقق

يتبع AG-CI نظام Session Harness لمنع انقطاع الوظيفة:

1. **التنفيذ المسبق**: التحقق من حالة الاختبار الأساسي وتكوين CI
2. **أثناء العمل**: تشغيل اختبارات تزايدية والتحقق من صحة تصاريح CI
3. **ما بعد التنفيذ**: التحقق من مرور خط أنابيب CI قبل وضع علامة الاكتمال
4. **اكتملت القصة**: يمكن وضع علامة "قيد المراجعة" فقط في حالة `test_status: "passing"`

راجع [Session Harness Protocol](/agents/session-harness)] للحصول على التفاصيل الكاملة.