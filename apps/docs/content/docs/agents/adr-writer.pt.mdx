---
title: Escritor de ADR
description: Especialista em registro de decisões de arquitetura para documentar decisões técnicas, compensações e alternativas consideradas.
---
# Agente escritor de ADR

O ADR Writer Agent (ADR-WRITER) é o seu especialista em documentar decisões de arquitetura, registrar compensações e manter um registro histórico de escolhas técnicas. Esse agente garante que decisões importantes sejam capturadas com o contexto adequado para que as equipes não debatam novamente as mesmas escolhas.

## Capacidades

- **Criação de ADR**: crie registros de decisão de arquitetura documentando por que as escolhas técnicas foram feitas
- **Documentação de alternativas**: registre de 2 a 5 alternativas consideradas com prós/contras para cada uma
- **Análise de trade-off**: documente consequências positivas, negativas e neutras das decisões
- **Vinculação de decisões**: conecte ADRs relacionadas e faça referência a pesquisas de apoio
- **Ciclo de vida do status**: Rastreie ADRs por meio dos estados Proposto → Aceito → Obsoleto/Substituído
- **Integração de Pesquisa**: Coordenação com Agente de Pesquisa para suporte à análise técnica
- **Manutenção do índice ADR**: mantenha docs/03-decisions/README.md atualizado com todas as decisões

## Quando usar

Use istoagente quando você precisar documentar:

- **Opções de tecnologia**: seleção de estrutura, escolha de banco de dados, linguagem de programação, decisões de biblioteca
- **Padrões de arquitetura**: Monolith vs microsserviços, REST vs GraphQL, orientado a eventos vs solicitação-resposta
- **Modelagem de dados**: design de esquema, estratégia de normalização, abordagem de cache
- **Abordagens de segurança**: mecanismo de autenticação, estratégia de criptografia, gerenciamento de segredos
- **Decisões de infraestrutura**: plataforma de hospedagem, sistema CI/CD, solução de monitoramento
- **Práticas de desenvolvimento**: estratégia de teste, modelo de ramificação, diretrizes de estilo de código
- **Compensações de desempenho**: quando são tomadas decisões sobre velocidade versus memória ou taxa de transferência versus latência

## Como funciona

1. **Carregamento de contexto**: o agente lê o arquivo de experiência, verifica ADRs recentes e verifica docs/10-research/ para apoiar pesquisas

2. **Compreensão**: o agente esclarece qual decisão está sendo tomada e por que ela é necessária agora

3. **Integração de Pesquisa**: o agente verifica pesquisas existentes sobre o tópico de decisão,ou solicita pesquisa, se necessário, via __NOTRASLATE_6__

4. **Análise de alternativas**: o agente identifica de 2 a 5 alternativas com prós/contras (a partir de pesquisa ou opinião do usuário)

5. **Elaboração de ADR**: o agente cria ADR com:
   - Número sequencial de 4 dígitos (0001, 0002, etc.)
   - Título em forma imperativa ("Usar PostgreSQL para persistência de dados")
   - Contexto explicando por que a decisão é necessária agora
   - Declaração de decisão (o que foi escolhido)
   - Alternativas com prós/contras
   - Consequências (positivas, negativas, neutras)
   - Status (proposto, aceito, obsoleto, substituído)
   - Referências com links para notas de pesquisa e documentos oficiais

6. **Visualização e aprovação**: o agente mostra a visualização para aprovação SIM/NÃO

7. **Criação**: Agente cria `docs/03-decisions/adr-<NUMBER>-<slug>.md`

8. **Indexação**: Agente atualiza docs/03-decisions/README.md com nova entrada

## Exemplo

```bash
# Via /babysit
/agileflow:babysit
> "We need to document why we chose PostgreSQL over MongoDB for our database"
```

O Agente Redator de ADR iria:
1. Verifique docs/10-research/ para pesquisas de banco de dados existentes
2. Se estiver faltando, solicite: "Deixe-me pesquisar primeiro as opções do banco de dados"
3.Goutras pesquisas sobre PostgreSQL, MongoDB, outras opções
4. Entreviste você sobre o contexto (por que agora? restrições? experiência da equipe?)
5. Rascunho ADR-0003: Use PostgreSQL para persistência de dados
6. Mostre uma visualização com todas as alternativas e compensações
7. Obtenha aprovação (SIM/NÃO)
8. Crie adr-0003-use-postgresql.md
9. Atualize docs/03-decisions/README.md
10. Anuncie: "ADR-0003 criado e pronto para revisão da equipe"

## Principais comportamentos

- **Pesquise primeiro**: sempre verifica pesquisas existentes antes de escrever uma ADR (ou solicitá-la)
- **Contexto sobre implementação**: concentra-se no motivo pelo qual a decisão foi tomada, não nos detalhes da implementação
- **Registro histórico**: nunca exclui ADRs (mantidos para contexto histórico e reconhecimento de padrões)
- **Alternativas claras**: documenta pelo menos 2 alternativas com prós/contras honestos (sem defesa)
- **Numeração Sequencial**: ADRs numeradas sequencialmente (0001, 0002, 0003, etc.)
- **Rastreamento de status**: atualiza o status de ADR conforme as decisões evoluem (Proposto → Aceito → Substituído)
- **Linking**: Conecta relacionadoADRs para construir gráfico de decisão ao longo do tempo

## Ferramentas disponíveis

Este agente tem acesso a:
- **Leia**: navegue pelas ADRs e entenda o histórico de decisões
- **Escrever**: Crie novos arquivos ADR
- **Editar**: Atualizar ADRs existentes (alterar status, adicionar referências)
- **Glob**: Encontre ADRs por padrão
- **Grep**: conteúdo de decisão de pesquisa

## Modelo ADR

Cada ADR segue esta estrutura:

```markdown
# ADR-<NUMBER>: <Title>

**Date**: YYYY-MM-DD
**Status**: Proposed | Accepted | Deprecated | Superseded
**Deciders**: [Names/roles who made decision]

## Context
[Describe forces at play: technical, business, team, timeline]
[What problem are we solving? What constraints exist?]

## Decision
[State the decision clearly in 1-3 sentences]
[Explain key reasons for this choice]

## Alternatives Considered

### Option 1: [Name]
**Pros**:
- [Benefit]
- [Benefit]

**Cons**:
- [Cost or limitation]
- [Cost or limitation]

**Why rejected**: [Explanation]

### Option 2: [Name]
...

## Consequences

### Positive
- [Benefit we expect]
- [Advantage]

### Negative
- [Cost or limitation]
- [Trade-off]

### Neutral
- [Change that's neither good nor bad]

## References
- [Title](URL) - Description
- [Research Note](docs/10-research/YYYYMMDD-slug.md) - How research informed decision
```

## Ciclo de vida do status de ADR

- **Proposta**: Em análise, ainda não aprovada (fase de discussão)
- **Aceito**: Aprovado e deve ser seguido pela equipe
- **Obsoleto**: Não é mais recomendado (mas mantido para histórico)
- **Substituído**: Substituído por ADR mais recente (link para substituição, por exemplo, "Substitui ADR-0001")

## Lista de verificação de qualidade

Antes de criar o ADR:
- O contexto explica claramente por que a decisão é necessária AGORA
- Pelo menos 2 alternativas documentadas com prós/contras
- A declaração de decisão é clara e específica
- As consequências são equilibradas (positivas, negativas, neutras)
- Referências incluídas para as principais reivindicações
- Status apropriado (Proposeditado para revisão, aceito para finalizado)
- O número é sequencial (verifique o último número ADR)
- A pesquisa é citada se disponível

## Formato de índice ADR

docs/03-decisions/README.md mantém uma tabela de todos os ADRs (com os mais recentes primeiro):

```markdown
| Number | Date       | Title                              | Status   |
|--------|------------|-----------------------------------|----------|
| 0005   | 2025-12-24 | Use PostgreSQL for data persistence | Accepted |
| 0004   | 2025-12-21 | Implement event-driven architecture | Accepted |
| 0003   | 2025-12-18 | Use TypeScript for all new code    | Accepted |
| 0002   | 2025-12-15 | REST API over GraphQL              | Accepted |
| 0001   | 2025-12-12 | Next.js for web framework          | Accepted |
```

## Categorias de decisão

As ADRs normalmente se enquadram nestas categorias:

**Decisões tecnológicas**
- Qual estrutura usar
- Qual banco de dados escolher
- Qual linguagem de programação para novos serviços
- Qual biblioteca para funcionalidades específicas

**Decisões de arquitetura**
- Monólito vs microsserviços
- Comunicação síncrona vs assíncrona
- Orientado a eventos versus solicitação-resposta
- Estilo de API REST vs GraphQL

**Decisões de design de dados**
- Nível de normalização do esquema
- Estratégia de cache
- Políticas de retenção de dados
- Replicação mestre-escravo vs ponto a ponto

**Segurança e infraestrutura**
- Mecanismo de autenticação (JWT, OAuth2, baseado em sessão)
- Criptografia em repouso e em trânsito
- Abordagem de gerenciamento de segredos
- Plataforma de implantação e hospedagem

**Práticas de Desenvolvimento**
-Testratégia de avaliação (unidade, integração, cobertura E2E)
- Modelo de ramificação Git (git-flow, baseado em tronco, etc.)
- Processo de revisão de código
- Nível de automação CI/CD

## Atualização e vinculação de ADRs

**Marcando como obsoleto**:
__NOTRADUZIR_3__

**Marcando como substituído**:
__NÃOTRADUZIR_4__

**Referência cruzada**:
__NOTRADUZIR_5__

## Integração de Pesquisa

O Agente Gravador de ADR sempre:
1. Verifica docs/10-research/ para pesquisas existentes sobre o tema
2. Se faltar pesquisa, solicite: `/agileflow:research:ask TOPIC=<decision>`
3. Incorpora resultados de pesquisas na seção Alternativas
4. Nota de pesquisa de referências na seção "Referências" do ADR
5. Vincula o ADR à nota de pesquisa para referência futura

Isso garante:
- As decisões são baseadas em análises minuciosas
- Os resultados da pesquisa são preservados
- Outros agentes podem encontrar evidências de apoio para decisões
- Consistência em toda a documentação de decisão

## Prevenindo o novo debate

As ADRs evitam que as equipes voltem a debater as mesmas decisões:
- **Capturando Contexto**: Registrando o que era conhecido quando a decisão foi tomadafeito
- **Restrições de documentação**: por que certas opções eram impossíveis
- **Compensações de gravação**: o que foi abandonado para obter outros benefícios
- **Link para pesquisa**: apontando para análises técnicas que informaram a escolha
- **Manutenção do histórico**: mostrando como as decisões evoluíram ao longo do tempo

Quando surge uma questão de decisão semelhante:
1. Verifique docs/03-decisions/ para ADRs relacionadas
2. Revise o contexto e as consequências
3. Decida se a situação mudou (substitua se sim, consulte a existente se não)

## Agentes Relacionados

- [`research`](/agents/research) - Fornece análise técnica antes da criação do ADR
- [__NOTRASLATE_10____NOTRASLATE_15__ - Faz referência a ADRs em documentos arquitetônicos
- [__NOTRASLATE_11____NOTRASLATE_16__ - Planeja recursos em torno de decisões estabelecidas
- [__NOTRASLATE_12____NOTRASLATE_17__ - Explica as decisões aos novos membros da equipe
- [__NOTRASLATE_13____NOTRASLATE_18__ - Pode solicitar a criação de ADR para escolhas técnicas

## Padrões Comuns

**ADRs permitem transferência de conhecimento**
- Nova equipe eumembros entendem o raciocínio passado
- Impede a reimplementação de abordagens que falharam
- Acelera a integração (leia ADRs versus tentativa e erro)

**Gráfico de decisão ao longo do tempo**
- As decisões baseiam-se umas nas outras (ADR-0002 baseia-se no ADR-0001)
- Algumas decisões substituem outras (ADR-0003 substitui ADR-0001)
- Formar uma rede conectada de compreensão

**Decisões baseadas em evidências**
- Cada ADR respaldado por notas de pesquisa
- Cita documentação oficial, não opiniões
- Inclui benchmarks e análises de trade-off
- Permite uma tomada de decisão confiante