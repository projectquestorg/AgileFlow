---
title: واجهة المستخدم
description: متخصص في طبقة واجهة المستخدم/العرض التقديمي لتنفيذ مكونات الواجهة الأمامية والتصميم وإمكانية الوصول وتجربة المستخدم.
---
# وكيل واجهة المستخدم

وكيل واجهة المستخدم (AG-UI) هو متخصص الواجهة الأمامية لديك. وهو يطبق المكونات سريعة الاستجابة، وأنظمة التصميم، ورموز التصميم، وميزات إمكانية الوصول (WCAG 2.1 AA)، ويطبق مبادئ علم نفس تجربة المستخدم لإنشاء واجهات جميلة وقابلة للاستخدام.

## القدرات

- إنشاء مكونات سريعة الاستجابة (320 بكسل إلى 1920 بكسل +)
- تنفيذ أنظمة التصميم بالرموز (الألوان، المسافات، الطباعة)
- التأكد من إمكانية الوصول إلى WCAG 2.1 AA (التنقل عبر لوحة المفاتيح، وقارئات الشاشة، والتباين)
- تطبيق قوانين تجربة المستخدم (Jakob's، Hick's، Fitts's، Gestalt، Von Restorff، Peak-End، Doherty)
- كتابة اختبارات المكونات (الوحدة، التكامل، إمكانية الوصول باستخدام محور الفأس)
- البناء باستخدام التصميم المحمول أولاً
- التكامل مع نقاط نهاية API
- إنشاء السمات ودعم الوضع المظلم
- الحفاظ على اتساق التصميم عبر التطبيق
- كتابة نسخة مصغرة ونص المساعدة

## متى يستخدم

استخدم وكيل واجهة المستخدم عندما:

- أنت بحاجة إلى تنفيذ مكون أو ميزة جديدة
- أنت بحاجة إلى إنشاء نظام تصميم أو رموز تصميمية
- تريد تحسين إمكانية الوصولy (التنقل عبر لوحة المفاتيح، قارئات الشاشة)
- أنت بحاجة إلى جعل واجهة المستخدم سريعة الاستجابة عبر نقاط التوقف
- تريد تطبيق أفضل ممارسات تجربة المستخدم والمبادئ النفسية
- أنت بحاجة إلى دمج المكونات مع نقاط نهاية API
- أنت بحاجة إلى كتابة اختبارات المكونات الشاملة
- تريد تحسين الأداء المتصور وتعليقات المستخدمين

## كيف يعمل

1. **تحميل السياق**: يقرأ الوكيل الخبرة وCLAUDE.md ومستندات نظام التصميم
2. **التحقق من نظام التصميم**: يتحقق الوكيل من وجود نظام التصميم (القصة الأولى فقط)
3. **التحقق من الحالة**: يعثر الوكيل على قصص جاهزة ويتحقق من أدوات حظر واجهة برمجة التطبيقات
4. **تعريف الجاهزية**: يقوم الوكيل بالتحقق من صحة معايير القبول وقواعد الاختبار
5. **وضع الخطة**: بالنسبة للميزات المعقدة، يقوم الوكيل بتصميم هيكل المكونات
6. **التنفيذ**: يقوم الوكيل ببناء المكونات باستخدام رموز التصميم
7. **إمكانية الوصول**: يضمن الوكيل دعم التنقل في لوحة المفاتيح وقارئ الشاشة
8. **قوانين تجربة المستخدم**: يطبق الوكيل المبادئ النفسية من أبحاث تجربة المستخدم
9. **الاختبار**: يكتب الوكيل الوحدة والتكامل وأاختبارات إمكانية الوصول
10. **التحقق**: يجري الوكيل اختبارات للتأكد من اجتياز خط الأساس

## مثال

__لا تترجم_0__

سيقوم وكيل واجهة المستخدم بما يلي:
1. التحقق من نظام التصميم (قم بإنشائه إذا كان مفقودًا)
2. ابحث عن تبعية واجهة برمجة التطبيقات (GET /api/users/:id)
3. مكونات التصميم:
   - بطاقة الملف الشخصي (يعرض معلومات المستخدم)
   - نموذج الملف الشخصي (تحرير معلومات المستخدم)
   - AvatarUpload (تغيير الصورة الرمزية)
4. التنفيذ باستخدام رموز التصميم:
   - الألوان من نظام التصميم (بدون #ألوان مضمنة)
   - التباعد من مقياس الرمز المميز (بدون ترميز 16 بكسل)
   - الطباعة من نظام التصميم
5. ضمان إمكانية الوصول:
   - التنقل عبر لوحة المفاتيح (انتقل عبر حقول النموذج)
   - قارئ الشاشة (تسميات النماذج المرتبطة)
   - تباين الألوان (4.5:1 للنص)
6. تطبيق قوانين تجربة المستخدم:
   - جاكوب: تخطيط النموذج المألوف
   - الملاءمة: أهداف لمس كبيرة (44 بكسل +)
   - نهاية الذروة: الرسوم المتحركة الناجحة عند الحفظ
7. كتابة الاختبارات (الوحدة + التكامل + إمكانية الوصول)
8. ضع علامة في المراجعة عند اجتياز الاختبارات

أو تفرخ مباشرة:

__لا تترجم_1__

## السلوكيات الرئيسية

- **تحميل الخبرة أولاً**: يقرأ expertise.yaml قبل أي عمل
- **نظام التصميم الاستباقي**: يتم التحقق من نظام التصميم في القصة الأولى، ويتم إنشاؤه إذا كان مفقودًا
- **إعادة تصنيع الرموز المميزة**: عروض لترحيل الأنماط المشفرة إلى نظام التصميم
- **Mobile-First**: الأنماط الأساسية للجوال (320 بكسل)، ثم تضيف نقاط توقف لأعلى
- **إمكانية الوصول الافتراضية**: يتضمن كل مكون دعم التنقل في لوحة المفاتيح وقارئ الشاشة
- **قوانين تجربة المستخدم المطبقة**: تستخدم المبادئ النفسية (القرب، والتباين، والقدرة على التحمل)
- **استخدام الرمز المميز**: تستخدم جميع الأنماط الرموز المميزة للتصميم، وليس القيم المضمنة مطلقًا
- **تكامل أدوات الجلسة**: التحقق من حالة الاختبار قبل البدء، ويتطلب اجتياز الاختبارات
- **الأوامر الذاتية**: تستدعي مباشرةً /agileflow:impact-analyse، و/agileflow:adr-new، وما إلى ذلك.
- **تنسيق الناقل**: يرسل رسالة محظورة إلى AG-API في حالة فقدان نقطة النهاية
- **تحديثات الملف التمهيدي**: يقوم بتحديث الوثائق بشكل استباقي بعد إجراء تغييرات مهمة
- **الحفاظ على السياق**: يستخدم السياق المضغوط (الأولوية: عالية) للحفاظ على التركيز أثناء المحادثات الطويلة، والحفاظ عليهاكتشاف نظام التصميم g وتتبع تبعية واجهة برمجة التطبيقات (API) من خلال ضغط السياق

## تكوين السياق المضغوط

يستخدم وكيل واجهة المستخدم ** ذات أولوية عالية ** Compact_context لضمان بقاء تبعيات نظام التصميم وواجهة برمجة التطبيقات (API) موضع التركيز:

__لا تترجم_2__

وهذا يضمن استمرار القواعد المهمة لواجهة المستخدم (الكشف عن نظام التصميم، ومعايير إمكانية الوصول، والتحقق من مانع واجهة برمجة التطبيقات) والحالة الحالية (أي رموز التصميم الموجودة، وما هي نقاط نهاية واجهة برمجة التطبيقات المطلوبة) من خلال ضغط السياق.

## الأدوات المتاحة

هذا الوكيل لديه حق الوصول إلى: القراءة، الكتابة، التحرير، Bash، Glob، Grep

## رموز نظام التصميم

يتضمن النظام المصمم جيدًا ما يلي:

__لا تترجم_3__

## قائمة التحقق من إمكانية الوصول

الحد الأدنى WCAG 2.1 AA لجميع المكونات:

** التنقل عبر لوحة المفاتيح **:
- ترتيب علامات التبويب منطقي ومرئي
- جميع العناصر التفاعلية يمكن الوصول إليها عبر علامة التبويب
- زر الإدخال/المسافة ينشط الأزرار
- الهروب يغلق الوسائط
- مفاتيح الأسهم للتنقل في القوائم

**قارئات الشاشة**:
- HTML الدلالي (`<button>`، `<nav>`، `<main>`، `<article>`)- نص بديل للصور (وصفي وليس زخرفي)
- تسمية aria للأزرار المخصصة للأيقونات فقط
- aria-live للتحديثات الديناميكية
- تسميات النماذج المرتبطة (ل= السمة)

**اللون والتباين**:
- تباين النص: 4.5:1 كحد أدنى
- تباين مكونات واجهة المستخدم: 3:1 كحد أدنى
- لا تعتمد على اللون وحده (خطأ = أحمر + أيقونة + نص)
- اختبار مع محاكاة عمى الألوان

## قوانين ومبادئ تجربة المستخدم

**قانون جاكوب**: يتوقع المستخدمون أنماطًا مألوفة
- استخدم التنقل القياسي (الشعار أعلى اليسار، ابحث في أعلى اليمين)
- تخطيطات النموذج والتفاعلات المألوفة
- لا تبتكر على مستوى التفاعل الجزئي

**قانون هيك**: المزيد من الخيارات = قرارات أبطأ
- تصغير الخيارات على الشاشات الهامة
- تقسيم المهام المعقدة إلى خطوات
- استخدم المرشحات / ابحث عن قوائم كبيرة

**قانون فيتس**: المسافة + الحجم يؤثران على الوقت المستهدف
- اللمس يستهدف الحد الأدنى 44 × 44 بكسل (الجوال)، 40 × 40 بكسل (سطح المكتب)
- مسافة كافية بين العناصر القابلة للنقر
- إجراءات مهمة في متناول اليد على الهاتف المحمول

**مبادئ الجشطالت**: يقوم البشر بتجميع العناصر المرئية
- القرب : المجموعةالعناصر المرتبطة قريبة من بعضها البعض
- التشابه: نفس اللون/الشكل/الحجم = نفس الفئة
- المنطقة المشتركة: يتم تجميع العناصر الموجودة في الحدود
- الحمل: استخدم أبسط شكل مرئي

**تأثير Von Restorff**: تبرز العناصر المميزة
- تبرز عبارة CTA أساسية واحدة لكل شاشة
- الباقي على طراز ثانوي / ثالثي
- نمط Netflix: الأزرار الحمراء للإجراءات الأساسية فقط

**قاعدة نهاية الذروة**: يتذكر المستخدمون القمم والنهايات
- خلق لحظات لا تنسى في حالات النجاح
- اجعل النهايات مبهجة (احتفل بالانتصارات)
- Instagram: الرسوم المتحركة للقلب هي ردود فعل فورية

**Doherty Threshold**: استجابة أقل من 400 مللي ثانية تبدو مسببة للإدمان
- تقديم تعليقات مرئية فورية (أقل من 400 مللي ثانية)
- استخدم واجهة المستخدم المتفائلة (إظهار النتيجة قبل تأكيد الخادم)
- شاشات الهيكل العظمي أثناء التحميل
- لا تجعل المستخدمين ينتظرون أبدًا بدون تعليقات

**قانون تيسلر**: لا يمكن التخلص من التعقيد، بل يمكن تحريكه فقط
- استيعاب التعقيد في النظام، وليس المستخدم
- تعبئة الحقول تلقائيًا من السياق
- الافتراضات الذكية تقلل من القرارات
- أقترح على أساس التاريخ

## اختبار ستاناردز

يحتاج كل مكون إلى اختبارات شاملة:

__لا تترجم_4__

## النهج الأول للهاتف المحمول

**الأنماط الأساسية** (الجوال - 320 بكسل):

__لا تترجم_5__

**نقطة توقف الجهاز اللوحي** (768 بكسل+):

__لا تترجم_6__

**نقطة توقف سطح المكتب** (1024 بكسل+):

__لا تترجم_7__

## نقاط التوقف المستجيبة

- **الجوال**: 320 بكسل إلى 639 بكسل (الأنماط الأساسية)
- **الكمبيوتر اللوحي**: من 640 بكسل إلى 1023 بكسل (@العرض الأدنى للوسائط: 640 بكسل)
- **سطح المكتب**: 1024 بكسل إلى 1279 بكسل (@العرض الأدنى للوسائط: 1024 بكسل)
- **سطح مكتب كبير**: 1280 بكسل+ (@العرض الأدنى للوسائط: 1280 بكسل)

## الملفات الرئيسية

- **الخبرة**: `packages/cli/src/core/experts/ui/expertise.yaml` (ذاكرة الوكيل)
- **سير العمل**: `packages/cli/src/core/experts/ui/workflow.md` (الخطة → البناء → التحسين الذاتي)
- **الحالة**: `docs/09-agents/status.json` (تتبع القصة)
- **الحافلة**: `docs/09-agents/bus/log.jsonl` (رسائل التنسيق)
- **رموز التصميم**: `src/theme/tokens.ts` أو `src/styles/design-tokens.css`
- **المكونات**: `src/components/` (ملفات المكونات)
- **الاختبارات**: `src/components/*.test.tsx` (ملفات الاختبار)
- **CLAUDE.md**: أسلوب التصميم، وأنماط المكونات، ومعايير الاختبار

## خطوات سير العمل

1. **تحميل السابقpertise**: اقرأ Expert.yaml
2. **التحقق من نظام التصميم**: القصة الأولى فقط - قم بإنشائها إذا كانت مفقودة
3. **التحقق من الحالة**: ابحث عن القصص الجاهزة حيث المالك==AG-UI
4. **تحقق من تبعيات واجهة برمجة التطبيقات**: ابحث عن أدوات حظر AG-API
5. **التحقق من صحة تعريف الجاهزية**: التيار المتردد موجود، كعب اختبار في docs/07-testing/test-cases/
6. **التحقق من أدوات الجلسة**: تحقق من اجتياز test_status==قبل البدء
7. **إنشاء فرع**: `feature/<US_ID>-<slug>`
8. **حالة التحديث**: ضع علامة "قيد التقدم"، وألحق رسالة الناقل
9. **التنفيذ**: المكونات التي تستخدم رموز التصميم (الفرق أولاً، نعم/لا)
10. **إمكانية الوصول**: تأكد من دعم التنقل في لوحة المفاتيح وقارئ الشاشة
11. **قوانين تجربة المستخدم**: تطبيق المبادئ النفسية
12. **اختبارات الكتابة**: الوحدة + التكامل + إمكانية الوصول
13. **تشغيل التحقق**: /agileflow:تحقق لضمان اجتياز الاختبارات
14. **تحديث CLAUDE.md**: في حالة إنشاء أنماط جديدة لواجهة المستخدم
15. **تحديث الملف التمهيدي**: توثيق المكونات أو الأنماط الجديدة بشكل استباقي
16. **وضع علامة قيد المراجعة**: فقط في حالة اجتياز اختبار test_status==
17. ** إنشاء علاقات عامة **: استخدم /agileflow:قالب العلاقات العامة
18. **التحسين الذاتي**: قم بتشغيل self-improve.md بعد الانتهاء

## قائمة التحقق من الجودة

قبل وضع علامة في المراجعة:

**الوظيفة**:
- [ ] استجابة عبر نقاط التوقف (320 بكسل إلى 1920 بكسل +)
- [ ] جميع العناصر التفاعلية لها حالات تمرير/تركيز/نشطة
- [ ] يتم العرض بشكل صحيح في جميع الحالات (جاري التحميل، خطأ، فارغ، نجاح)
- [ ] لا توجد أخطاء أو تحذيرات في وحدة التحكم

**إمكانية الوصول**:
- [ ] التنقل عبر لوحة المفاتيح يعمل بكامل طاقته (Tab، Enter، Escape، Arrows)
- [ ] دعم قارئ الشاشة (HTML الدلالي، تسميات الأغنية)
- [ ] تباين الألوان 4.5:1 (النص)، 3:1 (واجهة المستخدم)
- [ ] مؤشرات التركيز مرئية بوضوح

**التصميم**:
- [ ] يستخدم رموز التصميم (بدون ألوان أو مسافات أو خطوط مضمنة)
- [ ] التسلسل الهرمي للطباعة واضح
- [ ] تباعد متناسق (شبكة 8 بكسل)
- [ ] النهج المحمول أولاً

**تجربة المستخدم**:
- [ ] قانون جاكوب: الأنماط المألوفة
- [ ] قانون فيتس: 44 بكسل+ أهداف لمس، مسافات كافية
- [ ] قانون هيك: الحد الأدنى من الاختيارات
- [ ] Von Restorff: تبرز عبارة CTA أساسية واحدة
- [ ] قاعدة نهاية الذروة: لحظات نجاح لا تُنسى**الاختبار**:
- [ ] اختبارات الوحدة لمنطق المكونات
- [ ] اختبارات التكامل لتدفقات المستخدم
- [ ] اختبارات إمكانية الوصول (الفأس الأساسية، الفأس الدعابة)
- [ ] تغطي الاختبارات المسار السعيد + حالات الحافة + حالات الخطأ

## التنسيق مع الوكلاء الآخرين

**AG-API (الواجهة الخلفية)**:
- تحقق من Status.json لمعرفة حالة نقطة نهاية واجهة برمجة التطبيقات
- وضع علامة محظورة إذا كانت نقطة النهاية غير جاهزة
- أرسل رسالة إلغاء الحظر إلى AG-API إذا كنت بحاجة إلى نقطة النهاية
- مثال: `"Blocked: needs GET /api/users/:id endpoint from US-0040"`

**AG-CI (الاختبار)**:
- التنسيق على البنية التحتية للاختبار (الفأس الأساسية، الفأس الدعابة)
- طلب إعداد قاعدة بيانات الاختبار إذا لزم الأمر
- التأكد من اختبارات المكونات في CI

** المرشد (التنسيق) **:
- طلب توضيح بشأن المتطلبات غير الواضحة
- تقرير إذا كانت القصة مفقودة تعريف جاهز

## الوكلاء ذوو الصلة

- [`api`](/agents/api) - نقاط النهاية الخلفية التي تعمل على تشغيل مكونات واجهة المستخدم
- [`database`](/agents/database) - واجهة برمجة التطبيقات الأساسية لطبقة البيانات
- [`mentor`](/agents/mentor) - ينسق عمل واجهة المستخدم كجزء من تنفيذ الميزة