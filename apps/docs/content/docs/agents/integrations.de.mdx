---
title: Integrationen
description: Integrationsspezialist für Drittanbieter-APIs, Webhooks, Zahlungsabwickler, externe Dienste und API-Konnektivität.
---

# Integrationsspezialist

AG-INTEGRATIONS kümmert sich um alle Serviceintegrationen von Drittanbietern, von Zahlungsabwicklern und Authentifizierungsanbietern bis hin zu Webhooks und Datensynchronisierung mit externen APIs.

## Fähigkeiten

- **API Client Implementation**: Stripe, Twilio, SendGrid, AWS, Google und andere Dienste
- **Webhook Handling**: Signaturvalidierung, Idempotenz, Ereignisverarbeitung
- **Authentication Providers**: Auth0, OAuth (Google, GitHub, Facebook), AWS Cognito
- **Payment Processing**: Stripe, Square, PayPal mit Webhook-Handhabung
- **Email Delivery**: SendGrid-, Mailgun- und AWS SES-Integrationen
- **Error Handling & Retry Logic**: Exponential backoff, rate limiting, graceful degradation
- **Health Checks & Monitoring**: Gesundheitsüberwachung für externe Dienste

## Wann zu verwenden

Verwenden Sie AG-INTEGRATIONS, wenn:

- Integration von Drittanbieter-APIs (Stripe, Twilio, SendGrid usw.)
- Authentifizierungsanbieter einrichten (Auth0, Google OAuth)
- Implementierung von Webhook-Empfängern und -Handlern
- Aufbau von Zahlungsabwicklungsabläufen
- Behandeln Sie Ausfälle externer Dienste ordnungsgemäß
- Implementierung einer Wiederholungslogik mit exponentiellem Backoff
- Einrichten der Gesundheitsüberwachung für externe Dienste

## Wie es funktioniert

1. **Context Loading**: Liest die Fachwissensdatei und vorhandene Integrationen
2. **Service Research**: Überprüfen Sie Dokumentation, Preise, Ratenlimits und Authentifizierung
3. **Client Implementation**: Erstellt einen API-Client mit ordnungsgemäßer Authentifizierung
4. **Error Handling**: Implementiert eine umfassende Fehlerbehandlung und Wiederholungslogik
5. **Webhook Setup**: Validiert Signaturen, implementiert Idempotenz
6. **Testing**: Erstellt Integrationstests mit simulierten externen Diensten
7. **Monitoring**: Richtet Gesundheitsprüfungen und Warnungen ein

## Beispiel

```bash
# Via /babysit
/agileflow:babysit
> "I need to add Stripe payments with webhook handling"

# AG-INTEGRATIONS will:
# 1. Research Stripe API and webhook events
# 2. Implement Stripe API client with authentication
# 3. Create webhook receiver with signature validation
# 4. Implement retry logic for failed charges
# 5. Create integration tests (mocked Stripe)
# 6. Document setup and webhook events
```

## Schlüsselverhalten

- **Never Hardcodes Secrets**: Verwendet immer Umgebungsvariablen für API-Schlüssel
- **Validates Webhooks**: Signaturvalidierung ist obligatorisch (verhindert Spoofing)
- **Handles All Errors**: Netzwerk-, Zeitüberschreitungs-, Ratenlimit- und Dienstfehler
- **Implements Retry Logic**: Exponentieller Backoff mit Jitter
- **Secure Logging**: Protokolliert niemals Anmeldeinformationen oder vertrauliche Daten
- **Graceful Degradation**: Bietet Fallback, wenn der externe Dienst nicht verfügbar ist

## Verfügbare Werkzeuge

- Lesen, Schreiben, Bearbeiten, Bash, Glob, Grep
- Zugriff auf Session Harness zur Überprüfung

## Gemeinsame Integrationen

**Payment Processing**:
- Stripe – Zahlungen, Abonnements, Auszahlungen
- Quadratisch – Point-of-Sale
- PayPal – Zahlungen, Abonnements

**Authentication**:
- Auth0 – Unternehmensauthentifizierung
- Google OAuth – Soziales Login
- GitHub OAuth – Entwickleranmeldung

**Email Delivery**:
- SendGrid – Transaktions-E-Mail
- Mailgun – E-Mail-Zustellung
- AWS SES – Kostengünstige E-Mail

**SMS/Messaging**:
- Twilio – SMS, Sprache, Messaging
- AWS SNS – Nachrichtenzustellung
- Firebase Cloud Messaging – Push-Benachrichtigungen

**File Storage**:
- AWS S3 – Cloud-Speicher
- Google Cloud Storage – Cloud-Speicher
- Azure Blob Storage – Cloud-Speicher

## Integrationsmuster

```javascript
// 1. Create client with auth
const client = new StripeClient(process.env.STRIPE_API_KEY);

// 2. Make authenticated request
const payment = await client.payments.create({
  amount: 10000,
  currency: 'usd',
});

// 3. Handle errors
if (payment.error) {
  logger.error('Payment failed', {
    error: payment.error,
    // Never log sensitive data
  });
  // Implement retry or fallback
}
```

## Webhook-Sicherheit

**Critical Requirements**:
- Webhook-Signatur validieren (Spoofing verhindern)
- Sofort mit 200 OK antworten (Empfang bestätigen)
- Asynchron verarbeiten (Antwort nicht blockieren)
- Behandeln Sie Duplikate (Webhooks können wiederholt werden)

## Fehlerbehandlungsstrategie

- Identifizieren Sie wiederholbare Fehler (Netzwerk, Timeout, 5xx)
- Implementieren Sie einen exponentiellen Backoff mit Jitter
- Legen Sie die maximale Anzahl an Wiederholungsversuchen fest
- Protokollieren Sie Fehler und geben Sie bei anhaltenden Fehlern eine Warnung aus
- Implementieren Sie eine elegante Degradierung

## Qualitätscheckliste

Bevor Sie die Integrationsarbeit als abgeschlossen markieren:

- Dienstauthentifizierung funktioniert
- API-Aufrufe getestet und funktionieren
- Alle Fehler werden behandelt (Netzwerk, Timeout, Ratenlimit)
- Wiederholungslogik mit implementiertem exponentiellem Backoff
- Webhooks validiert (Signaturprüfung)
- Webhooks idempotent (verarbeiten Duplikate)
- API-Schlüssel in Umgebungsvariablen (nie fest codiert)
- Bei der Fehlerprotokollierung werden keine Geheimnisse preisgegeben
- Integrationstests decken Happy-Path- und Fehlerszenarien ab
- Dokumentation vollständig (Einrichtung, Authentifizierung, Konfiguration)
- Gesundheitscheck oder Überwachung vorhanden
- Tests bestanden mit test_status: „passing“

## Verwandte Agenten

- [AG-API](/agents/api) - Service-Layer-Integration und Endpunkte
- [AG-SICHERHEIT](/agents/security) - Sichere Verwaltung von Anmeldeinformationen
- [AG-ÜBERWACHUNG](/agents/monitoring) - Gesundheitschecks und Alarmierung

## Koordinationsnachrichten

AG-INTEGRATIONS koordiniert sich mit anderen Teams:

```json
{
  "ts": "2025-10-21T10:00:00Z",
  "from": "AG-INTEGRATIONS",
  "type": "status",
  "story": "US-0040",
  "text": "Stripe integration ready, AG-API can now implement payment endpoint"
}
```

## Slash-Befehle

- `/agileflow:research:ask TOPIC=...` - Best Practices für Recherchedienste
- `/agileflow:ai-code-review` - Überprüfen Sie den Integrationscode auf Sicherheit
- `/agileflow:adr-new` - Auswahlentscheidungen zur Dokumentintegration
- `/agileflow:tech-debt` - Fehlerbehandlung bei fehlenden Dokumenten
- `/agileflow:status STORY=... STATUS=...` - Aktualisieren Sie den Story-Status
