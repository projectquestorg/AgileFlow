---
title: Benutzeroberfläche
description: Spezialist für UI-/Präsentationsebene für die Implementierung von Frontend-Komponenten, Stil, Barrierefreiheit und Benutzererfahrung.
---
# UI-Agent

Der UI-Agent (AG-UI) ist Ihr Frontend-Spezialist. Es implementiert reaktionsfähige Komponenten, Stilsysteme, Design-Tokens und Barrierefreiheitsfunktionen (WCAG 2.1 AA) und wendet Prinzipien der UX-Psychologie an, um Schnittstellen zu erstellen, die sowohl schön als auch benutzerfreundlich sind.

## Fähigkeiten

- Erstellen Sie reaktionsfähige Komponenten (320px bis 1920px+)
- Designsysteme mit Token implementieren (Farben, Abstände, Typografie)
- Stellen Sie die Zugänglichkeit von WCAG 2.1 AA sicher (Tastaturnavigation, Bildschirmleseprogramme, Kontrast).
- UX-Gesetze anwenden (Jakob's, Hick's, Fitts's, Gestalt, Von Restorff, Peak-End, Doherty)
- Komponententests schreiben (Einheit, Integration, Zugänglichkeit mit Axe-Core)
- Erstellen Sie mit Mobile-First-Design
- Integration mit API-Endpunkten
- Erstellen Sie Themes und Unterstützung für den Dunkelmodus
- Bewahren Sie die Designkonsistenz über die gesamte Anwendung hinweg
- Mikrokopie und Hilfetext schreiben

## Wann zu verwenden

Verwenden Sie den UI-Agenten, wenn:

- Sie müssen eine neue Komponente oder Funktion implementieren
- Sie müssen ein Designsystem oder Design-Token erstellen
- Sie möchten die Barrierefreiheit verbesserny (Tastaturnavigation, Bildschirmleseprogramme)
– Sie müssen dafür sorgen, dass die Benutzeroberfläche über alle Haltepunkte hinweg reagiert
- Du möchtest UX Best Practices und psychologische Prinzipien anwenden
- Sie müssen Komponenten mit API-Endpunkten integrieren
- Sie müssen umfassende Komponententests schreiben
- Sie möchten die wahrgenommene Leistung und das Benutzerfeedback verbessern

## Wie es funktioniert

1. **Kontextladen**: Agent liest Fachwissen, CLAUDE.md und Designsystemdokumente
2. **Design-Systemprüfung**: Agent prüft, ob Design-System vorhanden ist (nur erste Geschichte)
3. **Statusprüfung**: Der Agent findet fertige Storys und prüft auf API-Blocker
4. **Definition von „Bereit“**: Der Agent validiert Akzeptanzkriterien und Test-Stubs
5. **Planmodus**: Für komplexe Funktionen entwirft der Agent die Komponentenstruktur
6. **Implementierung**: Agent erstellt Komponenten mithilfe von Design-Tokens
7. **Barrierefreiheit**: Der Agent gewährleistet Tastaturnavigation und Unterstützung für Bildschirmleseprogramme
8. **UX-Gesetze**: Der Agent wendet psychologische Prinzipien aus der UX-Forschung an
9. **Testen**: Agent schreibt Einheit, Integration und aBarrierefreiheitstests
10. **Verifizierung**: Der Agent führt Tests durch, um sicherzustellen, dass die Baseline erfolgreich ist

## Beispiel

```bash
# Via /babysit (recommended)
/agileflow:babysit
> "I need to implement a user profile page"
```

Der UI-Agent wird:
1. Auf Designsystem prüfen (erstellen, falls fehlend)
2. Suchen Sie nach API-Abhängigkeit (GET /api/users/:id)
3. Designkomponenten:
   - ProfileCard (zeigt Benutzerinformationen an)
   - ProfileForm (Benutzerinformationen bearbeiten)
   - AvatarUpload (Avatar ändern)
4. Mit Design-Tokens umsetzen:
   - Farben aus dem Designsystem (keine fest codierten #Farben)
   - Abstand von der Token-Skala (kein fest codiertes 16px)
   - Typografie aus dem Designsystem
5. Barrierefreiheit sicherstellen:
   - Tastaturnavigation (Tab durch Formularfelder)
   - Bildschirmleser (Formularbeschriftungen zugeordnet)
   - Farbkontrast (4,5:1 für Text)
6. UX-Gesetze anwenden:
   - Jakob's: Vertrautes Formularlayout
   - Passend: Große Touch-Ziele (44px+)
   - Peak-End: Erfolgsanimation beim Speichern
7. Tests schreiben (Einheit + Integration + Zugänglichkeit)
8. Markieren Sie „In der Überprüfung“, wenn die Tests erfolgreich sind

Oder direkt spawnen:

```text
Task(
  description: "Implement product card component",
  prompt: "Create reusable card for products with image, price, rating. Mobile-first design.",
  subagent_type: "agileflow-ui"
)
```

## Schlüsselverhalten

- **Fachwissen zuerst laden**: Liest zxpertise.yaml vor jeder Arbeit
- **Proaktives Designsystem**: Überprüft das Designsystem im ersten Stockwerk und erstellt es, wenn es fehlt
- **Refactor to Tokens**: Bietet die Möglichkeit, hartcodierte Stile in das Designsystem zu migrieren
- **Mobile-First**: Basisstile für Mobilgeräte (320 Pixel), dann werden Haltepunkte hinzugefügt
- **Standard-Barrierefreiheit**: Jede Komponente umfasst Tastaturnavigation und Unterstützung für Bildschirmleseprogramme
- **Angewandte UX-Gesetze**: Verwendet psychologische Prinzipien (Nähe, Kontrast, Angebote)
- **Token-Verwendung**: Alle Stile verwenden Design-Tokens, niemals fest codierte Werte
- **Session Harness-Integration**: Überprüft den Teststatus vor dem Start und erfordert das Bestehen von Tests
- **Autonome Befehle**: Ruft /agileflow:impact-analysis, /agileflow:adr-new usw. direkt auf.
- **Buskoordination**: Sendet eine blockierte Nachricht an die AG-API, wenn der Endpunkt fehlt
- **README-Updates**: Aktualisiert die Dokumentation proaktiv nach wesentlichen Änderungen
- **Kontexterhaltung**: Verwendet den kompakten_Kontext (Priorität: hoch), um den Fokus bei langen Gesprächen beizubehalteng-Design-Systemerkennung und API-Abhängigkeitsverfolgung durch Kontextkomprimierung

## Kompakte Kontextkonfiguration

Der UI-Agent verwendet Compact_Context mit **hoher Priorität**, um sicherzustellen, dass Designsystem- und API-Abhängigkeiten im Fokus bleiben:

```yaml
compact_context:
  priority: high
  preserve_rules:
    - "LOAD EXPERTISE FIRST: Always read packages/cli/src/core/experts/ui/expertise.yaml"
    - "CHECK DESIGN SYSTEM FIRST: Detect if design tokens exist; create if missing"
    - "VERIFY SESSION HARNESS: Check environment.json and test_status baseline"
    - "ONLY in-review if tests pass: test_status:passing required"
    - "CHECK FOR API DEPENDENCIES: Search status.json for blocked UI stories"
    - "APPLY UX LAWS: Jakob's, Hick's, Fitts's, Gestalt, Von Restorff, Peak-End, Doherty"
    - "ACCESSIBILITY REQUIRED: WCAG 2.1 AA minimum"
  state_fields:
    - current_story
    - design_system_status
    - api_dependencies
    - test_status_baseline
```

Dadurch wird sichergestellt, dass UI-kritische Regeln (Design-Systemerkennung, Barrierefreiheitsstandards, API-Blocker-Prüfung) und der aktuelle Status (welche Design-Tokens vorhanden sind, welche API-Endpunkte benötigt werden) durch die Kontextkomprimierung erhalten bleiben.

## Werkzeuge verfügbar

Dieser Agent hat Zugriff auf: Lesen, Schreiben, Bearbeiten, Bash, Glob, Grep

## Design-System-Token

Zu einem gut konzipierten System gehören:

```typescript
// Colors
export const colors = {
  primary: '#3b82f6',
  primaryHover: '#2563eb',
  text: '#1f2937',
  textSecondary: '#6b7280',
  background: '#ffffff',
  error: '#ef4444',
  success: '#10b981',
};

// Spacing (8px scale)
export const spacing = {
  xs: '0.25rem',  // 4px
  sm: '0.5rem',   // 8px
  md: '1rem',     // 16px
  lg: '1.5rem',   // 24px
  xl: '2rem',     // 32px
};

// Typography
export const typography = {
  fontFamily: {
    base: 'system-ui, -apple-system, sans-serif',
    mono: '"Courier New", monospace',
  },
  fontSize: {
    xs: '0.75rem',   // 12px
    sm: '0.875rem',  // 14px
    base: '1rem',    // 16px
    lg: '1.125rem',  // 18px
    xl: '1.25rem',   // 20px
  },
};

// Breakpoints
export const breakpoints = {
  sm: '640px',
  md: '768px',
  lg: '1024px',
  xl: '1280px',
};
```

## Checkliste für Barrierefreiheit

WCAG 2.1 AA mindestens für alle Komponenten:

**Tastaturnavigation**:
- Die Tab-Reihenfolge ist logisch und sichtbar
- Alle interaktiven Elemente über Tab erreichbar
- Enter/Leertaste aktiviert Tasten
- Escape schließt Modalitäten
- Pfeiltasten navigieren durch Listen

**Screenreader**:
- Semantisches HTML (`<button>`, `<nav>`, `<main>`, `<article>`)- Alt-Text für Bilder (beschreibend, nicht dekorativ)
- Aria-Label für Nur-Symbol-Schaltflächen
- aria-live für dynamische Updates
- Zugeordnete Formularbeschriftungen (for=-Attribut)

**Farbe & Kontrast**:
- Textkontrast: mindestens 4,5:1
- Kontrast der UI-Komponenten: mindestens 3:1
- Verlassen Sie sich nicht nur auf die Farbe (Fehler = Rot + Symbol + Text)
- Testen Sie mit Farbenblind-Simulatoren

## UX-Gesetze und -Prinzipien

**Jakobs Gesetz**: Benutzer erwarten vertraute Muster
- Standardnavigation verwenden (Logo oben links, Suche oben rechts)
- Vertraute Formularlayouts und Interaktionen
- Führen Sie keine Innovationen auf der Ebene der Mikrointeraktion durch

**Hicks Gesetz**: Mehr Auswahlmöglichkeiten = langsamere Entscheidungen
- Minimieren Sie Optionen auf kritischen Bildschirmen
- Teilen Sie komplexe Aufgaben in Schritte auf
- Verwenden Sie Filter/Suche für große Listen

**Fitts-Gesetz**: Distanz + Größe beeinflussen die Zielzeit
- Touch-Ziele sind mindestens 44×44 Pixel (mobil), 40×40 Pixel (Desktop)
- Angemessener Abstand zwischen anklickbaren Elementen
- Wichtige Aktionen in Reichweite auf dem Handy

**Gestaltsprinzipien**: Menschen gruppieren visuelle Elemente
- Nähe: Gruppeverwandte Elemente dicht beieinander
- Ähnlichkeit: Gleiche Farbe/Form/Größe = gleiche Kategorie
- Gemeinsamer Bereich: Elemente in Rahmen werden gruppiert
- Prägnanz: Verwenden Sie die einfachste visuelle Form

**Von-Restorff-Effekt**: Unverwechselbare Gegenstände fallen auf
- Ein primärer CTA pro Bildschirm fällt auf
- Der Rest ist im sekundären/tertiären Stil
- Netflix-Muster: Rote Tasten nur für primäre Aktionen

**Peak-End-Regel**: Benutzer merken sich Spitzen und Enden
- Schaffen Sie unvergessliche Momente in Erfolgsstadien
- Machen Sie die Enden zu einem Vergnügen (feiern Sie Siege)
- Instagram: Herzanimationen sorgen für sofortiges Feedback

**Doherty-Schwelle**: Die Reaktion unter 400 ms macht süchtig
- Geben Sie sofortiges visuelles Feedback (unter 400 ms)
- Optimistische Benutzeroberfläche verwenden (Ergebnis anzeigen, bevor der Server es bestätigt)
- Skelettbildschirme beim Laden
- Lassen Sie Benutzer niemals ohne Feedback warten

**Teslers Gesetz**: Komplexität kann nicht beseitigt, sondern nur verschoben werden
- Komplexität im System absorbieren, nicht im Benutzer
- Füllen Sie Felder automatisch aus dem Kontext aus
- Intelligente Vorgaben reduzieren Entscheidungen
- Vorschlag basierend auf der Geschichte

## TeststationStandards

Jede Komponente benötigt umfassende Tests:

```typescript
// Unit test (component logic)
test('Button renders with correct label', () => {
  const { getByText } = render(<Button>Click me</Button>);
  expect(getByText('Click me')).toBeInTheDocument();
});

// Integration test (user flow)
test('Form submits with valid data', async () => {
  const { getByLabelText, getByRole } = render(<UserForm />);
  const emailInput = getByLabelText('Email');
  const submitBtn = getByRole('button', { name: /submit/i });

  fireEvent.change(emailInput, { target: { value: 'test@example.com' } });
  fireEvent.click(submitBtn);

  await waitFor(() => {
    expect(mockSubmit).toHaveBeenCalled();
  });
});

// Accessibility test (axe-core)
test('Button meets accessibility standards', async () => {
  const { container } = render(<Button>Click me</Button>);
  const results = await axe(container);
  expect(results).toHaveNoViolations();
});
```

## Mobile-First-Ansatz

**Basisstile** (Mobil – 320 Pixel):

```css
.card {
  padding: var(--spacing-md);
  font-size: var(--font-size-base);
  grid-template-columns: 1fr; /* Single column */
}
```

**Tablet-Haltepunkt** (768px+):

```css
@media (min-width: 768px) {
  .card {
    padding: var(--spacing-lg);
    grid-template-columns: 1fr 1fr; /* 2 columns */
  }
}
```

**Desktop-Haltepunkt** (1024px+):

```css
@media (min-width: 1024px) {
  .card {
    padding: var(--spacing-xl);
    grid-template-columns: repeat(3, 1fr); /* 3 columns */
  }
}
```

## Responsive Haltepunkte

- **Mobil**: 320px bis 639px (Basisstile)
- **Tablet**: 640px bis 1023px (@media min-width: 640px)
- **Desktop**: 1024px bis 1279px (@media min-width: 1024px)
- **Großer Desktop**: 1280px+ (@media min-width: 1280px)

## Schlüsseldateien

- **Expertise**: `packages/cli/src/core/experts/ui/expertise.yaml` (Agentenspeicher)
- **Workflow**: `packages/cli/src/core/experts/ui/workflow.md` (Plan → Erstellen → Selbstverbesserung)
- **Status**: `docs/09-agents/status.json` (Story-Tracking)
- **Bus**: `docs/09-agents/bus/log.jsonl` (Koordinationsnachrichten)
- **Design-Tokens**: `src/theme/tokens.ts` oder `src/styles/design-tokens.css`
- **Komponenten**: `src/components/` (Komponentendateien)
- **Tests**: `src/components/*.test.tsx` (Testdateien)
- **CLAUDE.md**: Styling-Ansatz, Komponentenmuster, Teststandards

## Workflow-Schritte

1. **Ex ladenBitte**: Lesen Sie Expertise.yaml
2. **Designsystem überprüfen**: Nur erste Geschichte – erstellen, falls fehlend
3. **Status prüfen**: Finden Sie BEREIT-Storys mit Eigentümer==AG-UI
4. **API-Abhängigkeiten prüfen**: Suchen Sie nach AG-API-Blockern
5. **Bereitschaftsdefinition validieren**: AC vorhanden, Test-Stub in docs/07-testing/test-cases/
6. **Sitzungsgeschirr prüfen**: Überprüfen Sie, ob test_status==bestanden ist, bevor Sie beginnen
7. **Zweig erstellen**: `feature/<US_ID>-<slug>`
8. **Aktualisierungsstatus**: „In Bearbeitung“ markieren, Busnachricht anhängen
9. **Implementieren**: Komponenten, die Design-Token verwenden (diff-first, JA/NEIN)
10. **Barrierefreiheit**: Stellen Sie sicher, dass Tastaturnavigation und Bildschirmleseunterstützung unterstützt werden
11. **UX-Gesetze**: Wenden Sie psychologische Prinzipien an
12. **Tests schreiben**: Einheit + Integration + Zugänglichkeit
13. **Verifizierung ausführen**: /agileflow:verify, um sicherzustellen, dass die Tests erfolgreich sind
14. **CLAUDE.md aktualisieren**: Wenn neue UI-Muster erstellt wurden
15. **README aktualisieren**: Neue Komponenten oder Muster proaktiv dokumentieren
16. **In-Review markieren**: Nur wenn test_status==bestanden
17. **PR generieren**: Verwenden Sie /agileflow:PR-Vorlage
18. **Selbstverbesserung**: Führen Sie self-improve.md nach Abschluss aus

## Qualitätscheckliste

Vor dem Markieren in der Rezension:

**Funktionalität**:
- [ ] Reagiert über Haltepunkte hinweg (320px bis 1920px+)
- [ ] Alle interaktiven Elemente haben den Status „Hover/Fokus/Aktiv“.
- [ ] Wird in allen Zuständen korrekt gerendert (Laden, Fehler, leer, Erfolg)
- [ ] Keine Konsolenfehler oder Warnungen

**Barrierefreiheit**:
- [ ] Tastaturnavigation voll funktionsfähig (Tab, Eingabetaste, Escape, Pfeile)
- [ ] Screenreader-Unterstützung (semantisches HTML, Aria-Labels)
- [ ] Farbkontrast 4,5:1 (Text), 3:1 (UI)
- [ ] Fokusindikatoren deutlich sichtbar

**Design**:
- [ ] Verwendet Design-Tokens (keine fest codierten Farben, Abstände, Schriftarten)
- [ ] Typografiehierarchie klar
- [ ] Konsistenter Abstand (8-Pixel-Raster)
- [ ] Mobile-First-Ansatz

**UX**:
- [ ] Jakobs Gesetz: Bekannte Muster
- [ ] Fitts'sches Gesetz: 44px+ Touch-Ziele, ausreichender Abstand
- [ ] Hicks Gesetz: Minimale Auswahlmöglichkeiten
- [ ] Von Restorff: Ein primärer CTA sticht heraus
- [ ] Peak-End-Regel: Denkwürdige Erfolgsmomente**Testen**:
- [ ] Unit-Tests für Komponentenlogik
- [ ] Integrationstests für Benutzerflüsse
- [ ] Barrierefreiheitstests (Axe-Core, Jest-Axe)
- [ ] Tests decken Happy Path + Randfälle + Fehlerzustände ab

## Koordination mit anderen Agenten

**AG-API (Backend)**:
– Überprüfen Sie status.json auf den API-Endpunktstatus
- Als blockiert markieren, wenn der Endpunkt nicht bereit ist
- Senden Sie eine Entsperrungsnachricht an die AG-API, wenn Sie einen Endpunkt benötigen
- Beispiel: `"Blocked: needs GET /api/users/:id endpoint from US-0040"`

**AG-CI (Testen)**:
- Koordinierung der Testinfrastruktur (Axe-Core, Jest-Axe)
- Fordern Sie bei Bedarf die Einrichtung einer Testdatenbank an
- Stellen Sie Komponententests im CI sicher

**MENTOR (Orchestrierung)**:
- Bitten Sie um Klärung unklarer Anforderungen
- Melden Sie, wenn die Story-Definition von „Ready“ fehlt

## Verwandte Agenten

– [`api`](/agents/api) – Backend-Endpunkte, die UI-Komponenten betreiben
- [`database`](/agents/database) – zugrundeliegende API der Datenschicht
- [`mentor`](/agents/mentor) – Orchestriert die UI-Arbeit als Teil der Funktionsimplementierung