---
title: Benutzeroberfläche
description: Spezialist für UI-/Präsentationsebene für die Implementierung von Frontend-Komponenten, Stil, Barrierefreiheit und Benutzererfahrung.
---

# UI-Agent

Der UI-Agent (AG-UI) ist Ihr Frontend-Spezialist. Es implementiert reaktionsfähige Komponenten, Stilsysteme, Design-Tokens und Barrierefreiheitsfunktionen (WCAG 2.1 AA) und wendet Prinzipien der UX-Psychologie an, um Schnittstellen zu erstellen, die sowohl schön als auch benutzerfreundlich sind.

## Fähigkeiten

- Erstellen Sie reaktionsfähige Komponenten (320px bis 1920px+)
- Designsysteme mit Token implementieren (Farben, Abstände, Typografie)
- Stellen Sie die Zugänglichkeit von WCAG 2.1 AA sicher (Tastaturnavigation, Bildschirmleseprogramme, Kontrast).
- Wenden Sie UX-Gesetze an (Jakob's, Hick's, Fitts's, Gestalt, Von Restorff, Peak-End, Doherty)
- Komponententests schreiben (Einheit, Integration, Zugänglichkeit mit Axe-Core)
- Erstellen Sie mit Mobile-First-Design
- Integrieren Sie mit API-Endpunkten
- Erstellen Sie Themen und Unterstützung für den Dunkelmodus
- Behalten Sie die Designkonsistenz über die gesamte Anwendung hinweg bei
- Verfassen Sie Mikrokopien und Hilfetexte

## Wann zu verwenden

Verwenden Sie den UI-Agenten, wenn:

- Sie müssen eine neue Komponente oder Funktion implementieren
- Sie müssen ein Designsystem oder Design-Token erstellen
- Sie möchten die Barrierefreiheit verbessern (Tastaturnavigation, Bildschirmleseprogramme)
- Sie müssen dafür sorgen, dass die Benutzeroberfläche über alle Haltepunkte hinweg reagiert
- Sie möchten UX-Best Practices und psychologische Prinzipien anwenden
- Sie müssen Komponenten mit API-Endpunkten integrieren
- Sie müssen umfassende Komponententests schreiben
- Sie möchten die wahrgenommene Leistung und das Benutzerfeedback verbessern

## Wie es funktioniert

1. **Context Loading**: Agent liest Fachwissen, CLAUDE.md und Designsystemdokumente
2. **Design System Check**: Agent prüft, ob Designsystem vorhanden ist (nur erste Story)
3. **Status Check**: Agent findet fertige Storys und prüft auf API-Blocker
4. **Definition of Ready**: Agent validiert Akzeptanzkriterien und Test-Stubs
5. **Plan Mode**: Für komplexe Funktionen entwirft der Agent die Komponentenstruktur
6. **Implementation**: Agent erstellt Komponenten mithilfe von Design-Tokens
7. **Accessibility**: Der Agent stellt die Tastaturnavigation und die Unterstützung von Bildschirmleseprogrammen sicher
8. **UX Laws**: Agent wendet psychologische Prinzipien aus der UX-Forschung an
9. **Testing**: Der Agent schreibt Unit-, Integrations- und Barrierefreiheitstests
10. **Verification**: Der Agent führt Tests aus, um sicherzustellen, dass die Baseline erfolgreich ist

## Beispiel

```bash
# Via /babysit (recommended)
/agileflow:babysit
> "I need to implement a user profile page"
```

Der UI-Agent wird:
1. Auf Designsystem prüfen (bei Fehlen erstellen)
2. Suchen Sie nach API-Abhängigkeit (GET /api/users/:id)
3. Designkomponenten:
   - ProfileCard (zeigt Benutzerinformationen an)
   - ProfileForm (Benutzerinformationen bearbeiten)
   - AvatarUpload (Avatar ändern)
4. Implementieren Sie mit Design-Tokens:
   - Farben aus dem Designsystem (keine fest codierten #Farben)
   - Abstand von der Token-Skala (kein fest codiertes 16px)
   - Typografie aus dem Designsystem
5. Barrierefreiheit sicherstellen:
   - Tastaturnavigation (Tab durch Formularfelder)
   - Bildschirmleseprogramm (zugeordnete Formularbezeichnungen)
   - Farbkontrast (4,5:1 für Text)
6. Wenden Sie UX-Gesetze an:
   - Jakobs: Vertrautes Formularlayout
   - Passend: Große Touch-Ziele (44px+)
   - Peak-End: Erfolgsanimation beim Speichern
7. Tests schreiben (Einheit + Integration + Barrierefreiheit)
8. Wenn die Tests erfolgreich sind, markieren Sie sie als „Zur Überprüfung“.

Oder direkt spawnen:

```text
Task(
  description: "Implement product card component",
  prompt: "Create reusable card for products with image, price, rating. Mobile-first design.",
  subagent_type: "agileflow-ui"
)
```

## Schlüsselverhalten

- **Load Expertise First**: Liest Expertise.yaml vor jeder Arbeit
- **Design System Proactive**: Überprüft das Designsystem im ersten Stockwerk und erstellt es, wenn es fehlt
- **Refactor to Tokens**: Bietet die Möglichkeit, fest codierte Stile in das Designsystem zu migrieren
- **Mobile-First**: Basisstile für Mobilgeräte (320 Pixel), dann werden Haltepunkte hinzugefügt
- **Accessibility Default**: Jede Komponente umfasst Tastaturnavigation und Bildschirmleseunterstützung
- **UX Laws Applied**: Verwendet psychologische Prinzipien (Nähe, Kontrast, Angebote)
- **Token Usage**: Alle Stile verwenden Design-Tokens, niemals fest codierte Werte
- **Session Harness Integration**: Überprüft den Teststatus vor dem Start, erfordert das Bestehen der Tests
- **Autonomous Commands**: Ruft /agileflow:impact-analysis, /agileflow:adr-new usw. direkt auf.
- **Bus Coordination**: Sendet eine blockierte Nachricht an die AG-API, wenn der Endpunkt fehlt
- **README Updates**: Aktualisiert die Dokumentation proaktiv nach wesentlichen Änderungen
- **Context Preservation**: Verwendet „compact_context“ (Priorität: hoch), um den Fokus bei langen Gesprächen aufrechtzuerhalten und die Designsystemerkennung und API-Abhängigkeitsverfolgung durch Kontextkomprimierung beizubehalten

## Kompakte Kontextkonfiguration

Der UI-Agent verwendet **high priority** compact_context, um sicherzustellen, dass Designsystem- und API-Abhängigkeiten im Fokus bleiben:

```yaml
compact_context:
  priority: high
  preserve_rules:
    - "LOAD EXPERTISE FIRST: Always read packages/cli/src/core/experts/ui/expertise.yaml"
    - "CHECK DESIGN SYSTEM FIRST: Detect if design tokens exist; create if missing"
    - "VERIFY SESSION HARNESS: Check environment.json and test_status baseline"
    - "ONLY in-review if tests pass: test_status:passing required"
    - "CHECK FOR API DEPENDENCIES: Search status.json for blocked UI stories"
    - "APPLY UX LAWS: Jakob's, Hick's, Fitts's, Gestalt, Von Restorff, Peak-End, Doherty"
    - "ACCESSIBILITY REQUIRED: WCAG 2.1 AA minimum"
  state_fields:
    - current_story
    - design_system_status
    - api_dependencies
    - test_status_baseline
```

Dadurch wird sichergestellt, dass UI-kritische Regeln (Design-Systemerkennung, Barrierefreiheitsstandards, API-Blocker-Prüfung) und der aktuelle Status (welche Design-Tokens vorhanden sind, welche API-Endpunkte benötigt werden) durch die Kontextkomprimierung erhalten bleiben.

## Verfügbare Werkzeuge

Dieser Agent hat Zugriff auf: Lesen, Schreiben, Bearbeiten, Bash, Glob, Grep

## Design-System-Token

Zu einem gut konzipierten System gehören:

```typescript
// Colors
export const colors = {
  primary: '#3b82f6',
  primaryHover: '#2563eb',
  text: '#1f2937',
  textSecondary: '#6b7280',
  background: '#ffffff',
  error: '#ef4444',
  success: '#10b981',
};

// Spacing (8px scale)
export const spacing = {
  xs: '0.25rem',  // 4px
  sm: '0.5rem',   // 8px
  md: '1rem',     // 16px
  lg: '1.5rem',   // 24px
  xl: '2rem',     // 32px
};

// Typography
export const typography = {
  fontFamily: {
    base: 'system-ui, -apple-system, sans-serif',
    mono: '"Courier New", monospace',
  },
  fontSize: {
    xs: '0.75rem',   // 12px
    sm: '0.875rem',  // 14px
    base: '1rem',    // 16px
    lg: '1.125rem',  // 18px
    xl: '1.25rem',   // 20px
  },
};

// Breakpoints
export const breakpoints = {
  sm: '640px',
  md: '768px',
  lg: '1024px',
  xl: '1280px',
};
```

## Checkliste zur Barrierefreiheit

WCAG 2.1 AA mindestens für alle Komponenten:

**Keyboard Navigation**:
- Die Tab-Reihenfolge ist logisch und sichtbar
- Alle interaktiven Elemente über Tab erreichbar
- Enter/Leertaste aktiviert Tasten
- Escape schließt Modalitäten
- Pfeiltasten navigieren durch Listen

**Screen Readers**:
- Semantisches HTML (`<button>`, `<nav>`, `<main>`, `<article>`)
- Alt-Text für Bilder (beschreibend, nicht dekorativ)
- Aria-Label für Nur-Symbol-Schaltflächen
- aria-live für dynamische Updates
- Zugeordnete Formularbeschriftungen (for=-Attribut)

**Color & Contrast**:
- Textkontrast: mindestens 4,5:1
- Kontrast der UI-Komponente: mindestens 3:1
- Verlassen Sie sich nicht nur auf die Farbe (Fehler = Rot + Symbol + Text)
- Testen Sie mit Farbenblind-Simulatoren

## UX-Gesetze und -Prinzipien

**Jakob's Law**: Benutzer erwarten vertraute Muster
- Standardnavigation verwenden (Logo oben links, Suche oben rechts)
- Vertraute Formularlayouts und Interaktionen
- Führen Sie keine Innovationen auf der Ebene der Mikrointeraktion durch

**Hick's Law**: Mehr Auswahlmöglichkeiten = langsamere Entscheidungen
- Minimieren Sie Optionen auf kritischen Bildschirmen
- Teilen Sie komplexe Aufgaben in Schritte auf
- Verwenden Sie Filter/Suche für große Listen

**Fitts's Law**: Entfernung + Größe wirken sich auf die Zielzeit aus
- Touch zielt auf mindestens 44×44 Pixel (Mobilgerät), 40×40 Pixel (Desktop) ab.
- Ausreichender Abstand zwischen anklickbaren Elementen
- Wichtige Aktionen in Reichweite auf dem Handy

**Gestalt Principles**: Menschen gruppieren visuelle Elemente
- Nähe: Gruppieren Sie verwandte Elemente nahe beieinander
- Ähnlichkeit: Gleiche Farbe/Form/Größe = gleiche Kategorie
- Gemeinsamer Bereich: Elemente in Rahmen werden gruppiert
- Prägnanz: Verwenden Sie die einfachste visuelle Form

**Von Restorff Effect**: Markante Gegenstände fallen auf
- Ein primärer CTA pro Bildschirm fällt auf
- Der Rest ist im sekundären/tertiären Stil
- Netflix-Muster: Rote Tasten nur für primäre Aktionen

**Peak-End Rule**: Benutzer erinnern sich an Spitzen und Enden
- Schaffen Sie unvergessliche Momente in Erfolgsstadien
- Machen Sie Enden zu einem Vergnügen (feiern Sie Siege)
- Instagram: Herzanimationen sind sofortiges Feedback

**Doherty Threshold**: Die Reaktion unter 400 ms macht süchtig
- Geben Sie sofortiges visuelles Feedback (unter 400 ms)
- Optimistische Benutzeroberfläche verwenden (Ergebnis anzeigen, bevor der Server es bestätigt)
- Skelettbildschirme beim Laden
- Lassen Sie Benutzer niemals ohne Feedback warten

**Tesler's Law**: Komplexität lässt sich nicht beseitigen, nur verschieben
- Absorbieren Sie die Komplexität im System, nicht im Benutzer
- Füllen Sie Felder automatisch aus dem Kontext aus
- Intelligente Vorgaben reduzieren Entscheidungen
- Vorschlag basierend auf der Geschichte

## Prüfnormen

Jede Komponente benötigt umfassende Tests:

```typescript
// Unit test (component logic)
test('Button renders with correct label', () => {
  const { getByText } = render(<Button>Click me</Button>);
  expect(getByText('Click me')).toBeInTheDocument();
});

// Integration test (user flow)
test('Form submits with valid data', async () => {
  const { getByLabelText, getByRole } = render(<UserForm />);
  const emailInput = getByLabelText('Email');
  const submitBtn = getByRole('button', { name: /submit/i });

  fireEvent.change(emailInput, { target: { value: 'test@example.com' } });
  fireEvent.click(submitBtn);

  await waitFor(() => {
    expect(mockSubmit).toHaveBeenCalled();
  });
});

// Accessibility test (axe-core)
test('Button meets accessibility standards', async () => {
  const { container } = render(<Button>Click me</Button>);
  const results = await axe(container);
  expect(results).toHaveNoViolations();
});
```

## Mobile-First-Ansatz

**Base Styles** (Mobil – 320px):

```css
.card {
  padding: var(--spacing-md);
  font-size: var(--font-size-base);
  grid-template-columns: 1fr; /* Single column */
}
```

**Tablet Breakpoint** (768px+):

```css
@media (min-width: 768px) {
  .card {
    padding: var(--spacing-lg);
    grid-template-columns: 1fr 1fr; /* 2 columns */
  }
}
```

**Desktop Breakpoint** (1024px+):

```css
@media (min-width: 1024px) {
  .card {
    padding: var(--spacing-xl);
    grid-template-columns: repeat(3, 1fr); /* 3 columns */
  }
}
```

## Reaktionsfähige Haltepunkte

- **Mobile**: 320px bis 639px (Basisstile)
- **Tablet**: 640px bis 1023px (@media min-width: 640px)
- **Desktop**: 1024px bis 1279px (@media min-width: 1024px)
- **Large Desktop**: 1280px+ (@media min-width: 1280px)

## Schlüsseldateien

- **Expertise**: `packages/cli/src/core/experts/ui/expertise.yaml` (Agentenspeicher)
- **Workflow**: `packages/cli/src/core/experts/ui/workflow.md` (Planen → Bauen → Selbstverbessern)
- **Status**: `docs/09-agents/status.json` (Story-Tracking)
- **Bus**: `docs/09-agents/bus/log.jsonl` (Koordinationsnachrichten)
- **Design Tokens**: `src/theme/tokens.ts` oder `src/styles/design-tokens.css`
- **Components**: `src/components/` (Komponentendateien)
- **Tests**: `src/components/*.test.tsx` (Testdateien)
- **CLAUDE.md**: Styling-Ansatz, Komponentenmuster, Teststandards

## Workflow-Schritte

1. **Load Expertise**: Lesen SieExpertise.yaml
2. **Check Design System**: Nur erste Geschichte – erstellen, falls fehlend
3. **Check Status**: Finden Sie BEREIT-Stories mit Besitzer==AG-UI
4. **Check API Dependencies**: Suchen Sie nach AG-API-Blockern
5. **Validate Definition of Ready**: AC existiert, Test-Stub in docs/07-testing/test-cases/
6. **Check Session Harness**: Überprüfen Sie vor dem Start, ob test_status==bestanden ist
7. **Create Branch**: `feature/<US_ID>-<slug>`
8. **Update Status**: „in Bearbeitung“ markieren, Busnachricht anhängen
9. **Implement**: Komponenten, die Design-Token verwenden (diff-first, JA/NEIN)
10. **Accessibility**: Stellen Sie sicher, dass Tastaturnavigation und Bildschirmleseunterstützung unterstützt werden
11. **UX Laws**: Wenden Sie psychologische Prinzipien an
12. **Write Tests**: Einheit + Integration + Zugänglichkeit
13. **Run Verification**: /agileflow:verify, um sicherzustellen, dass die Tests erfolgreich sind
14. **Update CLAUDE.md**: Wenn neue UI-Muster erstellt wurden
15. **Update README**: Neue Komponenten oder Muster proaktiv dokumentieren
16. **Mark In-Review**: Nur wenn test_status==bestanden
17. **Generate PR**: Use /agileflow:pr-template
18. **Self-Improve**: Führen Sie self-improve.md nach Abschluss aus

## Qualitätscheckliste

Vor dem Markieren in der Rezension:

**Functionality**:
- [ ] Reagiert über Haltepunkte hinweg (320 Pixel bis 1920 Pixel+)
- [ ] Alle interaktiven Elemente haben den Status „Hover“, „Fokus“ und „Aktiv“.
- [ ] Wird in allen Zuständen korrekt gerendert (Laden, Fehler, leer, Erfolg)
- [ ] Keine Konsolenfehler oder Warnungen

**Accessibility**:
- [ ] Tastaturnavigation voll funktionsfähig (Tab, Eingabetaste, Escape, Pfeile)
- [ ] Screenreader-Unterstützung (semantisches HTML, Aria-Labels)
- [ ] Farbkontrast 4,5:1 (Text), 3:1 (UI)
- [ ] Fokusindikatoren deutlich sichtbar

**Design**:
- [ ] Verwendet Design-Tokens (keine fest codierten Farben, Abstände, Schriftarten)
- [ ] Typografiehierarchie klar
- [ ] Konsistenter Abstand (8-Pixel-Raster)
- [ ] Mobile-First-Ansatz

**UX**:
- [ ] Jakobs Gesetz: Bekannte Muster
- [ ] Fitts'sches Gesetz: 44px+ Berührungsziele, ausreichender Abstand
- [ ] Hicks Gesetz: Minimale Auswahlmöglichkeiten
- [ ] Von Restorff: Ein primärer CTA sticht heraus
- [ ] Peak-End-Regel: Denkwürdige Erfolgsmomente

**Testing**:
- [ ] Unit-Tests für Komponentenlogik
- [ ] Integrationstests für Benutzerflüsse
- [ ] Barrierefreiheitstests (Axe-Core, Jest-Axe)
- [ ] Tests decken Happy Path + Randfälle + Fehlerzustände ab

## Koordination mit anderen Agenten

**AG-API (Backend)**:
- Überprüfen Sie status.json auf den API-Endpunktstatus
- Als blockiert markieren, wenn der Endpunkt nicht bereit ist
- Senden Sie eine Entsperrungsnachricht an die AG-API, wenn Sie einen Endpunkt benötigen
- Beispiel: `"Blocked: needs GET /api/users/:id endpoint from US-0040"`

**AG-CI (Testing)**:
- Koordinierung der Testinfrastruktur (Axe-Core, Jest-Axe)
- Fordern Sie bei Bedarf die Einrichtung einer Testdatenbank an
- Stellen Sie Komponententests im CI sicher

**MENTOR (Orchestration)**:
- Bitten Sie um Klärung unklarer Anforderungen
- Melden Sie, wenn die Story fehlt. Definition von „Bereit“.

## Verwandte Agenten

- [„api“.](/agents/api) – Backend-Endpunkte, die UI-Komponenten unterstützen
- [„Datenbank“.](/agents/database) - Der Datenschicht zugrunde liegende API
- [„Mentor“.](/agents/mentor) - Orchestriert die UI-Arbeit als Teil der Funktionsimplementierung
