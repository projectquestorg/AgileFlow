---
title: Planificateur épique
description: Spécialiste de la planification d'épopées et d'histoires pour décomposer les fonctionnalités volumineuses en histoires exécutables.
---
# Agent de planification épique

L'agent Epic Planner (EPIC-PLANNER) est votre spécialiste de la décomposition de fonctionnalités. Il décompose les fonctionnalités volumineuses en épopées et histoires correctement définies avec des critères d'acceptation, des estimations, des dépendances et des affectations d'agents clairs.

## Capacités

- Divisez les fonctionnalités en 3 à 8 épopées d'histoire avec des objectifs clairs
- Rédiger les critères d'acceptation Donné/Quand/Alors pour chaque histoire
- Estimer la complexité de l'histoire (0,5d, 1d, 2d)
- Cartographier les dépendances entre les histoires
- Extraire le contexte d'architecture des documents de conception
- Attribuer des stories à des agents spécialisés (AG-UI, AG-API, AG-CI, AG-DEVOPS)
- Créer des talons de test alignés sur les critères d'acceptation
- Mettre à jour status.json et coordonner via bus/log.jsonl

## Quand l'utiliser

Utilisez l'agent Epic Planner lorsque :

- Vous avez une demande de fonctionnalité importante à décomposer en histoires plus petites
- Vous avez besoin d'aide pour estimer la complexité de l'histoire
- Vous souhaitez prévoir des dépendances entre étages
- Vous devez extraire le contexte de l'architecture pour guider le développeur
- Vous ne savez pas comment vous préparerak travaille avec les membres de l'équipe
- Vous voulez vous assurer que les histoires respectent les critères INVEST (Indépendant, Négociable, Valable, Estimable, Petit, Testable)

## Comment ça marche

1. **Chargement du contexte** : l'agent lit les documents d'expertise, de statut.json, de feuille de route et d'architecture
2. **Clarification** : l'agent pose des questions sur la portée, les contraintes et les priorités des fonctionnalités.
3. **Recherche** : l'agent vérifie dans docs/10-research/ les modèles pertinents
4. **Planification** : l'agent propose une structure épique avec 3 à 8 histoires pour enfants
5. **Extraction d'architecture** : l'agent extrait le contexte d'architecture pertinent avec des citations de sources
6. **Définition de Prêt** : L'agent s'assure que chaque histoire a un AC, un talon de test et aucun bloqueur
7. **Création** : l'agent crée des fichiers épiques/story, des talons de test et met à jour status.json
8. **Coordination** : l'agent ajoute des messages d'affectation à bus/log.jsonl
9. **Auto-amélioration** : l'agent exécute self-improve.md pour mettre à jour son expertise

## Exemple

```bash
# Via /babysit (recommended)
/agileflow:babysit
> "I need to plan the user authentication feature"
```

L'Epic Planner va :
1. Posez des questions de clarification (JWT vs session ? Connexion sociale ? MFUn ?)
2. Vérifiez docs/04-architecture/ pour les modèles d'authentification déjà documentés
3. Proposer : EP-0015 : Authentification des utilisateurs (5 histoires)
   - US-0150 : Configuration de l'infrastructure JWT (AG-API, 1d)
   - US-0151 : Implémenter le point de terminaison de connexion (AG-API, 1d)
   - US-0152 : Créer un formulaire de connexion (AG-UI, 1d)
   - US-0153 : Implémenter la déconnexion (AG-API, 0.5d)
   - US-0154 : Ajouter des tests d'authentification (AG-CI, 1d)
4. Rédigez les critères d'acceptation pour chaque histoire
5. Identifiez les dépendances (le formulaire dépend du point de terminaison)
6. Créez des fichiers avec le contexte d'architecture inclus
7. Mettez à jour status.json avec les 5 histoires marquées comme « prêtes »

Ou apparaissez directement :

```text
Task(
  description: "Plan the payment processing feature",
  prompt: "Break into stories with AC and estimates. Stripe integration required.",
  subagent_type: "agileflow-epic-planner"
)
```

## Comportements clés

- **Critères INVEST** : Chaque histoire est indépendante, négociable, précieuse, estimable, petite, testable
- **Estimations de 0,5 à 2 jours** : les histoires doivent pouvoir être complétées en une seule session de travail
- **Tranches verticales** : chaque histoire offre une valeur visible par l'utilisateur lorsque cela est possible
- **Extraction de contexte architectural** : comprend les sections pertinentes de docs/04-architecture/ avec des citations de sources
-**Citations sources** : chaque détail technique inclut `[Source: architecture/file.md#section]` pour vérification
- **Définition de Prêt** : Chaque histoire a AC, un talon de test, aucun bloqueur et une affectation d'agent
- **Commandes autonomes** : appelle directement /agileflow:board, /agileflow:velocity, /agileflow:research:ask
- **Mises à jour du statut** : crée des histoires avec status=ready dans docs/09-agents/status.json
- **Messages de bus** : ajoute des messages « attribuer » pour chaque histoire à docs/09-agents/bus/log.jsonl

## Outils disponibles

Cet agent a accès à : Lecture, Écriture, Modification, Glob, Grep

## Format des critères d'acceptation

Chaque histoire utilise le format Donné/Quand/Alors pour plus de clarté :

```markdown
## Acceptance Criteria

- **Given** a user is logged out
  **When** they click "Login"
  **Then** the login form appears with email and password fields

- **Given** valid credentials entered
  **When** they click "Sign In"
  **Then** they're redirected to dashboard and JWT token is stored

- **Given** invalid credentials
  **When** they click "Sign In"
  **Then** error message displays and form remains visible
```

## Directives d'estimation

- **0.5d** : composant simple, point de terminaison CRUD de base, changement de configuration, correction de bug
- **1d** : composant modéré avec état, point de terminaison API avec tests, petite fonctionnalité
- **2d** : fonctionnalité complexe, intégration avec un service externe, refactoring important
- **>2d** : Diviser en histoires plus petites (viole le principe de taille)

## Assignation d'agent Guidée

Lors de la création d'histoires, attribuez-les en fonction de la portée :

- **AG-UI** : composants frontend, style, systèmes de conception, accessibilité, interactions utilisateur
- **AG-API** : points de terminaison backend, logique métier, modèles de données, accès à la base de données, intégrations
- **AG-CI** : infrastructure de test, pipelines CI/CD, peluchage, couverture de code, portes de qualité
- **AG-DEVOPS** : Dépendances, déploiement, dette technique, analyse d'impact, changelogs

**Histoires multi-agents** : si une story s'étend sur plusieurs agents (full-stack), divisez-la en histoires distinctes avec des dépendances documentées.

## Extraction du contexte architectural

Lors de la création d'histoires, EPIC-PLANNER extrait automatiquement le contexte architectural pertinent :

1. **Identifie les sections pertinentes** : lit le type d'histoire (Backend/Frontend/Full-Stack) et trouve les documents correspondants
2. **Extrait uniquement les détails pertinents** : inclut les modèles de données, les spécifications d'API, les modèles de composants et les chemins de fichiers.
3. **Cite toutes les sources** : chaque détail inclut `[Source: docs/04-architecture/{filename}.md#{section}]`
4. **Never Invents Details** : uniquement des extraits d'actual documents d'architecture
5. **Inclut les informations sur l'histoire précédente** : si une histoire connexe existe, extrait les leçons apprises

Exemple de contexte d'architecture dans l'histoire :

```markdown
### Data Models & Schemas
User model with fields: id, email, password_hash, created_at, updated_at
[Source: architecture/data-models.md#user-model]

### API Specifications
POST /api/auth/login: Accepts email/password, returns JWT token
[Source: architecture/api-spec.md#authentication]

### File Locations
Backend services: src/services/auth.ts following naming convention
[Source: architecture/project-structure.md#services]
```

## Fichiers clés

- **Expertise** : `packages/cli/src/core/experts/epic-planner/expertise.yaml` (mémoire des agents)
- **Workflow** : `packages/cli/src/core/experts/epic-planner/workflow.md` (Planifier → Construire → Auto-amélioration)
- **Épopées** : `docs/05-epics/` (définitions épiques)
- **Stories** : `docs/06-stories/` (user stories organisées par epic)
- **Stubs de test** : `docs/07-testing/test-cases/` (un par histoire)
- **Statut** : `docs/09-agents/status.json` (suivi de l'histoire)
- **Bus** : `docs/09-agents/bus/log.jsonl` (messages de coordination)
- **Architecture** : `docs/04-architecture/` (extrait du contexte avec citations)
- **Recherche** : `docs/10-research/` (vérifier avant de planifier)
- **Feuille de route** : `docs/08-project/roadmap.md` (priorités)

## Étapes du flux de travail

1. **Charger l'expertise** : lisez expertise.yaml
2. **Vérifier la capacité** : consultez status.json pour connaître les limites WIP de l'équipe
3. **Vérifiez les priorités** : lisez docs/08-project/roadmap.md
4. **Vérifiez la recherche** : consultez docs/10-research/ pour trouver un modèle pertinents
5. **Clarifier la portée** : interrogez l'utilisateur sur les limites des fonctionnalités
6. **Proposer Epic** : suggérer une structure épique avec 3 à 8 histoires
7. **Extraire l'architecture** : extraire le contexte de docs/04-architecture/ avec des citations
8. **Afficher l'aperçu** : Afficher les différences pour examen
9. **Créer des fichiers** : Epic, histoires (avec contexte d'architecture), talons de test
10. **Mise à jour du statut** : ajoutez des histoires à docs/09-agents/status.json comme "prêt"
11. **Mettre à jour le bus** : ajouter des messages « attribuer »
12. **Self-Improve** : exécutez self-improve.md une fois terminé

## Liste de contrôle qualité

Avant de finaliser les histoires :

- [ ] Epic a des objectifs et des indicateurs de réussite clairs
-[ ] Chaque histoire a 2 à 5 critères d'acceptation testables
- [ ] Les estimations sont réalistes (plage de 0,5 à 2 jours)
- [ ] Toutes les dépendances identifiées et documentées
- [ ] Propriétaires attribués en fonction de la portée (UI, API, CI, DevOps)
- [ ] Critères d'acceptation de référence des talons de test
-[ ] Contexte d'architecture extrait avec citations de sources
- [ ] Histoires marquées comme "prêtes" dans status.json
- [ ] Attribuer des messages ajoutés à bus/log.jsonl

## Agents associés

- [`mentor`](/agents/mentor) - Orchestre le flux de travail global, délègue la planification à Epic Planner
- [`api`](/agents/api) - Implémente les histoires API/backend créées par Epic Planner
- [`ui`](/agents/ui) - Implémente des histoires d'interface utilisateur/frontend créées par Epic Planner