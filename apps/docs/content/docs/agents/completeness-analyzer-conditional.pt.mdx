---
title: Analisador de ramificação de recurso morto
description: Analisador de ramificação de recursos inativos para condições falsas codificadas, sinalizadores de recursos inativos, código inacessível após retorno/lançamento e grandes blocos comentados
---

# Analisador de ramificação de recurso morto

O Completeness Analyzer: Dead Feature Branch Agent é um analisador especializado focado em **dead conditional logic and feature branches**. Ele encontra condições falsas codificadas que desativam recursos, sinalizadores de recursos inativos que nunca mudam, código inacessível após instruções de retorno/lançamento e grandes blocos de código comentados que devem ser removidos.

## Quando usar

Use este agente quando:
- Você precisa identificar condições falsas codificadas que sempre ignoram o código
- Você deseja encontrar sinalizadores de recursos inativos que foram deixados na base de código
- Você está procurando código inacessível após instruções de retorno/lançamento
- Você precisa identificar e remover blocos comentados
- Você está eliminando dívidas técnicas com lançamentos de recursos

## Como funciona

1. **Reads conditional code** - Verifica todos os if/else, ternários, && e || operadores
2. **Evaluates constants** - Verifica se as condições dependem apenas de constantes
3. **Identifies dead branches** - Encontra ramificações que nunca podem ser executadas
4. **Finds feature flags** - Procura variáveis ​​semelhantes a sinalizadores que são codificadas
5. **Detects unreachable code** - Encontra código após return/throw/break
6. **Finds dead comments** - Identifica grandes blocos comentados
7. **Reports findings** - Lista código morto com contexto e remoção sugerida

## Áreas de foco

- **Hardcoded false conditions**: `if (false)`, `if (FEATURE_ENABLED === false)` onde FEATURE_ENABLED nunca é verdadeiro
- **Dead feature flags**: sinalizadores que ficaram com valores codificados após a implementação
- **Unreachable code**: Código após instruções return, throw ou break
- **Large commented-out blocks**: Código comentado que deve ser excluído
- **Unreachable branches**: cláusulas Else que nunca podem ser executadas

## Ferramentas disponíveis

Este agente tem acesso a: Read, Glob, Grep

## Análise de exemplo

Dado um código como:
```javascript
// Hardcoded false condition
if (false) {
  logErrorToService();
}

// Dead feature flag
if (BETA_UI === false) {
  // Old UI code that will never run
  return <LegacyUI />;
}

// Unreachable code
if (user) {
  return user.name;
}
// Code below never executes
const fallback = 'Guest';

// Commented-out block
/*
function deprecatedApiCall() {
  return fetch('/old-api-endpoint').then(r => r.json());
}
*/
```

O analisador Dead Feature Branch identificaria:

### Descoberta: Condição falsa codificada no registro de erros

**Location**: `src/lib/logger.js:45`
**Severity**: P2 (código morto)
**Confidence**: ALTO

**Issue**: A condição `if (false)` na linha 45 é sempre falso. O código de registro de erros interno nunca é executado. Isto deve ser ativado (remover falso) ou excluído.

**Suggested Fix**: Remova o galho morto

```javascript
// Before
if (false) {
  logErrorToService();
}

// After
logErrorToService(); // Enabled and always runs
```

### Descoberta: sinalizador de recurso inativo após o lançamento

**Location**: `src/App.tsx:28`
**Severity**: P1 (código enganoso)
**Confidence**: ALTO

**Issue**: `BETA_UI` é codificado para `false`, tornando todo o ramo if inacessível. O sinalizador de recurso foi deixado para trás depois que o beta foi desativado. Deve ser removido.

**Code**:
```javascript
const BETA_UI = false;
if (BETA_UI) {
  // This code path never executes
  return <BetaUI />;
}
```

**Suggested Fix**: Remova a bandeira morta e seu ramo

```javascript
return <ProductionUI />;
```

### Descoberta: código inacessível após retorno

**Location**: `src/utils/validators.js:120`
**Severity**: P2 (código morto)
**Confidence**: ALTO

**Issue**: Código após a linha 122 (`const fallback = 'Guest'`) está inacessível porque todos os caminhos retornam.

**Code**:
```javascript
if (user) {
  return user.name;
}
const fallback = 'Guest'; // ← Unreachable
return fallback;
```

**Suggested Fix**: Mover atribuição dentro da condição ou reestruturar

```javascript
// Option 1: Move into condition
const fallback = 'Guest';
if (user) {
  return user.name;
}
return fallback;

// Option 2: Use ternary
return user?.name ?? 'Guest';
```

### Descoberta: Grande bloco de código comentado

**Location**: `src/api/clients/user.js:200`
**Severity**: P2 (dívida técnica)
**Confidence**: ALTO

**Issue**: bloco comentado de 47 linhas de código API antigo. Deve ser excluído ou migrado para controle de versão.

**Suggested Action**: Exclua e use o histórico do git para recuperar, se necessário

## Melhores práticas

- Remova condições falsas codificadas - elas indicam limpeza incompleta
- Excluir sinalizadores de recursos após a conclusão da implementação
- Use o controle de origem em vez de comentar o código
- Remova o código inacessível imediatamente após a refatoração
- Documente por que existem ramificações se elas são intencionalmente inacessíveis

## Formato de saída

Para cada descoberta, o agente fornece:
- **Location**: Caminho do arquivo e número da linha
- **Type**: falso codificado, sinalizador morto, código inacessível ou bloco comentado
- **Severity**: P0 (comportamento incorreto), P1 (enganoso) ou P2 (código morto)
- **Confidence**: ALTO, MÉDIO ou BAIXO
- **Code**: trecho de código exato
- **Issue**: Por que está morto e por que é importante
- **Suggested Fix**: Como remover ou reestruturar

## Exemplo de uso

```text
Task(
  description: "Find dead feature branches in user service",
  prompt: "Scan src/ for dead conditional logic including hardcoded false conditions, dead feature flags, unreachable code after return/throw, and large commented-out blocks.",
  subagent_type: "agileflow-completeness-analyzer-conditional"
)
```

## Agentes Relacionados

- [`estado do analisador de completude`](/agents/completeness-analyzer-state) - Analisador de estado não utilizado
- [`manipuladores de analisadores de completude`](/agents/completeness-analyzer-handlers) - Analisador de manipulador morto
- [`importações do analisador de completude`](/agents/completeness-analyzer-imports) - Analisador de exportação morto
- [`consenso de completude`](/agents/completeness-consensus) - Coordenador de consenso de completude
