---
title: كاتب أدر
description: متخصص في سجل قرارات الهندسة المعمارية لتوثيق القرارات الفنية والمقايضات والبدائل التي تم النظر فيها.
---
# وكيل الكاتب ADR

وكيل ADR Writer (ADR-WRITER) هو المتخصص في توثيق قرارات الهندسة المعمارية، وتسجيل المقايضات، والاحتفاظ بسجل تاريخي للاختيارات الفنية. يضمن هذا الوكيل اتخاذ القرارات المهمة في السياق المناسب حتى لا تعيد الفرق مناقشة نفس الاختيارات.

## القدرات

- **إنشاء ADR**: إنشاء سجلات قرارات معمارية توثق سبب اتخاذ الاختيارات الفنية
- **توثيق البدائل**: سجل 2-5 بدائل مع إيجابيات وسلبيات كل منها
- **تحليل المقايضة**: توثيق العواقب الإيجابية والسلبية والمحايدة للقرارات
- **ربط القرار**: ربط التفاعلات الضارة ذات الصلة والمراجع الداعمة للأبحاث
- **دورة حياة الحالة**: تتبع ردود الفعل السلبية من خلال الحالات المقترحة → المقبولة → المهملة/المستبدلة
- **تكامل الأبحاث**: التنسيق مع وكيل الأبحاث لدعم التحليل الفني
- **صيانة فهرس ADR**: احتفظ بالمستندات/03-decisions/README.md محدثة بجميع القرارات

## متى يستخدم

استخدم هذاوكيل عندما تحتاج إلى توثيق:

- **اختيارات التكنولوجيا**: اختيار إطار العمل، واختيار قاعدة البيانات، ولغة البرمجة، وقرارات المكتبة
- **أنماط البنية**: Monolith مقابل الخدمات الصغيرة، REST مقابل GraphQL، المستندة إلى الأحداث مقابل الاستجابة للطلب
- **نمذجة البيانات**: تصميم المخطط، واستراتيجية التطبيع، ونهج التخزين المؤقت
- **المقاربات الأمنية**: آلية المصادقة، استراتيجية التشفير، إدارة الأسرار
- **قرارات البنية التحتية**: منصة الاستضافة، ونظام CI/CD، وحل المراقبة
- **ممارسات التطوير**: استراتيجية الاختبار، ونموذج التفرع، وإرشادات نمط التعليمات البرمجية
- **مقايضات الأداء**: عند اتخاذ قرارات السرعة مقابل الذاكرة، أو الإنتاجية مقابل زمن الوصول

## كيف يعمل

1. **تحميل السياق**: يقرأ الوكيل ملف الخبرة، ويتحقق من ADRs الأخيرة، ويفحص المستندات/10-research/ لدعم البحث

2. **الفهم**: يوضح الوكيل القرار الذي يتم اتخاذه وسبب الحاجة إليه الآن

3. **تكامل البحث**: يتحقق الوكيل من الأبحاث الموجودة حول موضوع القرار،أو يطلب البحث إذا لزم الأمر عبر `/agileflow:research:ask`

4. **تحليل البدائل**: يحدد الوكيل 2-5 بدائل ذات إيجابيات/سلبيات (من البحث أو مدخلات المستخدم)

5. **صياغة ADR**: يقوم الوكيل بإنشاء ADR باستخدام:
   - رقم تسلسلي مكون من 4 أرقام (0001، 0002، إلخ.)
   - العنوان بصيغة الأمر ("استخدم PostgreSQL لاستمرارية البيانات")
   - سياق يوضح سبب الحاجة إلى اتخاذ القرار الآن
   - بيان القرار (ما تم اختياره)
   - البدائل مع إيجابيات / سلبيات
   - العواقب (إيجابية، سلبية، محايدة)
   - الحالة (مقترحة، مقبولة، مهملة، تم استبدالها)
   - ربط المراجع بالمذكرات البحثية والمستندات الرسمية

6. **المعاينة والموافقة**: يعرض الوكيل المعاينة للموافقة بنعم/لا

7. **الإنشاء**: يقوم الوكيل بإنشاء `docs/03-decisions/adr-<NUMBER>-<slug>.md`

8. **الفهرسة**: يقوم الوكيل بتحديث docs/03-decisions/README.md بإدخال جديد

## مثال

__لا تترجم_0__

سيقوم وكيل كاتب ADR بما يلي:
1. تحقق من المستندات/10-research/ للبحث في قاعدة البيانات الموجودة
2. في حالة فقدانه، اطلب: "دعني أقوم بالبحث في خيارات قاعدة البيانات أولاً"
3. زقم بإجراء بحث آخر حول PostgreSQL وMongoDB والخيارات الأخرى
4. أجري مقابلة معك حول السياق (لماذا الآن؟ القيود؟ تجربة الفريق؟)
5. مسودة ADR-0003: استخدم PostgreSQL لاستمرارية البيانات
6. إظهار المعاينة مع كافة البدائل والمفاضلات
7. الحصول على الموافقة (نعم/لا)
8. قم بإنشاء adr-0003-use-postgresql.md
9. قم بتحديث docs/03-decisions/README.md
10. أعلن: "تم إنشاء ADR-0003 وجاهز لمراجعة الفريق"

## السلوكيات الرئيسية

- **البحث أولاً**: يتحقق دائمًا من الأبحاث الموجودة قبل كتابة ADR (أو يطلبها)
- **السياق أثناء التنفيذ**: يركز على سبب اتخاذ القرار، وليس على تفاصيل التنفيذ
- **السجل التاريخي**: لا يحذف مطلقًا التفاعلات الضارة (المحفوظة للسياق التاريخي والتعرف على الأنماط)
- **بدائل واضحة**: توثيق بديلين على الأقل مع إيجابيات/سلبيات صادقة (بدون تأييد)
- **الترقيم التسلسلي**: ADRs مرقمة بشكل تسلسلي (0001، 0002، 0003، إلخ.)
- **تتبع الحالة**: تحديث حالة ADR مع تطور القرارات (مقترح → مقبول → تم استبداله)
- **الربط**: يربط ذات الصلةADRs لبناء الرسم البياني للقرار مع مرور الوقت

## الأدوات المتاحة

هذا الوكيل لديه حق الوصول إلى:
- **قراءة**: تصفح ADRs وافهم سجل القرار
- **الكتابة**: إنشاء ملفات ADR جديدة
- **تحرير**: تحديث ADRs الموجودة (تغيير الحالة، إضافة مراجع)
- **Glob**: ابحث عن ADRs حسب النمط
- **Grep**: محتوى قرار البحث

## قالب ADR

يتبع كل ADR هذا الهيكل:

__لا تترجم_1__

## دورة حياة حالة ADR

- **المقترح**: قيد المراجعة، ولم تتم الموافقة عليه بعد (مرحلة المناقشة)
- **مقبول**: تمت الموافقة عليه ويجب أن يتبعه الفريق
- **مهمل**: لم يعد موصى به (لكن تم الاحتفاظ به للتاريخ)
- **تم الاستبدال**: تم استبداله بـ ADR أحدث (رابط للاستبدال، على سبيل المثال، "Supersedes ADR-0001")

## قائمة التحقق من الجودة

قبل إنشاء ADR:
- يشرح السياق بوضوح سبب الحاجة إلى اتخاذ القرار الآن
- بديلان على الأقل موثقان بالإيجابيات/السلبيات
- بيان القرار واضح ومحدد
- العواقب متوازنة (إيجابية، سلبية، محايدة)
- المراجع المدرجة للمطالبات الرئيسية
- الحالة المناسبة (المقترحاتإد للمراجعة، مقبول للانتهاء منه)
- الرقم متسلسل (تحقق من أحدث رقم ADR)
- يُستشهد بالأبحاث إن وجدت

## تنسيق مؤشر ADR

يحتفظ docs/03-decisions/README.md بجدول يضم جميع التفاعلات الضارة (مع الأحدث أولاً):

__لا تترجم_2__

## فئات القرار

تندرج التفاعلات الدوائية الضارة عادة ضمن هذه الفئات:

**قرارات التكنولوجيا**
- أي إطار للاستخدام
- قاعدة البيانات التي تختارها
- ما هي لغة البرمجة للخدمات الجديدة
- أي مكتبة لوظائف محددة

**قرارات الهندسة المعمارية**
- مونوليث مقابل الخدمات الصغيرة
- الاتصال المتزامن مقابل الاتصال غير المتزامن
- يحركها الحدث مقابل الاستجابة للطلب
- REST مقابل نمط GraphQL API

**قرارات تصميم البيانات**
- مستوى تطبيع المخطط
- استراتيجية التخزين المؤقت
- سياسات الاحتفاظ بالبيانات
- السيد والعبد مقابل النسخ المتماثل نظير إلى نظير

**الأمن والبنية التحتية**
- آلية المصادقة (JWT، OAuth2، على أساس الجلسة)
- التشفير أثناء الراحة وأثناء النقل
- منهج إدارة الأسرار
- منصة النشر والاستضافة

** ممارسات التطوير **
- تاستراتيجية التقييم (الوحدة، التكامل، تغطية E2E)
- نموذج تفرع البوابة (تدفق البوابة، القائم على الجذع، وما إلى ذلك)
- عملية مراجعة الكود
- مستوى أتمتة CI/CD

## تحديث وربط ADRs

**وضع علامة مهملة**:
__لا تترجم_3__

**وضع علامة على أنه تم استبداله**:
__لا تترجم_4__

**الإحالة المرجعية**:
__لا تترجم_5__

## التكامل البحثي

وكيل كاتب ADR دائمًا:
1. يقوم بمراجعة المستندات/10-الأبحاث/ للبحث الموجود حول الموضوع
2. في حالة فقدان البحث، يطلب: `/agileflow:research:ask TOPIC=<decision>`
3. يدمج نتائج البحوث في قسم البدائل
4. مذكرة بحثية عن المراجع في قسم "المراجع" في ADR
5. يربط ADR بالمذكرة البحثية للرجوع إليها مستقبلاً

وهذا يضمن:
- القرارات مبنية على تحليل شامل
- يتم الحفاظ على نتائج البحوث
- يمكن للوكلاء الآخرين العثور على أدلة داعمة للقرارات
- الاتساق عبر وثائق القرار

## منع إعادة النقاش

تمنع ADRs الفرق من إعادة مناقشة نفس القرارات من خلال:
- **التقاط السياق**: تسجيل ما كان معروفًا عند اتخاذ القرارصنع
- **توثيق القيود**: لماذا كانت بعض الخيارات مستحيلة
- **تسجيل المفاضلات**: ما تم التنازل عنه للحصول على منافع أخرى
- **الربط بالبحث**: الإشارة إلى التحليل الفني الذي يوفر خيارًا مستنيرًا
- **الحفاظ على التاريخ**: عرض كيفية تطور القرارات مع مرور الوقت

عندما ينشأ سؤال قرار مماثل:
1. تحقق من docs/03-decisions/ لمعرفة التفاعلات الضارة ذات الصلة
2. مراجعة السياق والعواقب
3. قرر ما إذا كان الوضع قد تغير (استبدله إذا كانت الإجابة بنعم، ارجع إلى الموجود إذا كان لا)

## الوكلاء ذوو الصلة

- [`research`](/agents/research) - يوفر التحليل الفني قبل إنشاء ADR
- [`documentation`](/agents/documentation) - مراجع ADRs في المستندات المعمارية
- [`epic-planner`](/agents/epic-planner) - ميزات الخطط حول القرارات المقررة
- [`mentor`](/agents/mentor) - يشرح القرارات لأعضاء الفريق الجدد
- [`babysit`](/agents/babysit) - يمكن طلب إنشاء ADR للاختيارات الفنية

## الأنماط الشائعة

** ADRs تمكن نقل المعرفة **
- فريق جديد لييفهم الأعضاء المنطق الماضي
- يمنع إعادة تنفيذ الأساليب الفاشلة
- تسريع عملية الإعداد (اقرأ ADRs مقابل التجربة والخطأ)

**الرسم البياني للقرار مع مرور الوقت**
- القرارات مبنية على بعضها البعض (ADR-0002 مبني على ADR-0001)
- بعض القرارات تحل محل قرارات أخرى (ADR-0003 تحل محل ADR-0001)
- تشكيل شبكة متصلة من الفهم

**القرارات المبنية على الأدلة**
- كل ADR مدعومة بملاحظات بحثية
- يستشهد بالوثائق الرسمية، وليس الآراء
- يشمل المعايير وتحليل المفاضلة
- تمكن من اتخاذ القرار بثقة