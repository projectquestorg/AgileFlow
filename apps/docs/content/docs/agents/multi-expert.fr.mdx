---
title: Multi-Expert
description: Orchestrateur multi-experts qui déploie 3 à 5 experts de domaine sur le même problème et synthétise les résultats pour des réponses de haute confiance.
---
# Agent multi-expert

L'agent multi-expert est un orchestrateur qui analyse des questions complexes en déployant en parallèle 3 à 5 experts spécialisés dans un domaine, puis synthétise leurs conclusions dans une analyse complète notée en termes de confiance.

## Capacités

- Spawns multiple specialized domain experts in parallel for comprehensive analysis
- Detects relevant domains from questions (security, API, UI, database, testing, performance, CI, DevOps)
- Synthesizes expert findings with confidence scoring (High/Medium/Low)
- Identifies agreements between experts (high confidence) and disagreements (needs review)
- Extracts unique insights from individual experts
- Fournit des actions recommandées prioritaires

## Quand l'utiliser

Utilisez cet agent lorsque :

- **Complex questions spanning multiple domains** - "Is our authentication implementation secure?" needs security + API + testing + database perspectives
- **Security reviews** - Analyze code from multiple angles (security, architecture, testing)
- **Architecteture reviews** - Obtenez les commentaires d'experts du domaine sur les décisions de conception
- **Révisions PR** - Révision du code multi-perspective pour plus de confiance dans l'exactitude
- **Analyse des flux de bout en bout** - Tracez les demandes à travers plusieurs couches avec validation par des experts
- **Problèmes difficiles de débogage** - Plusieurs causes possibles nécessitant une analyse experte
- **Questions sur les "meilleures pratiques"** - Nécessité d'une validation dans plusieurs domaines

## Comment ça marche

L'agent suit un workflow structuré :

```text
USER QUESTION
      ↓
┌─────────────────┐
│ 1. ANALYZE      │ → Identify 3-5 relevant domains
│ 2. DEPLOY       │ → Spawn experts IN PARALLEL
│ 3. COLLECT      │ → Wait for all results
│ 4. SYNTHESIZE   │ → Combine with confidence scoring
│ 5. REPORT       │ → High-confidence answer
└─────────────────┘
```

### Étape 1 : Analyse du domaine

L'agent analyse la question pour les mots-clés du domaine et sélectionne 3 à 5 experts :
- **1 expert PRIMAIRE** - Domaine le plus pertinent
- **2-4 experts DE SOUTIEN** - Fournir des perspectives supplémentaires

### Étape 2 : Déployer en parallèle

Tous les experts sont déployés simultanément en utilisant l'exécution en arrière-plan pour plus d'efficacité :

```bash
Task(
  description: "Security analysis",
  prompt: "FIRST: Read packages/cli/src/core/experts/security/expertise.yaml\n\nQUESTION: ...",
  subagent_type: "agileflow-security",
  run_in_background: true
)
```

### Étape 3 : Collecter les résultats

Utilise `TaskOutput` avec `block: true` pour attendre toutes les réponses des experts.

### Étape 4 : Synthétiser avec un score de confiance

Analyses all réponses et conclusions des groupes :

- **ACCORD (2+ experts)** → Confiance élevée
- **UNIQUE INSIGHT (1 expert)** → Constat notable
- **DÉSACCORD** → Marqué pour examen humain

### Étape 5 : Rapport

Résultats d'une analyse structurée avec des sections :
- **Principales conclusions (haute confiance)** - Accords entre plus de 2 experts
- **Informations uniques** – Résultats notables d'experts uniques
- **Désaccords (révision nécessaire)** - Opinions contradictoires
- **Actions recommandées** - Prochaines étapes prioritaires

## Score de confiance

| Niveau | Critères |
|-------|--------------|
| **Élevé** | 3+ experts sont d'accord avec les preuves spécifiques citées |
| **Moyen** | 2 experts sont d'accord avec certaines preuves |
| **Faible** | 1 seul expert, à vérifier |

## Détection de domaine

L'agent mappe les mots-clés des questions aux experts du domaine :

| Mots-clés | Expert |
|--------------|--------|
| base de données, schéma, table, SQL, requête | base de données agileflow |
| API, point de terminaison, REST, route, contrôleur | agileflow-api |
| composant, interface utilisateur, frontend, style | agileflow-ui |
| test, spec, couverture, simulation | tests agileflow |
| sécurité, authentification, JWT, vulnérabilité | agileflow-sécurité |
| performances, cache, optimisation, ralentissement | agileflow-performance |
| CI, workflow, pipeline, build | agileflow-ci |
| déployer, infrastructure, Docker | agileflow-devops |

## Exemple

**Question de l'utilisateur** : « Notre mise en œuvre de l'authentification est-elle sécurisée ? »

**Réponse de l'agent** :

```text
Analyzing for relevant domains...

Detected domains:
- Security (primary) - auth security analysis
- API (supporting) - implementation review
- Testing (supporting) - coverage verification
- Database (supporting) - credential storage

Deploying 4 experts in parallel...

## Multi-Expert Analysis: Authentication Security

**Confidence**: High (4 experts, strong agreement)

### Key Findings (High Confidence)
1. JWT tokens never expire - CRITICAL - Agreed by: Security, API
2. Auth middleware inconsistent - HIGH - Agreed by: Security, API

### Unique Insights
- Database: Password hashing is correct (bcrypt with proper salt rounds)
- Testing: Only 40% coverage on auth routes, missing integration tests

### Disagreements (Needs Review)
None - all experts aligned on security stance

### Recommended Actions
1. Add JWT expiration and refresh token rotation (CRITICAL)
2. Audit all routes for consistent middleware application (HIGH)
3. Increase test coverage to 80% for auth routes (MEDIUM)
4. Add integration tests for auth flow (MEDIUM)
```

## Comportements clés

- **Déploie TOUJOURS les experts en parallèle** - Jamais de manière séquentielle (efficacité)
- **Déploie TOUJOURS TOUS les experts dans un SEUL message** - Les tâches par lots appellent ensemble
- **NE JAMAIS donner de réponse finale sans synthétiser TOUTES les réponses des experts** - Tous les points de vue comptent
- **Inclut TOUJOURS la lecture d'expertise dans les invites d'experts** - `"FIRST: Read packages/cli/src/core/experts/{domain}/expertise.yaml"`
- **Déploie 3 à 5 experts au total** - Ni moins, ni plus (synthèse optimale)
- **Utilise TOUJOURS TaskOutput avec le bloc : true** - Pour collecter tous les résultats

## Outils disponibles

Cet agent a accès à :
- **Lire** - Accéder aux dossiers d'expertise des agents
- **Écrire** - Créer undocuments d'analyse
- **Modifier** - Mettre à jour les analyses existantes
- **Bash** - Exécuter les commandes de vérification
- **Glob** - Rechercher les fichiers pertinents
- **Grep** - Rechercher du code et de la documentation
- **Tâche** - Déployer des agents experts en parallèle
- **TaskOutput** - Collectez les résultats d'experts

## Configuration du modèle

- **Modèle** : Claude Opus 4.5 (Sonnet)
- **Raisonnement** : analyse complexe complète avec plusieurs perspectives

## Agents associés

- [`database`](/agents/database) - Expert en schéma de base de données et en requêtes
- [`api`](/agents/api) - Expert en points de terminaison de l'API REST
- [`ui`](/agents/ui) - Expert en composants frontend
- [`testing`](/agents/testing) - Expert en couverture de tests et en stratégie
- [`security`](/agents/security) - Expert en sécurité et authentification
- [`performance`](/agents/performance) - Expert en optimisation des performances
- [`ci`](/agents/ci) - Expert en pipeline CI/CD
- [`devops`](/agents/devops) - Expert en infrastructure et déploiement

## Quand NOT à utiliser

- **Questions simples portant sur un seul domaine** - Utilisez plutôt un expert direct du domaine
- **Questions nécessitant un pouvoir décisionnel** - Multi-Expert fournit uniquement une analyse
- **Informations sensibles** - Documenter les experts impliqués avant le déploiement