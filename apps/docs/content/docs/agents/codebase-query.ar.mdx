---
title: استعلام قاعدة التعليمات البرمجية
description: بحث ذكي في قاعدة التعليمات البرمجية باستخدام استعلامات برمجية بدلاً من RAG. يترجم اللغة الطبيعية إلى استعلامات منظمة لاستكشاف التعليمات البرمجية بشكل سريع ومستهدف.
---
# وكيل استعلام قاعدة التعليمات البرمجية

يعد Codebase Query Agent متخصصًا في استكشاف قاعدة التعليمات البرمجية السريعة والموجهة باستخدام البحث البرمجي (نمط RLM). يقوم هذا الوكيل بترجمة أسئلة اللغة الطبيعية إلى استعلامات منظمة، مما يتيح اكتشاف التعليمات البرمجية بكفاءة دون تحميل الملفات بأكملها في السياق.

## القدرات

- **ترجمة اللغة الطبيعية**: تحويل الأسئلة مثل "أين تتم معالجة المصادقة؟" في الاستعلامات المنظمة
- **البحث عن أنماط الملفات**: ابحث عن الملفات حسب أنماط الكرة الأرضية واصطلاحات التسمية
- **البحث عن المحتوى**: يبحث بأسلوب Grep عن أنماط التعليمات البرمجية وأسماء الوظائف والنص
- **البحث المعتمد على العلامات**: البحث عن الملفات حسب العلامات الدلالية (api، ui، auth، قاعدة البيانات، test)
- **تصدير الاكتشاف**: حدد مكان تصدير الرموز واستخدامها
- **تعيين التبعية**: إظهار الملفات التي يتم استيرادها/استيرادها بواسطة ملف معين
- **إدارة ميزانية الرمز المميز**: احترام حدود السياق عن طريق اقتطاع النتائج الكبيرة

## متى يستخدم

استخدم هذا الوكيل عندما تحتاج إلى:

- البحث عن الملفات المتعلقة بميزة (authenticatiعلى، API، قاعدة البيانات، الخ.)
- تحديد موقع تعريفات الوظيفة أو الصادرات
- اكتشف تبعيات الملفات وسلاسل الاستيراد
- محتوى كود البحث دون قراءة الملفات بأكملها
- اكتشف قاعدة بيانات غير مألوفة بسرعة
- بناء السياق لتنفيذ الميزة

## كيف يعمل

### ترجمة الاستعلام

يقوم الوكيل بترجمة اللغة الطبيعية إلى استعلامات منظمة:

| يقول المستخدم | نوع الاستعلام | ترجمة |
|-----------|------------|-------------|
| "أين تتم معالجة المصادقة؟" | علامة + استعلام | `--tag="auth"` + `--query="auth"` |
| "ما هي الملفات التي تستخدم وظيفة تسجيل الدخول؟" | تصدير | __غير مترجم_16__ |
| "البحث عن الملفات التي بها أخطاء في المعالجة" | المحتوى | __غير مترجم_17__ |
| "أرني مسارات واجهة برمجة التطبيقات" | العلامة | __غير مترجم_18__ |
| "ما الذي يعتمد عليه user.ts؟" | ديبس | __غير مترجم_19__ |
| "ملفات مخطط قاعدة البيانات" | علامة + استعلام | `--tag="database"` + `--query="schema"` |
| "مكونات التفاعل باستخدام الخطافات" | المحتوى | __غير مترجم_22__ |
| "جميع ملفات الاختبار" | العلامة | __غير مترجم_23__ |

### العلامة المتاحةق

| العلامة | المباريات |
|-----|---------|
| واجهة برمجة التطبيقات | `/api/`، `/routes/`، `/controllers/` |
| واجهة المستخدم | __غير مترجم_27__, __غير مترجم_28__, __غير مترجم_29__ |
| مصادقة | `/auth/`، `/login/`، `/jwt/` |
| قاعدة بيانات | __غير مترجم_33__, __غير مترجم_34__, __غير مترجم_35__ |
| اختبار | __غير مترجم_36__, __غير مترجم_37__, __غير مترجم_38__ |
| التكوين | `/config/`، `/settings/` |
| ليب | `/lib/`, `/utils/`, `/helpers/` |

### سير العمل

1. **تحليل الاستعلام**: فهم ما يبحث عنه المستخدم
2. **الترجمة**: تحويل اللغة الطبيعية إلى أنواع الاستعلامات المنظمة
3. **التحقق من الفهرس**: تأكد من توفر فهرس قاعدة التعليمات البرمجية (قم بالإنشاء إذا لزم الأمر)
4. **تنفيذ الاستعلام**: قم بتشغيل الاستعلام باستخدام العلامات المناسبة
5. **تنسيق النتائج**: إرجاع مسارات الملفات مع السياق
6. **اقتطاع إذا لزم الأمر**: احترم حدود ميزانية الرمز المميز

## مثال

__لا تترجم_0__

سيقوم وكيل استعلام Codebase بما يلي:
1. الترجمة إلى: `--tag="auth"` + `--query="auth"`
2. فحص/بناء الفهرس
3. ابحث عن الملفات المطابقة لأنماط المصادقة
4. إرجاع النتائج المنظمة:
__لا تترجم_1__

## السلوكيات الرئيسية

- **للقراءة فقط**: لا يستطيع هذا الوكيل كتابة الملفات أو تحريرها أو تعديلها
- **الفهرس أولاً**: يقوم دائمًا بفحص/إنشاء فهرس قاعدة التعليمات البرمجية قبل الاستعلام
- **التعرف على الرمز المميز**: اقتطاع النتائج لتظل ضمن الميزانية (الافتراضي: 15000 حرف)
- **الإخراج المنظم**: يعرض تنسيقًا متسقًا مع الاستعلام والترجمة والنتائج
- **الإستراتيجية الاحتياطية**: تستخدم Glob/Grep مباشرةً في حالة عدم توفر الفهرس

## الأدوات المتاحة

هذا الوكيل لديه حق الوصول إلى:
- **قراءة**: تصفح الملفات لفهم السياق
- **Glob**: اكتشاف الملفات بناءً على النمط
- **Grep**: بحث قائم على المحتوى

**مفقود بشكل ملحوظ** (وكيل للقراءة فقط):
- لا توجد أداة الكتابة
- لا توجد أداة تحرير
- لا توجد أداة Bash (باستثناء تشغيل البرنامج النصي للاستعلام)

## أنواع الاستعلام

### الاستعلام عن النمط/الكلمة الرئيسية
__لا تترجم_2__
بحث ذكي يجمع بين أنماط الكرة الأرضية ومطابقة العلامات وبحث التصدير.

### بحث المحتوى
__لا تترجم_3__
بحث بأسلوب Grep عن النصضمن الملفات.

### البحث عن العلامات
__لا تترجم_4__
ابحث عن الملفات المطابقة لأنماط العلامات الدلالية.

### تصدير البحث
__لا تترجم_5__
ابحث عن الملفات التي تصدر رمزًا محددًا.

### بحث التبعية
__لا تترجم_6__
أظهر ما يستورده الملف وما يستورده.

### بناء الفهرس
__لا تترجم_7__
إعادة بناء فهرس قاعدة التعليمات البرمجية (عندما تكون قديمة أو مفقودة).

## تنسيق الإخراج

تنسيق الاستجابة القياسي:

__لا تترجم_8__

بالنسبة لعمليات البحث عن المحتوى، يتضمن الأسطر المطابقة:
__لا تترجم_9__

## إدارة ميزانية الرمز المميز

يحترم الوكيل حدود الرمز المميز:
- الميزانية الافتراضية: 15000 حرف
- استخدم `--budget=5000` للحصول على نتائج أصغر
- يتم اقتطاع النتائج الكبيرة مع إشعار
- يظهر العدد الإجمالي حتى عند اقتطاعه

## السلوك الاحتياطي

إذا كان البرنامج النصي أو الفهرس للاستعلام غير متوفر:

1. **أنماط الملفات**: استخدم أداة Glob لمطابقة الأنماط
2. ** البحث عن المحتوى **: استخدم أداة Grep للبحث عن النص
3. **دمج النتائج**: إلغاء التكرارات والتنسيق يدويًا

## التكامل مع الوكلاء الآخرين

وكيل استعلام Codebase هو typicaتم استدعاؤه بواسطة:

- **المرشد**: ابحث عن الكود المناسب لتنفيذ الميزة
- **AG-API**: تحديد موقع تطبيقات API الموجودة
- **REFACTOR**: ابحث عن أنماط التعليمات البرمجية لتحديثها
- **AG-DEVOPS**: ابحث عن ملفات التكوين
- ** EPIC-PLANNER **: فهم بنية قاعدة التعليمات البرمجية

يتم إرجاع النتائج مباشرةً (لا حاجة إلى إرسال رسائل ناقلة لاستعلامات القراءة فقط).

## نمط RLM

يطبق هذا الوكيل نمط النمذجة على مستوى المستودع (RLM):

- **البحث الآلي**: قاعدة بيانات الاستعلام عبر واجهة برمجة التطبيقات المنظمة، وليس RAG
- **المستند إلى الفهرس**: يستخدم فهرسًا مُعدًا مسبقًا لإجراء عمليات بحث سريعة
- **كفاءة الرمز المميز**: يعرض النتائج ذات الصلة فقط، وليس الملفات بأكملها
- **الحتمية**: نفس الاستعلام يعرض دائمًا نفس النتائج

الفوائد على RAG:
- أسرع (لا يوجد حساب التضمين)
- أكثر دقة (مطابقات تامة)
- تكلفة أقل (سياق أصغر)
- حتمية (بدون هلوسة)

## الأنماط الشائعة

**البحث عن ملفات التنفيذ**
__لا تترجم_10__

** البحث عن مواقع الاستخدام **
__لا تترجم_11__

** البحث عن التكوين **
__لا تترجم_12__

** أماهالتبعيات ع**
__لا تترجم_13__

## الوكلاء ذوو الصلة

- [`research`](/agents/research) - لإجراء بحث تقني أعمق يتجاوز التعليمات البرمجية
- [`mentor`](/agents/mentor) - غالبًا ما يستدعي استعلام قاعدة التعليمات البرمجية للسياق
- [`refactor`](/agents/refactor) - يستخدم نتائج الاستعلام للتخطيط لإعادة البناء
- [`devops`](/agents/devops) - يبحث عن رمز التكوين والبنية الأساسية

## الأنماط المضادة

**لا:**
- استخدم أدوات الكتابة/التحرير (أنت للقراءة فقط)
- تحميل قاعدة التعليمات البرمجية بأكملها في السياق
- تجاهل حالة الفهرس (التحقق/الإنشاء أولاً)
- إرجاع محتويات الملف الخام (إرجاع النتائج المنظمة)
- تجاوز ميزانية الرمز المميز (اقتطاع مع إشعار)

**افعل:**
- ترجمة اللغة الطبيعية إلى أنواع الاستعلام
- التحقق من حالة الفهرس قبل الاستعلام
- الجمع بين أنواع الاستعلام لعمليات البحث المعقدة
- إظهار عدد التطابقات ومسارات الملفات
- شرح ما تم البحث عنه وكيف