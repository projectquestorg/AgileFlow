---
title: Agentes de configuração
description: Agentes especializados para instalar e configurar recursos do AgileFlow
---
# Agentes de configuração

Os agentes de configuração são agentes especializados que ajudam a instalar e configurar vários recursos do AgileFlow. Eles são invocados através do comando __NOTRASLATE_13__.

## Visão geral

Ao executar __NOTRASLATE_14__, você verá um menu de opções de configuração. Cada opção gera um agente de configuração dedicado que o orienta durante a configuração.

```bash
/agileflow:configure
```

## Agentes de configuração disponíveis

### Sistema de Ganchos

**Agente**: __NOTRASLATE_15__

Configura o sistema de ganchos do Claude Code para automação orientada a eventos.

**O que configura:**
- Gancho SessionStart - Exibição de boas-vindas, status do projeto
- Gancho PreCompact - Preservação de contexto
- Parar gancho - Encerramento da sessão, aviso de alterações não confirmadas
- Gancho UserPromptSubmit - Registro de atividades

**Arquivos criados:**
- __NOTRASLATE_16__ - Configuração de ganchos
- __NOTRASLATE_17__ - Exibição de boas-vindas
- __NOTRASLATE_18__ - Preservação do contexto
- __NOTRASLATE_19__ - Encerramento da sessão
- __NOTRASLATE_20__ - Auxiliar de variável de ambiente

---

### Contexto pré-compacto

**Agente**: __NOTRASLATE_21__

Configura o gancho PreCompact para preservar o contexto crítico quando as conversas são compactadas.

**O que preserva:**
- Versão do projeto, branch git, histórias ativas
- Regras de comando ativas (por exemplo, requisito AskUserQuestion da babá)
- Principais convenções de CLAUDE.md
- Progresso recente de bus/log.jsonl

**Suporte a vários comandos (v2.40.0+):**
Vários comandos podem estar ativos simultaneamente. O gancho PreCompact lê todos os comandos ativos de `session-state.json` e preserva suas regras de comportamento.

---

### Arquivamento automático

**Agente**: __NOTRASLATE_23__

Configura o arquivamento automático de histórias antigas concluídas para manter __NOTRASLATE_24__ pequeno.

**Por que é importante:**
À medida que os projetos crescem, __NOTRASLATE_25__ pode exceder o limite de 25 mil tokens do Claude Code, causando falhas nos agentes. O arquivamento automático move histórias antigas concluídas para `status-archive.json`.

**Opções de configuração:**
- 30 dias (recomendado)
- 14 dias
- 7 dias
- 3 dias (agressivo)

**Arquivos criados:**
- __NOTRASLATE_27__ - Configuração de limite
- __NOTRASLATE_28__ - Script de arquivamento
- Entrada do gancho SessionStart - Executa o arquivamento automaticamente

---

### Atribuição Git

**Agente**: __NOTRASLATE_29__

Configura se Claude Code adiciona atribuição de IA aos commits do git.

**Opções:**
- **Desativar atribuição** - Commits limpos, sem rodapés de IA (uso profissional)
- **Manter atribuição** - Incluir rodapé "Gerado com Claude Code"

**O que faz:**
- Cria ou atualiza __NOTRASLATE_30__ com política de atribuição
- Adiciona seção CRÍTICA que Claude segue

---

### Linha de status

**Agente**: __NOTRASLATE_31__

Configura a barra de status personalizada exibida no Claude Code.

**O que mostra:**
- Branch Git (codificado por cores por tipo)
- ID e título da história atual
- Contagem WIP (amarelo se >1, vermelho se >3)
- Porcentagem de conclusão

**Exemplo de saída:**
```
[main] US-0007: Status Line | WIP: 2 | Done: 85%
```

---

### Pipeline de CI

**Agente**: __NOTRASLATE_32__

Configura o fluxo de trabalho de CI/CD para testes automatizados e verificações de qualidade.

**O que ele cria:**
-Arquivo de fluxo de trabalho do GitHub Actions
- Comandos de teste
- Configuração de linting
- Limites de cobertura

---

### Configuração do Git

**Agente**: __NOTRASLATE_33__

Configura a inicialização do repositório git e a configuração remota.

**O que faz:**
- Inicializa o repositório git, se necessário
- Configura origem remota
- Configura branch padrão
- Configura .gitignore

---

### Controle de Danos

**Agente**: __NOTRASLATE_34__

Configura o sistema de Controle de Danos para proteger contra comandos destrutivos.

**Níveis de proteção:**
- **Padrão** - Bloqueia padrões destrutivos comuns
- **Estrito** - Bloqueio mais agressivo
- **Permissivo** - Bloqueio mínimo

**O que bloqueia:**
- __NOTRASLATE_35__ e variantes
- Forçar push para filiais protegidas
- Banco de dados cai sem confirmação
- Exclusões de arquivos em massa

Consulte [Damage Control__NOTRASLATE_45__ para obter a documentação completa.

---

### Verifique a configuração

**Agente**: __NOTRASLATE_36__

Verifica se toda a configuração do AgileFlow está correta e funcionando.

**O que verifica:**
- Ganchos sistema configurado corretamente
- Existem diretórios obrigatórios
- Os scripts são executáveis
- Arquivos JSON são válidos
- Ganchos Git estão instalados

## Uso

### Configuração interativa

```bash
/agileflow:configure
```

Você verá opções como:
__NOTRADUZIR_3__

### Invocação direta do agente

Você também pode invocar agentes de configuração diretamente por meio da ferramenta Tarefa:

__NÃOTRADUZIR_4__

## Arquivos de configuração

### .claude/settings.json

Arquivo de configuração dos ganchos principais. Comprometido com o git.

__NOTRADUZIR_5__

### docs/00-meta/agileflow-metadata.json

Configuração de recursos e rastreamento de versão.

__NOTRADUZIR_6__

### .claude/settings.local.json

Substituições específicas do usuário. Gitignored.

__NÃOTRADUZIR_7__

## Melhores práticas

### 1. Comece com o sistema de ganchos

O sistema de ganchos é fundamental. Configure-o primeiro e depois adicione outros recursos.

__NÃOTRADUZIR_8__

### 2. Habilite o arquivamento automático antecipadamente

Para projetos com muitas histórias, habilite o arquivamento automático para evitar que status.json cresça muito.

### 3. Reinicie após a configuração

MósAs alterações de configuração exigem a reinicialização do Claude Code:

__NOTRADUZIR_9__

### 4. Verifique a configuração

Depois de fazer alterações, execute a verificação:

__NOTRADUZIR_10__

### 5. Teste scripts manualmente

Antes de confiar nos ganchos, teste os scripts manualmente:

__NOTRADUZIR_11__

## Solução de problemas

### Ganchos não funcionam

1. Verifique se __NOTRASLATE_37__ existe e é JSON válido
2. Verifique o formato da matriz de ganchos (deve usar o formato `matcher` + `hooks`)
3. Reinicie o Claude Code completamente

### Formato antigo detectado

Se você vir "Formato de ganchos antigo detectado", seu settings.json usa o formato obsoleto. Execute __NOTRASLATE_40__ → Hooks System para migrar.

### Scripts não encontrados

Certifique-se de que os scripts estejam no local correto:
- `scripts/agileflow-welcome.js`
- `scripts/precompact-context.sh`
- `scripts/get-env.js`

### Permissão negada

Torne os scripts executáveis:
```bash
chmod +x scripts/*.js scripts/*.sh
```

## Documentação Relacionada

- [Arquitetura do sistema de ganchos__NOTRASLATE_46__ - Documentação detalhada de ganchos
- [Contexto compacto__NOTRASLATE_47__ - Contextopreservação
- [Controle de danos__NOTRASLATE_48__ - Sistema de proteção
- [__NOTRASLATE_44____NOTRASLATE_49__ - Comando de configuração