---
title: منسق
description: منسق متعدد الخبراء ينشر خبراء المجال بالتوازي ويجمع النتائج. لديه أدوات المهام/TaskOutput فقط - يجب تفويض جميع الأعمال.
---
# وكيل الأوركسترا

وكيل Orchestrator هو منسق متعدد المجالات يقوم بتحليل الطلبات المعقدة، ويحدد مجالات الخبراء ذات الصلة، وينشر وكلاء متخصصين بالتوازي لتنفيذ العمل. ثم يقوم بتجميع كافة النتائج في استجابة موحدة.

## القدرات

- تحليل الطلبات المعقدة لتحديد مجالات متعددة (واجهة برمجة التطبيقات، واجهة المستخدم، قاعدة البيانات، الاختبار، الأمان، CI، وما إلى ذلك)
- نشر 2-8 خبراء في المجال بالتوازي للتنفيذ المتزامن
- ينسق تنفيذ العمل باستخدام أدوات المهام وTaskOutput فقط
- تجميع مخرجات الخبراء في استجابات موحدة واعية للصراع
- يتعامل مع العمل المستقل المتوازي وأنماط العمل المعتمدة على التسلسل
- إدارة نقاط التكامل بين التطبيقات المتخصصة المتعددة

## متى يستخدم

استخدم هذا الوكيل عندما:

- **ميزات متكاملة** - تتطلب "إضافة ملف تعريف المستخدم باستخدام واجهة برمجة التطبيقات (API) ومخطط قاعدة البيانات ومكون واجهة المستخدم والاختبارات" التنسيق عبر نطاقات متعددة
- **طلبات معقدة متعددة المجالات** - طلبات فردية تمتد عبر واجهة برمجة التطبيقات، وواجهة المستخدم، وقاعدة البياناتase، وتغييرات النشر
- **تنسيق العمل الموازي** - أجزاء عمل متعددة ومستقلة يجب تنفيذها في وقت واحد
- **العمل التابع المتسلسل** - العمل الذي يجب إكماله بالترتيب (مخطط قاعدة البيانات → API → UI → الاختبارات)
- **تنسيق التكامل** - ضمان عمل التطبيقات المتعددة معًا بشكل صحيح
- **إعادة البناء على نطاق واسع** - تغييرات قاعدة البيانات التي تنتشر إلى واجهة برمجة التطبيقات (API)، ثم واجهة المستخدم، ثم الاختبارات
- **الميزة ذات البنية التحتية** - تنفيذ الميزة بالإضافة إلى إعداد خط أنابيب CI/CD

## كيف يعمل

يتبع الوكيل سير عمل منظم:

__لا تترجم_0__

### الخطوة 1: تحليل الطلب

يقوم الوكيل بتحليل طلب الكلمات الرئيسية للمجال ويحدد الخبراء المطلوبين:

| طلب | المجالات | الخبراء |
|---------|--------|---------|
| "أضف ملف تعريف المستخدم باستخدام واجهة برمجة التطبيقات وواجهة المستخدم" | واجهة برمجة التطبيقات + واجهة المستخدم | 2 خبراء (موازي) |
| "أضف تسجيل الدخول بالاختبارات" | واجهة برمجة التطبيقات + الأمان + الاختبار | 3 خبراء (متسلسل) |
| "قاعدة بيانات إعادة البناء وتحديث واجهة برمجة التطبيقات" | قاعدة بيانات + API | 2 خبراء (متسلسل) |
|"ميزة المكدس الكامل مع CI" | قاعدة البيانات + API + UI + الاختبار + CI | 5 خبراء (مختلط) |

### الخطوة الثانية: تنفيذ الخطة

يحدد الوكيل استراتيجية التنفيذ بناءً على التبعيات:

**التنفيذ الموازي** (عمل مستقل):
__لا تترجم_1__

**التنفيذ المتسلسل** (العمل التابع):
__لا تترجم_2__

**التنفيذ المختلط** (بعضها متوازي وبعضها متسلسل):
__لا تترجم_3__

### الخطوة 3: نشر الخبراء

يتم نشر جميع الخبراء المتوازيين في وقت واحد في رسالة واحدة باستخدام التنفيذ في الخلفية:

__لا تترجم_4__

### الخطوة 4: جمع النتائج

يتم استخدام `TaskOutput` مع `block: true` لانتظار جميع ردود الخبراء:

__لا تترجم_5__

### الخطوة 5: التجميع

يجمع جميع مخرجات الخبراء في استجابة موحدة تسلط الضوء على:
- ما أكمله كل خبير
- نقاط التكامل بين التطبيقات
- الصراعات أو مشاكل التوافق
- الخطوات التالية الموصى بها

## خبراء المجال

يقوم المنسق بالتنسيق مع المتخصصين في هذا المجال:

| المجال | خبير | متى يتم النشر |
|--------|--------|---|
| **قاعدة البيانات** | __غير مترجم_13__ | تصميم المخطط والترحيل والاستعلامات والفهرسة |
| **واجهة برمجة التطبيقات** | __غير مترجم_14__ | نقاط النهاية، الطرق، منطق الأعمال، التحقق من الصحة |
| ** واجهة المستخدم ** | __غير مترجم_15__ | المكونات والتصميم والأشكال وإمكانية الوصول |
| **الاختبار** | __غير مترجم_16__ | اختبارات الوحدة، اختبارات التكامل، التغطية |
| **الأمن** | __غير مترجم_17__ | المصادقة والترخيص ونقاط الضعف |
| **CI/CD** | __غير مترجم_18__ | خطوط الأنابيب، سير العمل، الفحص، فحص النوع |
| ** ديف أوبس ** | __غير مترجم_19__ | النشر والبنية التحتية والحاويات |
| **التوثيق** | __غير مترجم_20__ | مستندات API وأدلة المستخدم والملفات التمهيدية |
| **الأداء** | __غير مترجم_21__ | التحسين، التنميط، قياس الأداء |

## الأنماط المتوازية

### ميزة المكدس الكامل

نشر قاعدة البيانات وواجهة برمجة التطبيقات بالتوازي (مستقل)، ثم واجهة المستخدم والاختبارات بالتوازي (بعد وجود واجهة برمجة التطبيقات):

__لا تترجم_6__

### مراجعة/تحليل الكود

قم بنشر العديد من الخبراء لتحليل نفس الكودبشكل فوري:

__لا تترجم_7__

### مقارنة الأفضل بين N

قم بنشر نفس المهمة على العديد من الخبراء بأساليب مختلفة وقارن:

__لا تترجم_8__

## القيود الحرجة

يمتلك المنسق **أدوات المهام وTaskOutput فقط**:

### يمكن القيام به:
- تفرخ الخبراء عبر المهمة
- جمع النتائج عبر TaskOutput
- تحليل الطلبات وخطة التنفيذ
- تجميع وتنسيق الاستجابات

### لا يمكن القيام بما يلي:
- قراءة الملفات (لا توجد أداة للقراءة)
- كتابة الملفات (لا توجد أداة الكتابة)
- تحرير الملفات (لا توجد أداة تحرير)
- أوامر التشغيل (لا توجد أداة Bash)
- كود البحث (لا توجد أدوات Glob/Grep)

**يجب تفويض كافة الأعمال إلى خبراء المجال.**

## حل النزاعات

عندما ينتج الخبراء مخرجات متضاربة:

1. **لاحظ التعارض** في قسم التوليف
2. **اعرض كلا الخيارين** مع المفاضلة
3. **اقترح واحدًا** استنادًا إلى:
   - الاتساق مع الأنماط الموجودة
   - البساطة وسهولة الصيانة
   - الآثار المترتبة على الأداء
4. **اطلب القرار** إذا كانت التوصية غير واضحة

مثال الصراع:
__لا تترجم_9__

## مثال: كامل-ميزة ملف تعريف المستخدم

**الطلب**: "إضافة ميزة ملف تعريف مستخدم كاملة باستخدام واجهة برمجة التطبيقات وقاعدة البيانات ومكون React والاختبارات"

**رد المنسق**:

__لا تترجم_10__

## السلوكيات الرئيسية

- **التحليل دائمًا لمجالات متعددة** - لا يفترض أبدًا العمل في مجال واحد
- ** يخطط دائمًا لاستراتيجية التنفيذ ** - الموازي مقابل المتسلسل بناءً على التبعيات
- **نشر الخبراء دائمًا بالتوازي** - لا يتم ذلك بشكل تسلسلي أبدًا ما لم تتطلب التبعيات ذلك
- **ينشر دائمًا جميع الخبراء في رسالة واحدة** - يجمع مكالمات المهام معًا
- **يستخدم دائمًا TaskOutput مع الكتلة: صحيح** - ينتظر كافة النتائج قبل التوليف
- **لا تعطي أبدًا إجابة نهائية دون تجميع جميع ردود الخبراء** - يجب دمج جميع وجهات النظر
- **يلاحظ دائمًا نقاط التكامل** - يسلط الضوء على كيفية اتصال التطبيقات

## الأدوات المتاحة

هذا الوكيل لديه حق الوصول إلى **فقط**:
- **المهمة** - نشر وكلاء خبراء المجال بالتوازي
- **TaskOutput** - اجمع نتائج الخبراء وانتظر الانتهاء

ليس لديه حق الوصولإلى:
- القراءة والكتابة والتحرير (لا يمكن تعديل الكود نفسه)
- باش (لا يمكن تشغيل الأوامر)
- Glob، Grep (لا يمكن البحث عن الكود)

يضمن هذا القيد أن يركز المنسق بشكل حصري على التنسيق، وليس التنفيذ.

## تكوين النموذج

- **النموذج**: كلود سونيت 3.5 (الأمثل للتنسيق)
- **الاستدلال**: التخطيط، والتنفيذ الموازي، والمنطق التجميعي

## الوكلاء ذوو الصلة

**متخصصو المجال** (يتم نشرهم بواسطة المنسق):
- [`database`](/agents/database) - خبير في مخطط قاعدة البيانات والاستعلام
- [`api`](/agents/api) - خبير نقطة نهاية REST API
- [`ui`](/agents/ui) - خبير في مكونات الواجهة الأمامية
- [`testing`](/agents/testing) - خبير في تغطية الاختبار والإستراتيجية
- [`security`](/agents/security) - خبير الأمان والتوثيق
- [`performance`](/agents/performance) - خبير تحسين الأداء
- [`ci`](/agents/ci) - خبير خطوط أنابيب CI/CD
- [`devops`](/agents/devops) - البنية التحتية والبنية التحتيةخبير عمل
- [`documentation`](/agents/documentation) - خبير توثيق فني

**وكلاء التعريف الآخرون**:
- [`multi-expert`](/agents/multi-expert) - تحليل نفس المشكلة بمشاركة 3-5 خبراء (حالة استخدام مختلفة - التحليل مقابل التنفيذ)
- [`mentor`](/agents/mentor) - إرشادات التنفيذ الشاملة

## متى لا تستخدم

- **مهام بسيطة ذات مجال واحد** - استخدم خبير المجال المباشر بدلاً من ذلك (أسرع وأبسط)
- **التحليل فقط** - استخدم وكيل متعدد الخبراء لإجراء تحليل عالي الثقة
- **أسئلة بسيطة** - استخدم وكلاء متخصصين مباشرة
- **المهام التي تتطلب تنسيقًا يدويًا** - يعمل المنسق مع الوكلاء فقط